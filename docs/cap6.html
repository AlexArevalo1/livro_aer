<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo6 Guia de bolso de gráficos no R | Análises Ecológicas no R</title>
  <meta name="description" content="Capítulo6 Guia de bolso de gráficos no R | Análises Ecológicas no R" />
  <meta name="generator" content="bookdown 0.22.17 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo6 Guia de bolso de gráficos no R | Análises Ecológicas no R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo6 Guia de bolso de gráficos no R | Análises Ecológicas no R" />
  
  
  



<meta name="date" content="2021-08-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cap5.html"/>
<link rel="next" href="referências-1.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Análises Ecológicas no R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Capa</a></li>
<li class="chapter" data-level="" data-path="prefácio.html"><a href="prefácio.html"><i class="fa fa-check"></i>Prefácio</a></li>
<li class="chapter" data-level="1" data-path="base-r.html"><a href="base-r.html"><i class="fa fa-check"></i><b>1</b> Pré-requisitos</a>
<ul>
<li class="chapter" data-level="1.1" data-path="base-r.html"><a href="base-r.html#introdução"><i class="fa fa-check"></i><b>1.1</b> Introdução</a></li>
<li class="chapter" data-level="1.2" data-path="base-r.html"><a href="base-r.html#pacotes"><i class="fa fa-check"></i><b>1.2</b> Pacotes</a></li>
<li class="chapter" data-level="1.3" data-path="base-r.html"><a href="base-r.html#versão-do-r"><i class="fa fa-check"></i><b>1.3</b> Versão do R</a></li>
<li class="chapter" data-level="1.4" data-path="base-r.html"><a href="base-r.html#dados"><i class="fa fa-check"></i><b>1.4</b> Dados</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cap2.html"><a href="cap2.html"><i class="fa fa-check"></i><b>2</b> Introdução</a>
<ul>
<li class="chapter" data-level="2.1" data-path="cap2.html"><a href="cap2.html#histórico-deste-livro"><i class="fa fa-check"></i><b>2.1</b> Histórico deste livro</a></li>
<li class="chapter" data-level="2.2" data-path="cap2.html"><a href="cap2.html#objetivo-deste-livro"><i class="fa fa-check"></i><b>2.2</b> Objetivo deste livro</a></li>
<li class="chapter" data-level="2.3" data-path="cap2.html"><a href="cap2.html#o-que-você-não-encontrará-neste-livro"><i class="fa fa-check"></i><b>2.3</b> O que você não encontrará neste livro</a></li>
<li class="chapter" data-level="2.4" data-path="cap2.html"><a href="cap2.html#por-que-usar-o-r"><i class="fa fa-check"></i><b>2.4</b> Por que usar o R?</a></li>
<li class="chapter" data-level="2.5" data-path="cap2.html"><a href="cap2.html#indo-além-da-linguagem-de-progração-para-a-ecologia"><i class="fa fa-check"></i><b>2.5</b> Indo além da linguagem de progração para a Ecologia</a></li>
<li class="chapter" data-level="2.6" data-path="cap2.html"><a href="cap2.html#como-usar-este-livro"><i class="fa fa-check"></i><b>2.6</b> Como usar este livro</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cap3.html"><a href="cap3.html"><i class="fa fa-check"></i><b>3</b> Voltando ao básico: como dominar a arte de fazer perguntas cientificamente relevantes</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cap3.html"><a href="cap3.html#introdução-1"><i class="fa fa-check"></i><b>3.1</b> Introdução</a></li>
<li class="chapter" data-level="3.2" data-path="cap3.html"><a href="cap3.html#perguntas-devem-preceder-as-análises-estatísticas"><i class="fa fa-check"></i><b>3.2</b> Perguntas devem preceder as análises estatísticas</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="cap3.html"><a href="cap3.html#um-bestiário1-para-o-teste-de-hipóteses-você-está-fazendo-a-pergunta-certa"><i class="fa fa-check"></i><b>3.2.1</b> Um bestiário para o teste de hipóteses (Você está fazendo a pergunta certa?)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="cap3.html"><a href="cap3.html#fluxograma-conectando-variáveis-para-melhorar-o-desenho-experimental-e-as-análises-estatísticas"><i class="fa fa-check"></i><b>3.3</b> Fluxograma: Conectando Variáveis para Melhorar o desenho experimental e as análises estatísticas</a></li>
<li class="chapter" data-level="3.4" data-path="cap3.html"><a href="cap3.html#questões-fundamentais-em-etnobiologia-ecologia-e-conservação"><i class="fa fa-check"></i><b>3.4</b> Questões fundamentais em etnobiologia, ecologia e conservação</a></li>
<li class="chapter" data-level="3.5" data-path="cap3.html"><a href="cap3.html#considerações-finais"><i class="fa fa-check"></i><b>3.5</b> Considerações Finais</a></li>
<li class="chapter" data-level="3.6" data-path="cap3.html"><a href="cap3.html#referências"><i class="fa fa-check"></i><b>3.6</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="cap4.html"><a href="cap4.html"><i class="fa fa-check"></i><b>4</b> Introdução ao R</a>
<ul>
<li class="chapter" data-level="" data-path="cap4.html"><a href="cap4.html#pré-requisitos-do-capítulo"><i class="fa fa-check"></i>Pré-requisitos do capítulo</a></li>
<li class="chapter" data-level="4.1" data-path="cap4.html"><a href="cap4.html#contextualização"><i class="fa fa-check"></i><b>4.1</b> Contextualização</a></li>
<li class="chapter" data-level="4.2" data-path="cap4.html"><a href="cap4.html#r-e-rstudio"><i class="fa fa-check"></i><b>4.2</b> R e RStudio</a></li>
<li class="chapter" data-level="4.3" data-path="cap4.html"><a href="cap4.html#funcionamento-da-linguagem-r"><i class="fa fa-check"></i><b>4.3</b> Funcionamento da linguagem R</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="cap4.html"><a href="cap4.html#console"><i class="fa fa-check"></i><b>4.3.1</b> Console</a></li>
<li class="chapter" data-level="4.3.2" data-path="cap4.html"><a href="cap4.html#scripts"><i class="fa fa-check"></i><b>4.3.2</b> Scripts</a></li>
<li class="chapter" data-level="4.3.3" data-path="cap4.html"><a href="cap4.html#operadores"><i class="fa fa-check"></i><b>4.3.3</b> Operadores</a></li>
<li class="chapter" data-level="4.3.4" data-path="cap4.html"><a href="cap4.html#objetos"><i class="fa fa-check"></i><b>4.3.4</b> Objetos</a></li>
<li class="chapter" data-level="4.3.5" data-path="cap4.html"><a href="cap4.html#funções"><i class="fa fa-check"></i><b>4.3.5</b> Funções</a></li>
<li class="chapter" data-level="4.3.6" data-path="cap4.html"><a href="cap4.html#pacotes-1"><i class="fa fa-check"></i><b>4.3.6</b> Pacotes</a></li>
<li class="chapter" data-level="4.3.7" data-path="cap4.html"><a href="cap4.html#ajuda-help"><i class="fa fa-check"></i><b>4.3.7</b> Ajuda (<em>Help</em>)</a></li>
<li class="chapter" data-level="4.3.8" data-path="cap4.html"><a href="cap4.html#ambiente-environment"><i class="fa fa-check"></i><b>4.3.8</b> Ambiente (<em>Environment</em>)</a></li>
<li class="chapter" data-level="4.3.9" data-path="cap4.html"><a href="cap4.html#citações"><i class="fa fa-check"></i><b>4.3.9</b> Citações</a></li>
<li class="chapter" data-level="4.3.10" data-path="cap4.html"><a href="cap4.html#principais-erros-de-iniciantes"><i class="fa fa-check"></i><b>4.3.10</b> Principais erros de iniciantes</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="cap4.html"><a href="cap4.html#estrutura-e-manipulação-de-objetos"><i class="fa fa-check"></i><b>4.4</b> Estrutura e manipulação de objetos</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="cap4.html"><a href="cap4.html#atributo-dos-objetos"><i class="fa fa-check"></i><b>4.4.1</b> Atributo dos objetos</a></li>
<li class="chapter" data-level="4.4.2" data-path="cap4.html"><a href="cap4.html#manipulação-de-objetos-unidimensionais"><i class="fa fa-check"></i><b>4.4.2</b> Manipulação de objetos unidimensionais</a></li>
<li class="chapter" data-level="4.4.3" data-path="cap4.html"><a href="cap4.html#manipulação-de-objetos-multidimensionais"><i class="fa fa-check"></i><b>4.4.3</b> Manipulação de objetos multidimensionais</a></li>
<li class="chapter" data-level="4.4.4" data-path="cap4.html"><a href="cap4.html#valores-faltantes-e-especiais"><i class="fa fa-check"></i><b>4.4.4</b> Valores faltantes e especiais</a></li>
<li class="chapter" data-level="4.4.5" data-path="cap4.html"><a href="cap4.html#diretório-de-trabalho"><i class="fa fa-check"></i><b>4.4.5</b> Diretório de trabalho</a></li>
<li class="chapter" data-level="4.4.6" data-path="cap4.html"><a href="cap4.html#importar-dados"><i class="fa fa-check"></i><b>4.4.6</b> Importar dados</a></li>
<li class="chapter" data-level="4.4.7" data-path="cap4.html"><a href="cap4.html#conferência-dos-dados-importados"><i class="fa fa-check"></i><b>4.4.7</b> Conferência dos dados importados</a></li>
<li class="chapter" data-level="4.4.8" data-path="cap4.html"><a href="cap4.html#exportar-dados"><i class="fa fa-check"></i><b>4.4.8</b> Exportar dados</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="cap4.html"><a href="cap4.html#exercícios"><i class="fa fa-check"></i><b>4.5</b> Exercícios</a></li>
<li class="chapter" data-level="4.6" data-path="cap4.html"><a href="cap4.html#para-se-aprofundar"><i class="fa fa-check"></i><b>4.6</b> Para se aprofundar</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="cap4.html"><a href="cap4.html#livros"><i class="fa fa-check"></i><b>4.6.1</b> Livros</a></li>
<li class="chapter" data-level="4.6.2" data-path="cap4.html"><a href="cap4.html#links"><i class="fa fa-check"></i><b>4.6.2</b> Links</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cap5.html"><a href="cap5.html"><i class="fa fa-check"></i><b>5</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="cap5.html"><a href="cap5.html#pré-requisitos-do-capítulo-1"><i class="fa fa-check"></i>Pré-requisitos do capítulo</a></li>
<li class="chapter" data-level="5.1" data-path="cap5.html"><a href="cap5.html#contextualização-1"><i class="fa fa-check"></i><b>5.1</b> Contextualização</a></li>
<li class="chapter" data-level="5.2" data-path="cap5.html"><a href="cap5.html#tidyverse"><i class="fa fa-check"></i><b>5.2</b> <em>tidyverse</em></a></li>
<li class="chapter" data-level="5.3" data-path="cap5.html"><a href="cap5.html#here"><i class="fa fa-check"></i><b>5.3</b> here</a></li>
<li class="chapter" data-level="5.4" data-path="cap5.html"><a href="cap5.html#readr-readxl-e-writexl"><i class="fa fa-check"></i><b>5.4</b> readr, readxl e writexl</a></li>
<li class="chapter" data-level="5.5" data-path="cap5.html"><a href="cap5.html#tibble"><i class="fa fa-check"></i><b>5.5</b> tibble</a></li>
<li class="chapter" data-level="5.6" data-path="cap5.html"><a href="cap5.html#magrittr-pipe--"><i class="fa fa-check"></i><b>5.6</b> magrittr (pipe - %&gt;%)</a></li>
<li class="chapter" data-level="5.7" data-path="cap5.html"><a href="cap5.html#tidyr"><i class="fa fa-check"></i><b>5.7</b> tidyr</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="cap5.html"><a href="cap5.html#palmerpenguins"><i class="fa fa-check"></i><b>5.7.1</b> palmerpenguins</a></li>
<li class="chapter" data-level="5.7.2" data-path="cap5.html"><a href="cap5.html#glimpse"><i class="fa fa-check"></i><b>5.7.2</b> glimpse()</a></li>
<li class="chapter" data-level="5.7.3" data-path="cap5.html"><a href="cap5.html#unite"><i class="fa fa-check"></i><b>5.7.3</b> unite()</a></li>
<li class="chapter" data-level="5.7.4" data-path="cap5.html"><a href="cap5.html#separate"><i class="fa fa-check"></i><b>5.7.4</b> separate()</a></li>
<li class="chapter" data-level="5.7.5" data-path="cap5.html"><a href="cap5.html#drop_na-e-replace_na"><i class="fa fa-check"></i><b>5.7.5</b> drop_na() e replace_na()</a></li>
<li class="chapter" data-level="5.7.6" data-path="cap5.html"><a href="cap5.html#pivot_longer-e-pivot_wider"><i class="fa fa-check"></i><b>5.7.6</b> pivot_longer() e pivot_wider()</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="cap5.html"><a href="cap5.html#dplyr"><i class="fa fa-check"></i><b>5.8</b> dplyr</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="cap5.html"><a href="cap5.html#gramática"><i class="fa fa-check"></i><b>5.8.1</b> Gramática</a></li>
<li class="chapter" data-level="5.8.2" data-path="cap5.html"><a href="cap5.html#sintaxe"><i class="fa fa-check"></i><b>5.8.2</b> Sintaxe</a></li>
<li class="chapter" data-level="5.8.3" data-path="cap5.html"><a href="cap5.html#palmerpenguins-1"><i class="fa fa-check"></i><b>5.8.3</b> palmerpenguins</a></li>
<li class="chapter" data-level="5.8.4" data-path="cap5.html"><a href="cap5.html#relocate"><i class="fa fa-check"></i><b>5.8.4</b> relocate()</a></li>
<li class="chapter" data-level="5.8.5" data-path="cap5.html"><a href="cap5.html#rename"><i class="fa fa-check"></i><b>5.8.5</b> rename()</a></li>
<li class="chapter" data-level="5.8.6" data-path="cap5.html"><a href="cap5.html#select"><i class="fa fa-check"></i><b>5.8.6</b> select()</a></li>
<li class="chapter" data-level="5.8.7" data-path="cap5.html"><a href="cap5.html#pull"><i class="fa fa-check"></i><b>5.8.7</b> pull()</a></li>
<li class="chapter" data-level="5.8.8" data-path="cap5.html"><a href="cap5.html#mutate"><i class="fa fa-check"></i><b>5.8.8</b> mutate()</a></li>
<li class="chapter" data-level="5.8.9" data-path="cap5.html"><a href="cap5.html#arrange"><i class="fa fa-check"></i><b>5.8.9</b> arrange()</a></li>
<li class="chapter" data-level="5.8.10" data-path="cap5.html"><a href="cap5.html#filter"><i class="fa fa-check"></i><b>5.8.10</b> filter()</a></li>
<li class="chapter" data-level="5.8.11" data-path="cap5.html"><a href="cap5.html#slice"><i class="fa fa-check"></i><b>5.8.11</b> slice()</a></li>
<li class="chapter" data-level="5.8.12" data-path="cap5.html"><a href="cap5.html#distinct"><i class="fa fa-check"></i><b>5.8.12</b> distinct()</a></li>
<li class="chapter" data-level="5.8.13" data-path="cap5.html"><a href="cap5.html#count"><i class="fa fa-check"></i><b>5.8.13</b> count()</a></li>
<li class="chapter" data-level="5.8.14" data-path="cap5.html"><a href="cap5.html#group_by"><i class="fa fa-check"></i><b>5.8.14</b> group_by()</a></li>
<li class="chapter" data-level="5.8.15" data-path="cap5.html"><a href="cap5.html#summarise"><i class="fa fa-check"></i><b>5.8.15</b> summarise()</a></li>
<li class="chapter" data-level="5.8.16" data-path="cap5.html"><a href="cap5.html#bind_rows-e-bind_cols"><i class="fa fa-check"></i><b>5.8.16</b> bind_rows() e bind_cols()</a></li>
<li class="chapter" data-level="5.8.17" data-path="cap5.html"><a href="cap5.html#join"><i class="fa fa-check"></i><b>5.8.17</b> *_join()</a></li>
<li class="chapter" data-level="5.8.18" data-path="cap5.html"><a href="cap5.html#operações-de-conjuntos-e-comparação-de-dados"><i class="fa fa-check"></i><b>5.8.18</b> Operações de conjuntos e comparação de dados</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="cap5.html"><a href="cap5.html#stringr"><i class="fa fa-check"></i><b>5.9</b> stringr</a></li>
<li class="chapter" data-level="5.10" data-path="cap5.html"><a href="cap5.html#forcats"><i class="fa fa-check"></i><b>5.10</b> forcats</a></li>
<li class="chapter" data-level="5.11" data-path="cap5.html"><a href="cap5.html#lubridate"><i class="fa fa-check"></i><b>5.11</b> lubridate</a></li>
<li class="chapter" data-level="5.12" data-path="cap5.html"><a href="cap5.html#purrr"><i class="fa fa-check"></i><b>5.12</b> purrr</a></li>
<li class="chapter" data-level="5.13" data-path="cap5.html"><a href="cap5.html#exercícios-1"><i class="fa fa-check"></i><b>5.13</b> Exercícios</a></li>
<li class="chapter" data-level="5.14" data-path="cap5.html"><a href="cap5.html#para-se-aprofundar-1"><i class="fa fa-check"></i><b>5.14</b> Para se aprofundar</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="cap6.html"><a href="cap6.html"><i class="fa fa-check"></i><b>6</b> Guia de bolso de gráficos no R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="cap6.html"><a href="cap6.html#introdução-2"><i class="fa fa-check"></i><b>6.1</b> 1. Introdução</a></li>
<li class="chapter" data-level="6.2" data-path="cap6.html"><a href="cap6.html#pacotes-necessários"><i class="fa fa-check"></i><b>6.2</b> 2. Pacotes necessários</a></li>
<li class="chapter" data-level="6.3" data-path="cap6.html"><a href="cap6.html#principais-pacotes"><i class="fa fa-check"></i><b>6.3</b> Principais pacotes</a></li>
<li class="chapter" data-level="6.4" data-path="cap6.html"><a href="cap6.html#grámatica-dos-gráficos"><i class="fa fa-check"></i><b>6.4</b> 3. Grámatica dos gráficos</a></li>
<li class="chapter" data-level="6.5" data-path="cap6.html"><a href="cap6.html#tipos-de-gráficos"><i class="fa fa-check"></i><b>6.5</b> 4. Tipos de gráficos</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="cap6.html"><a href="cap6.html#histograma-histogram"><i class="fa fa-check"></i><b>6.5.1</b> 4.1. Histograma (<em>histogram</em>)</a></li>
<li class="chapter" data-level="6.5.2" data-path="cap6.html"><a href="cap6.html#gráfico-de-densidade-density-plot"><i class="fa fa-check"></i><b>6.5.2</b> 4.2 Gráfico de densidade (<em>density plot</em>)</a></li>
<li class="chapter" data-level="6.5.3" data-path="cap6.html"><a href="cap6.html#dot"><i class="fa fa-check"></i><b>6.5.3</b> 4.3. Diagrama de pontos (<em>dot plot</em>)</a></li>
<li class="chapter" data-level="6.5.4" data-path="cap6.html"><a href="cap6.html#bars"><i class="fa fa-check"></i><b>6.5.4</b> 4.4. Gráfico de barras (<em>bar plot</em>)</a></li>
<li class="chapter" data-level="6.5.5" data-path="cap6.html"><a href="cap6.html#gráfico-de-setores-pie-chart-e-donut-chart"><i class="fa fa-check"></i><b>6.5.5</b> 4.5. Gráfico de setores (<em>pie chart</em> e <em>donut chart</em>)</a></li>
<li class="chapter" data-level="6.5.6" data-path="cap6.html"><a href="cap6.html#gráfico-de-caixa-boxplot"><i class="fa fa-check"></i><b>6.5.6</b> 4.6. Gráfico de caixa (<em>boxplot</em>)</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="cap6.html"><a href="cap6.html#gráfico-de-dispersão-scatter-plot"><i class="fa fa-check"></i><b>6.6</b> 4.7. Gráfico de dispersão (<em>scatter plot</em>)</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="cap6.html"><a href="cap6.html#versão-padrão-5"><i class="fa fa-check"></i><b>6.6.1</b> 4.7.1. Versão padrão</a></li>
<li class="chapter" data-level="6.6.2" data-path="cap6.html"><a href="cap6.html#definindo-a-cor-tamanho-forma-e-preenchimento-dos-pontos"><i class="fa fa-check"></i><b>6.6.2</b> 4.7.2. Definindo a cor, tamanho, forma e preenchimento dos pontos</a></li>
<li class="chapter" data-level="6.6.3" data-path="cap6.html"><a href="cap6.html#definindo-linhas-de-ajuste"><i class="fa fa-check"></i><b>6.6.3</b> 4.7.3. Definindo linhas de ajuste</a></li>
<li class="chapter" data-level="6.6.4" data-path="cap6.html"><a href="cap6.html#ajustes-finos-versão-personalizada-5"><i class="fa fa-check"></i><b>6.6.4</b> 4.7.4. Ajustes finos (versão personalizada)</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="cap6.html"><a href="cap6.html#visualização-de-múltiplos-gráficos-pareados"><i class="fa fa-check"></i><b>6.7</b> 4.8. Visualização de múltiplos gráficos pareados</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="cap6.html"><a href="cap6.html#gráfico-pareado-com-variáveis-contínuas"><i class="fa fa-check"></i><b>6.7.1</b> 4.8.1. Gráfico pareado com variáveis contínuas</a></li>
<li class="chapter" data-level="6.7.2" data-path="cap6.html"><a href="cap6.html#gráfico-pareado-com-vários-tipos-de-variáveis"><i class="fa fa-check"></i><b>6.7.2</b> 4.8.2. Gráfico pareado com vários tipos de variáveis</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="cap6.html"><a href="cap6.html#erros-comuns-dos-usuários-do-ggplot2-e-como-evitá-los"><i class="fa fa-check"></i><b>6.8</b> 5. Erros comuns dos usuários do <code>ggplot2</code> e como evitá-los</a></li>
<li class="chapter" data-level="6.9" data-path="cap6.html"><a href="cap6.html#finalização-de-gráficos-para-publicação"><i class="fa fa-check"></i><b>6.9</b> 6. Finalização de gráficos para publicação</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="cap6.html"><a href="cap6.html#posição-cores-e-fonte-da-legenda"><i class="fa fa-check"></i><b>6.9.1</b> 6.1. Posição, cores e fonte da legenda</a></li>
<li class="chapter" data-level="6.9.2" data-path="cap6.html"><a href="cap6.html#elementos-gráficos-eixo-fonte-grid"><i class="fa fa-check"></i><b>6.9.2</b> 6.2. Elementos gráficos: eixo, fonte, grid</a></li>
<li class="chapter" data-level="6.9.3" data-path="cap6.html"><a href="cap6.html#temas-personalizados-ggtheme-existem-vários-temas-criados-dentro-do-universo-ggtheme-que-podem-facilitar"><i class="fa fa-check"></i><b>6.9.3</b> 6.3. Temas personalizados <code>ggtheme()</code> Existem vários temas criados dentro do universo ggtheme() que podem facilitar</a></li>
<li class="chapter" data-level="6.9.4" data-path="cap6.html"><a href="cap6.html#criando-seu-próprio-theme_custom"><i class="fa fa-check"></i><b>6.9.4</b> 6.4. Criando seu próprio <code>theme_custom()</code></a></li>
<li class="chapter" data-level="6.9.5" data-path="cap6.html"><a href="cap6.html#exportando-dados-com-alta-qualidade-com-a-função-ggsave"><i class="fa fa-check"></i><b>6.9.5</b> 6.5. Exportando dados com alta qualidade com a função <code>ggsave()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="cap6.html"><a href="cap6.html#check-list-para-garantir-bons-gráficos"><i class="fa fa-check"></i><b>6.10</b> Check-list para garantir bons gráficos</a></li>
<li class="chapter" data-level="6.11" data-path="cap6.html"><a href="cap6.html#para-se-aprofundar-2"><i class="fa fa-check"></i><b>6.11</b> Para se aprofundar</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="cap6.html"><a href="cap6.html#livros-1"><i class="fa fa-check"></i><b>6.11.1</b> Livros</a></li>
<li class="chapter" data-level="6.11.2" data-path="cap6.html"><a href="cap6.html#links-1"><i class="fa fa-check"></i><b>6.11.2</b> Links</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="referências-1.html"><a href="referências-1.html"><i class="fa fa-check"></i>Referências</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Análises Ecológicas no R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cap6" class="section level1" number="6">
<h1><span class="header-section-number">Capítulo6</span> Guia de bolso de gráficos no R</h1>
<div id="introdução-2" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> 1. Introdução</h2>
<p>A visualização de dados através de gráficos geralmente é a melhor forma
de apresentar e interpretar as informações contidas em seus estudos,
fazendo uma uma síntese para melhor entendimento de padrões. Geralmente,
os gráficos são necessários em quase todas as análises estatísticas,
além de enriquecer a argumentação e discussão de hipóteses levatandas
para publicações, trabalhos de consultoria, TCC, dissertação, tese,
entre outros.</p>
<p>Existem vários tipos de gráficos para representar os padrões em seus
dados para diferentes tipos de finalidades. Esses diferentes tipos de
gráficos podem até mesmo ser usados para representar o mesmo tipo de
dado. Nesta seção, focaremos nos gráficos mais simples, para representar
uma ou duas variáveis (i.e., gráficos bidimensionais).</p>
<p>Os gráficos mais indicados para representar um conunto de dados mudam
dependendo do tipo de variável (categórica ou contínua - veja os tipos
no Capítulo <a href="cap3.html#cap3">3</a>). De forma simplificada, os
gráficos são representações dos nossos dados tabulares. Os eixos de um
gráfico representam as colunas (variáveis) e as atributos estéticos
(<em>asesthetics:</em> pontos, linhas, barras, caixas, etc.) representam as
linhas da tabela.</p>
<p>Geralmente, os gráficos vão ser a representação de uma ou duas colunas,
quando muito três, em gráficos de três dimensões. Para mais colunas,
partimos para dados agregados que são vistos nos capítulo de análise
multivariada. Além disso, a utilização de mais de duas colunas pode
estar relacionado com outros atributos estéticos (<code>aes()</code>) do gráfico
como cor, forma e tamanho de pontos e linhas.</p>
<p>Dessa forma, dedicamos esse capítulo inteiramente a apresentar os
principais conceitos, como a gramática de gráficos, e uma apresentação
geral que pode funcionar como “um guia de bolso” de gráficos, uma vez
que apresentamos os principais tipos de gráficos para análises
ecológicas. Além disso, no último tópico deste capítulo focamos na
finalização (ajustes finos) de gráficos para publicação. Este capítulo
fornece as bases conceitual e prática necessária para enteder a
visualização gráfica apresentada nos capítulos 6 a 14.</p>
<p>Existe uma ampla gama de pacotes para fazer gráficos no R, sendo esse um
ponto muito forte dessa linguagem. Além disso, a ampla disponibilidade
de pacotes e funções permitem a visualização dos mais diferentes tipos
de dados, o que torna a linguagem R com alta praticidade, uma vez que a
maior parte dos pacotes possui uma sintaxe relativamente simples para a
apresentação de gráficos excelentes e de ótima qualidade. Mais adiante
no Capítulo 14, ampliamos a discussão da visualização gráfica com
ferramentas para construção de mapas no R.</p>
<p>Este capítulo foi organizdo em quatro partes: (i) principais pacotes,
(ii) gramáticas dos gráficos, (iii) um guia de bolso para visualização
de vários gráficos no R, e (iv) edição de gráfico com qualidade para
publicação. Portanto, apesar de apresentarmos diferentes pacotes com
grande potencial para visualização gráfica, nest capítulo iremos focar
no pacote <em>ggplot2</em>.</p>
<p>Usaremos os dados de medidas de pinguins chamados
<a href="https://allisonhorst.github.io/palmerpenguins"><strong>palmerpenguins</strong></a> para
exemplicar as funções do ggplot2 que geram diferentes tipos de gráficos
. Esses dados estão disponíveis no pacote <code>palmerpenguins</code>, que foram
coletados e disponibilizados pela <a href="https://www.uaf.edu/cfos/people/faculty/detail/kristen-gorman.php">Dra. Kristen
Gorman</a>
e <a href="https://pal.lternet.edu/">Palmer Station, Antarctica LTER</a>, ambas do
Long Term Ecological Research Network. O pacote <em>palmerpenguins</em> contém
dois conjuntos de dados. Um é chamado de <strong>penguins</strong> e é uma versão
simplificada dos dados brutos. O segundo conjunto de dados é
<strong>penguins_raw</strong> e contém todas as variáveis e nomes originais baixados.
Ambos os conjuntos de dados contêm dados para 344 pinguins, de três
espécies diferentes, coletados em três ilhas no arquipélago de Palmer,
na Antártica.</p>
</div>
<div id="pacotes-necessários" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> 2. Pacotes necessários</h2>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="cap6.html#cb173-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-2"><a href="cap6.html#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb173-3"><a href="cap6.html#cb173-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb173-4"><a href="cap6.html#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb173-5"><a href="cap6.html#cb173-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datasauRus)</span>
<span id="cb173-6"><a href="cap6.html#cb173-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Rmisc)</span>
<span id="cb173-7"><a href="cap6.html#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code></pre></div>
<p>Apesar do foco no ggplot2, abaixo detalhamos os principais pacotes e
suas funções para visualização gráfica:</p>
</div>
<div id="principais-pacotes" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Principais pacotes</h2>
<p>A seguir, apresentamos uma listagem dos principais pacotes para fazer
gráficos no R e, além disso, incluimos as principais funções desses
pacotes:</p>
<ul>
<li><p><a href="http://search.r-project.org/R/library/graphics/html/00Index.html"><em>graphics</em></a>:
é o pacote <em>default</em> do R para produzir gráfios simples, porém útil
para visualizações rápidas de quase todos as classes de objetos.
Possui funções como: <code>plot()</code>, <code>hist()</code>, <code>barplot()</code>, <code>boxplot()</code>,
<code>abline()</code>, <code>points()</code>, <code>lines()</code> e <code>polygon()</code>.</p></li>
<li><p><a href="https://ggplot2.tidyverse.org/"><em>ggplot2</em></a>: pacote integrado ao
<em>tidyverse</em> (Capítulo <a href="#tidy"><strong>??</strong></a>), possui uma sintaxe própria
baseada na grática de gráficos por camadas (<em>layers</em>), necessitando
de funções específicas para objetos de classes diferentes,
demandando geralmente mais tempo para realização. Possui funções
como <code>ggplot()</code>, <code>aes()</code>, <code>geom_*()</code>, <code>facet_*()</code>, <code>stats_*()</code>,
<code>coord_*()</code> e <code>theme_*()</code>, que são conectadas pelo operador <code>+</code>.</p></li>
<li><p><a href="https://exts.ggplot2.tidyverse.org/"><em>ggplot2 extentions</em></a>:
conjunto de pacotes que adicionam diversas expansões ao pacote
ggplot2. Exemplos: <a href="https://gganimate.com/"><em>gganimate</em></a>,
<a href="https://ggobi.github.io/ggally/"><em>GGally</em></a> e
<a href="https://dreamrs.github.io/esquisse/"><em>esquisse</em></a>.</p></li>
<li><p><a href="https://docs.ropensci.org/visdat/"><em>visdat</em></a>: Crie visualizações
preliminares de dados exploratórios de um conjunto de dados inteiro
para identificar problemas ou recursos inesperados usando ‘ggplot2.’
Possui diversas funções específicas: <code>vis_dat()</code> - visão geral dos
dados, <code>vis_miss()</code> - visão de dados faltantes (<code>NA</code>),
<code>vis_compare()</code> - visualiza a diferença entre dados.</p></li>
<li><p><a href="https://rpkgs.datanovia.com/ggpubr/"><em>ggpubr</em></a>: pacote que fornece
funções simplificadas para criar e personalizar gráficos para
publicação baseados no “ggplot2.” Possui funções específicas:
<code>gghistogram()</code>, <code>ggdensity()</code>, <code>ggboxplot()</code>, <code>ggviolin()</code>,
<code>ggbarplot()</code> e <code>ggscatter()</code>.</p></li>
<li><p><a href="https://patchwork.data-imaginist.com/">pacthwork</a>: pacote que
permite combinar vários gráficos em um só de forma extremamente
simples e com alta qualidade.</p></li>
<li><p><a href="https://plotly.com/r/">plotly</a>: pacote para criar gráficos
interativos da web por meio da biblioteca gráfica de JavaScript de
código aberto <a href="https://plotly.com/">plotly.js</a>. Também possui
funções específicas: <code>plot_ly()</code>, <code>add_histogram()</code>, <code>add_bars()</code>,
<code>add_boxplot()</code>, <code>add_markers()</code>, <code>add_paths()</code>, <code>add_lines()</code> e
<code>add_polygons()</code>.</p></li>
</ul>
</div>
<div id="grámatica-dos-gráficos" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> 3. Grámatica dos gráficos</h2>
<p>No livro <em>A Gramática do Gráfico</em>, Leland Wilkinson (2005) utiliza uma
analogia da linguística para criar esta “gramática” para a visualizaçã
gráfica. Segundo ele, a língua se torna expressiva pelo fato da
gramática criar um sistema de regras que tornam as declarações com
significado conhecido. De maneira semelhante, a ideia da <em>gramática dos
gráficos</em> cria regras para representação gráfica dos dados a partir de
atributos estéticos (do inglês <em>aesthetic</em>) como cor, forma e tamanho
que definem a geometria dos objetos, como pontos, linhas e barras
(Wickham 2009). Além disso, esta gramática reconhece que tais elementos
podem ser organizados em camadas, tal como construímos um mapa com
diferentes camadas como elevação, hidrografia, rodovias, limites
políticos, etc.</p>
<p>Inspirado pela Grámatica do Gráfico proposta por Wilkinson, Hadley
Wickham crious o pacote ggplot2, onde “gg” representa a contração de
<em>Grammar of Graphics</em> (Wickham 2009). As camadas nesta gramática são
organizadas da seguinte forma:</p>
<ul>
<li><strong>Camada 1</strong> - dados brutos: as colunas da matriz são usadas para
guiar os dados usados nas diferentes camadas, em especial <code>aes()</code>,
<code>stat()</code>, <code>facet()</code> e <code>scale()</code></li>
<li><strong>Camada 2</strong> - mapeamento: atributos estéticos, <code>aes()</code>, define
quais colunas serão associadas com qual eixo e determina o tamanho,
forma, cor, preenchimento e transparência dos atributos estéticos</li>
<li><strong>Camada 3</strong> - transformações estatísticas, <code>stat()</code>, modificam,
quando necessário, os dados que serão incluídos no gráfico (ex.
calculando a média por grupo)</li>
<li><strong>Camada 4</strong> - definição da geometria, <code>geom():</code> define o tipo de
geometria que é plotada no gráfico, como pontos, boxplots, violino,
linhas, polígonos, entre outros</li>
<li><strong>Camada 5</strong> - sistema de coordenadas (<em>coordinate function</em>):
define o sistema de ccordenadas do gráfico e como o eixo Y e X se
relacionam (padrão é o sistema cartesiano).</li>
<li><strong>Camada 6</strong> - facetas: especifica como a visualização dos elementos
<code>aes()</code> são divididos em diferentes “janelas gráficas”</li>
<li><strong>Camada 7</strong> - escala: permite o controle das características
visuais (cor, forma e tamanho) dos elementos declarados em <code>aes()</code></li>
<li><strong>Camada 8</strong> - temas: controla a aparência visual dos elementos do
gráfico</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-camadas"></span>
<img src="img/cap06_fig01.png" alt="Esquema gráfico ilustrando as camadas que definem a strutura de organização aditiva da gramática dos gráficos (ggplot2). No exemplo, a partir de uma banco de dados, o mapeamento de quais colunas representam o eixo Y e X e de um atributo gráfico (pontos) é possível construir um gráfico de dispersão que ilustra a relação quantitativa entre a variável Y e X." width="70%" />
<p class="caption">
Figura 6.1: Esquema gráfico ilustrando as camadas que definem a strutura de organização aditiva da gramática dos gráficos (ggplot2). No exemplo, a partir de uma banco de dados, o mapeamento de quais colunas representam o eixo Y e X e de um atributo gráfico (pontos) é possível construir um gráfico de dispersão que ilustra a relação quantitativa entre a variável Y e X.
</p>
</div>
<p>Em resumo, o mapeamento gráfico do ggplot2 segue a seguinte estrutura:</p>
<pre><code>ggplot(data = &lt;DATA&gt;) + 
&lt;GEOM_FUNCTION&gt;(
       mapping = aes(&lt;MAPPINGS&gt;),
       stat = &lt;STAT&gt;, 
       position = &lt;POSITION&gt;
) +
&lt;COORDINATE_FUNCTION&gt; +
&lt;FACET_FUNCTION&gt; +
&lt;SCALE_FUNCTION&gt; +
&lt;THEME_FUNCTION&gt;</code></pre>
</div>
<div id="tipos-de-gráficos" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> 4. Tipos de gráficos</h2>
<p>Nesta seção, listamos os principais gráficos, e uma descrição de quantas
colunas e o tipo de variável que eles representam.</p>
<ul>
<li><strong>Histograma (do inglês <em>histogram</em>)</strong>: distribuição de frequência
de uma coluna para dados contínuos (cores diferentes podem
representar espécies, populações ou grupos distintos)</li>
<li><strong>Gráfico de densidade (<em>density plot</em>)</strong>: distribuição da densidade
de uma coluna para dados contínuos (assim como no histograma, cores
diferentes podem ser utilizadas para representar espécies,
populações ou grupos distintos)</li>
<li><strong>Gráfico de dispersão (<em>scatter plot</em>) e gráfico de linha</strong>:
relação entre valores de duas colunas para dados contínuos (X e Y)</li>
<li><strong>Diagrama de pontos (<em>dot plot</em>)</strong>: distribuição da quantidade de
valores agrupados de uma coluna para dados contínuos</li>
<li><strong>Gráfico de setores (<em>pie chart</em> e <em>donut chart</em>)</strong>: representação
da quantidade de valores de uma coluna para dados categóricos,
geralmente em proporção ou porcentagem</li>
<li><strong>Gráfico de barras (<em>bar plot</em>)</strong>: representação da quantidade de
valores de uma ou mais colunas para dados categóricos</li>
<li><strong>Gráfico de caixa (<em>box plot</em> e <em>violin plot</em>)</strong>: distribuição de
valores contínuos de uma coluna (Y) para dois ou mais fatores
categóricos de outra coluna (X) no formato de caixas e também no
formato de “violinos” (considerando a variação)</li>
<li><strong>Gráfico pareado (<em>pairs plot</em>)</strong>: relação entre valores de duas
colunas para dados contínuos (X e Y), para colunas par a par</li>
</ul>
<p>Para facilitar a compreensão das regras da gramática dos dados, cada
tipo de gráfico segue a mesma estrutura de organização, que respeita as
camadas de informação descritas anteriormente. O leitor vai perceber,
portanto, que algumas camadas não são necessárias dependendo do tipo de
gráfico e do conjunto de dados que pretende analisar. Nos exemplos, a
<em>versão padrão</em> se refere à representação determinada no “default” da
função. Deste modo, somente informamos as variáveis que serão utilizadas
dentro de cada camada e a forma geométrica (i.e., tipo de gráfico)
desejada. Porém, para cada tipo gráfico apresentamos funções e
argumentos para ajustes finos e personalizados.</p>
<div id="histograma-histogram" class="section level3" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> 4.1. Histograma (<em>histogram</em>)</h3>
<p>O histograma é um gráfico extremamente popular e bastante útil para
visualizar a distribuição de variáveis contínuas. É bem provável que
você já tenha visto um histograma quando aprendeu pela primeira vez a
famosa <em>distribuição normal</em>.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="cap6.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># histograma de uma variavel continua</span></span>
<span id="cb175-2"><a href="cap6.html#cb175-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-3"><a href="cap6.html#cb175-3" aria-hidden="true" tabindex="-1"></a>dist_normal <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">50000</span>, <span class="at">mean =</span> <span class="dv">100</span>, <span class="at">sd =</span> <span class="dv">5</span>))</span>
<span id="cb175-4"><a href="cap6.html#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dist_normal, </span>
<span id="cb175-5"><a href="cap6.html#cb175-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> x)) <span class="sc">+</span></span>
<span id="cb175-6"><a href="cap6.html#cb175-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-181-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Neste histograma é possível entender que a maioria dos valores da
variável <code>x</code> no data.frame <code>dist_normal</code> estão próximos ao valor da
média, i.e., 100. Em ecologia, os histogramas são utilizados para
visualizar, por exemplo, a variação morfológica entre espécies
(subespécies, gênero, famílias, etc.), variação de parâmetros
populacionais entre diferentes espécies ou dentro da mesma espécies em
diferentes localidades.</p>
<div id="versão-padrão" class="section level4" number="6.5.1.1">
<h4><span class="header-section-number">6.5.1.1</span> 4.1.1. Versão padrão</h4>
<p>Vamos utilizar o conjunto de dados <em>palmerpenguins</em> para construir um
histograma da distribuição da variável <strong>flipper_length_mm</strong> com a
função <code>geom_hitogram()</code>. Esta função utiliza uma variável contínua no
eixo x e a frequência de cada categoria no eixo y. O gráfico a seguir
representa a frequência de uma variável (neste caso, a medida de todos
os pinguins, independente da espécie).</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="cap6.html#cb176-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-2"><a href="cap6.html#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb176-3"><a href="cap6.html#cb176-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb176-4"><a href="cap6.html#cb176-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-182-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="definindo-o-número-de-classes" class="section level4" number="6.5.1.2">
<h4><span class="header-section-number">6.5.1.2</span> 4.1.2. Definindo o número de classes</h4>
<p>Vamos utilizar o <strong>argumento</strong> <code>bins</code> para definir em quantas classes a
variável <strong>x</strong> deve ser dividida.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="cap6.html#cb177-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-2"><a href="cap6.html#cb177-2" aria-hidden="true" tabindex="-1"></a><span class="co"># histograma com 10 classes</span></span>
<span id="cb177-3"><a href="cap6.html#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb177-4"><a href="cap6.html#cb177-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb177-5"><a href="cap6.html#cb177-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb177-6"><a href="cap6.html#cb177-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;10 classes&quot;</span>)</span>
<span id="cb177-7"><a href="cap6.html#cb177-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-8"><a href="cap6.html#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="co"># histograma com 30 classes</span></span>
<span id="cb177-9"><a href="cap6.html#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb177-10"><a href="cap6.html#cb177-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb177-11"><a href="cap6.html#cb177-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;30 classes&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-183-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-183-2.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="comparando-múltiplas-categorias" class="section level4" number="6.5.1.3">
<h4><span class="header-section-number">6.5.1.3</span> 4.1.3. Comparando múltiplas categorias</h4>
<p>Se quisermos comparar a distribuição de uma variável contínua entre
diferentes categorias, podemos utilizar o argumento <code>fill</code> para colorir
o gráfico. No exemplo abaixo, utilizamos cores diferentes para ilustrar
a distribuição da variável x entre espécies diferentes (fill = species).</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="cap6.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># histograma com cores para diferentes categorias com sobreposicao</span></span>
<span id="cb178-2"><a href="cap6.html#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb178-3"><a href="cap6.html#cb178-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb178-4"><a href="cap6.html#cb178-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb178-5"><a href="cap6.html#cb178-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Com sobreposiçao&quot;</span>)</span>
<span id="cb178-6"><a href="cap6.html#cb178-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-7"><a href="cap6.html#cb178-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograma com cores para diferentes categorias sem sobreposição</span></span>
<span id="cb178-8"><a href="cap6.html#cb178-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb178-9"><a href="cap6.html#cb178-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb178-10"><a href="cap6.html#cb178-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Sem sobreposiçao&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-184-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-184-2.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="ajustes-finos-versão-personalizada" class="section level4" number="6.5.1.4">
<h4><span class="header-section-number">6.5.1.4</span> 4.1.4. Ajustes finos (versão personalizada)</h4>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="cap6.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram example: flipper length by species</span></span>
<span id="cb179-2"><a href="cap6.html#cb179-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-3"><a href="cap6.html#cb179-3" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb179-4"><a href="cap6.html#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb179-5"><a href="cap6.html#cb179-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb179-6"><a href="cap6.html#cb179-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;darkorchid&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb179-7"><a href="cap6.html#cb179-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb179-8"><a href="cap6.html#cb179-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Comprimento da nadadeira (mm)&quot;</span>, </span>
<span id="cb179-9"><a href="cap6.html#cb179-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Frequência (%)&quot;</span>, </span>
<span id="cb179-10"><a href="cap6.html#cb179-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&quot;Espécies&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-185-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="principais-camadas-utilizadas-na-função-geom_histogram" class="section level4" number="6.5.1.5">
<h4><span class="header-section-number">6.5.1.5</span> 4.1.5. Principais camadas utilizadas na função <code>geom_histogram()</code></h4>
<ul>
<li><p><code>aes()</code>:</p>
<ul>
<li><p>Eixo X: variável contínua (<em>flipper_length_mm</em>)</p></li>
<li><p>Preenchimento (<em>fill</em>): variável categórica (<em>species</em>) que
define as cores tendo como base o número de níveis dentro desta
categoria</p></li>
</ul></li>
<li><p><code>geom():</code> <code>geom_histogram()</code></p>
<ul>
<li><p>Transparência dos pontos (<code>alpha</code>): 0,5 (varia de 0,
trasparência máxima, a 1, sem trasparência)</p></li>
<li><p>Posição das barras: o argumento <code>position</code> define se as barras
devem ser inseridas de maneira sobreposta
(<code>position = "identity"</code>) ou não (<code>position = "dodge"</code>)</p></li>
</ul></li>
<li><p><code>scale()</code>:<code>scale_fill_manual()</code> para definir manualmente as cores de
preferência do usuário</p></li>
<li><p><code>theme()</code>: <code>theme_bw()</code>para selecionar o tema com fundo branco e
<code>labs()</code> para personalizar o títulos dos eixos X e Y.</p></li>
</ul>
</div>
</div>
<div id="gráfico-de-densidade-density-plot" class="section level3" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> 4.2 Gráfico de densidade (<em>density plot</em>)</h3>
<p>Nesta seção iremos aprender a criar um <a href="https://datavizcatalogue.com/methods/density_plot.html">gráfico de
densidade</a> no R
utilizando o ggplot2. Assim como o histograma, o <strong>gráfico de
densidade</strong> é utilizado para visualizar a distribuição de uma variável
contínua em intervalos. Esse gráfico é uma variação do Histograma (ver
seção <a href="#hist"><strong>??</strong></a>) que utiliza <a href="https://en.wikipedia.org/wiki/Kernel_smoother">Kernel
Smoother</a> e, além de ser
muito útil para visualizar distribuições, pode ser usado para testar
várias hipóteses ecológicas, como descrito no <strong>Capítulo 14 (Diversidade
Funcional)</strong>.</p>
<div id="versão-padrão-1" class="section level4" number="6.5.2.1">
<h4><span class="header-section-number">6.5.2.1</span> 4.2.1.Versão padrão</h4>
<p>Vamos utilizar o conjunto de dados <em>palmerpenguins</em>, para plotar a
distribuição da variável <strong>flipper_length_mm</strong> em um Gráfico de
densidade. Utilizaremos a função <code>geom_density()</code> para plotar uma
variável no eixo x.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="cap6.html#cb180-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-2"><a href="cap6.html#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb180-3"><a href="cap6.html#cb180-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb180-4"><a href="cap6.html#cb180-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-186-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Além da versão de densidade em linha, é possível utilizar o argumento
<code>fill</code> para definir a cor de preenchimento do gráfico e o argumento
<code>alpha</code> para definir a transparência do preenchimento. Utilizamos ainda
o argumento <code>color</code> para definir a cor da linha.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="cap6.html#cb181-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-2"><a href="cap6.html#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Argumento fill</span></span>
<span id="cb181-3"><a href="cap6.html#cb181-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb181-4"><a href="cap6.html#cb181-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb181-5"><a href="cap6.html#cb181-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">&quot;tomato&quot;</span>)</span>
<span id="cb181-6"><a href="cap6.html#cb181-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-7"><a href="cap6.html#cb181-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Argumento fill, color e alpha</span></span>
<span id="cb181-8"><a href="cap6.html#cb181-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb181-9"><a href="cap6.html#cb181-9" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb181-10"><a href="cap6.html#cb181-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>, </span>
<span id="cb181-11"><a href="cap6.html#cb181-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb181-12"><a href="cap6.html#cb181-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> .<span class="dv">5</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-187-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-187-2.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="comparando-múltiplas-categorias-1" class="section level4" number="6.5.2.2">
<h4><span class="header-section-number">6.5.2.2</span> 4.2.2. Comparando múltiplas categorias</h4>
<p>Em algumas situações, queremos comparar a distribuição de uma variável
contínua entre diferentes categorias. Dessa forma, podemos utilizar o
argumento <code>fill</code> para colorir o gráfico. No exemplo abaixo, utilizamos
cores diferentes para ilustrar a distribuição da variável x entre
espécies diferentes (fill = species).</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="cap6.html#cb182-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-2"><a href="cap6.html#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="co"># O argumento fill preenche cada nível da coluna &quot;species&quot; (sem transparência: alpha = 1)</span></span>
<span id="cb182-3"><a href="cap6.html#cb182-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-4"><a href="cap6.html#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb182-5"><a href="cap6.html#cb182-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb182-6"><a href="cap6.html#cb182-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb182-7"><a href="cap6.html#cb182-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Sem transparência&quot;</span>)</span>
<span id="cb182-8"><a href="cap6.html#cb182-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-9"><a href="cap6.html#cb182-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de densidade com cores para diferentes categorias com sobreposicao</span></span>
<span id="cb182-10"><a href="cap6.html#cb182-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb182-11"><a href="cap6.html#cb182-11" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb182-12"><a href="cap6.html#cb182-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb182-13"><a href="cap6.html#cb182-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Com transparência&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-188-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-188-2.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="ajustes-finos-versão-personalizada-1" class="section level4" number="6.5.2.3">
<h4><span class="header-section-number">6.5.2.3</span> 4.2.3. Ajustes finos (versão personalizada)</h4>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="cap6.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb183-2"><a href="cap6.html#cb183-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb183-3"><a href="cap6.html#cb183-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb183-4"><a href="cap6.html#cb183-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;darkorchid&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb183-5"><a href="cap6.html#cb183-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">160</span>, <span class="at">to =</span> <span class="dv">240</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">160</span>, <span class="dv">240</span>)) <span class="sc">+</span></span>
<span id="cb183-6"><a href="cap6.html#cb183-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> .<span class="dv">07</span>, <span class="at">by =</span> .<span class="dv">01</span>)) <span class="sc">+</span></span>
<span id="cb183-7"><a href="cap6.html#cb183-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb183-8"><a href="cap6.html#cb183-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Comprimento da nadadeira (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;Espécie&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-189-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="principais-camadas-utilizadas-na-função-geom_density" class="section level4" number="6.5.2.4">
<h4><span class="header-section-number">6.5.2.4</span> 4.2.4. Principais camadas utilizadas na função <code>geom_density()</code></h4>
<ul>
<li><p><code>aes()</code>:</p>
<ul>
<li><p>Eixo X: variável contínua (flipper_length_mm)</p></li>
<li><p>Preenchimento (<em>fill</em>): variável categórica (<em>species</em>) que
define as cores tendo como base o número de níveis dentro desta
categoria</p></li>
</ul></li>
<li><p><code>geom():</code> <code>geom_density()</code></p>
<ul>
<li><p>Transparência dos pontos (<em>alpha</em>): 0,5 (varia de 0,
trasparência máxima, a 1, sem trasparência)</p></li>
<li><p>Posição das barras: o argumento <code>position()</code> define se as barras
devem ser inseridas de maneira sobreposta
(<code>position = "identity"</code>) ou não (<code>position = "dodge"</code>)</p></li>
</ul></li>
<li><p><code>scale()</code>:</p>
<ul>
<li><p><code>scale_fill_manual()</code> para definir manualmente as cores de
preferência do usuário</p></li>
<li><p><code>scale_x_continuous()</code> e <code>scale_y_continuous()</code> determinam os
limites (valor mínimo e máximo) para os dois eixos e, além
disso, os intervalos entre os valores (<em>breaks</em>)</p></li>
</ul></li>
<li><p><code>theme()</code>: <code>theme_bw()</code>para selecionar o tema com fundo branco e
<code>labs()</code> para personalizar o títulos dos eixos X e Y, e da legenda.</p></li>
</ul>
</div>
</div>
<div id="dot" class="section level3" number="6.5.3">
<h3><span class="header-section-number">6.5.3</span> 4.3. Diagrama de pontos (<em>dot plot</em>)</h3>
<p>Uma alternativa ao gráfico de densidade e histograma é o diagrama de
pontos (<a href="https://en.wikipedia.org/wiki/Dot_plot_(statistics)">Dot
plot</a>), apesar de
ser relativamente menos usado em ecologia.</p>
<div id="versão-padrão-2" class="section level4" number="6.5.3.1">
<h4><span class="header-section-number">6.5.3.1</span> 4.3.1. Versão padrão</h4>
<p>Vamos utilizar o conjunto de dados palmerpenguins para visualizar a
distribuição da variável flipper_length_mm com o diagrama de pontos com
a função <code>geom_dotplot()</code>.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="cap6.html#cb184-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-2"><a href="cap6.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb184-3"><a href="cap6.html#cb184-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb184-4"><a href="cap6.html#cb184-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-190-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="comparando-múltiplas-categorias-2" class="section level4" number="6.5.3.2">
<h4><span class="header-section-number">6.5.3.2</span> 4.3.2. Comparando múltiplas categorias</h4>
<p>Assim como nas funções <code>geom_histogram()</code> e <code>geom_density()</code>, é possível
comparar categorias na função <code>geom_dotplot()</code> utilizando o argumento
<code>fill</code>, bem como os argumentos <code>color</code>, <code>alpha</code> e <code>dotsize</code>.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="cap6.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb185-2"><a href="cap6.html#cb185-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb185-3"><a href="cap6.html#cb185-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">dotsize=</span><span class="dv">1</span>)</span>
<span id="cb185-4"><a href="cap6.html#cb185-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-5"><a href="cap6.html#cb185-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb185-6"><a href="cap6.html#cb185-6" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb185-7"><a href="cap6.html#cb185-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">dotsize=</span><span class="fl">0.7</span>, </span>
<span id="cb185-8"><a href="cap6.html#cb185-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb185-9"><a href="cap6.html#cb185-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-191-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-191-2.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="ajustes-finos-versão-personalizada-2" class="section level4" number="6.5.3.3">
<h4><span class="header-section-number">6.5.3.3</span> 4.3.3. Ajustes finos (versão personalizada)</h4>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="cap6.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb186-2"><a href="cap6.html#cb186-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb186-3"><a href="cap6.html#cb186-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb186-4"><a href="cap6.html#cb186-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> .<span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb186-5"><a href="cap6.html#cb186-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb186-6"><a href="cap6.html#cb186-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;darkorchid&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb186-7"><a href="cap6.html#cb186-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">170</span>, <span class="at">to =</span> <span class="dv">240</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">170</span>, <span class="dv">240</span>)) <span class="sc">+</span></span>
<span id="cb186-8"><a href="cap6.html#cb186-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="fl">1.4</span>, <span class="at">by =</span> .<span class="dv">2</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">1.4</span>)) <span class="sc">+</span></span>
<span id="cb186-9"><a href="cap6.html#cb186-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Comprimento da nadadeira (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Frequência&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;Espécies&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-192-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Uma das limitações do dotplot é que a sobreposição dos pontos não
permite a visualização apropriada desses valores sobrepostos entre
diferentes grupos comparados.</p>
</div>
<div id="principais-camadas-utilizadas-na-função-geom_dotplot" class="section level4" number="6.5.3.4">
<h4><span class="header-section-number">6.5.3.4</span> 4.3.4. Principais camadas utilizadas na função <code>geom_dotplot()</code></h4>
<ul>
<li><p><code>aes()</code>:</p>
<ul>
<li><p>Eixo X: variável contínua (<em>flipper_length_mm</em>)</p></li>
<li><p>Preenchimento (<em>fill</em>): variável categórica (<em>species</em>) que
define as cores tendo como base o número de níveis dentro desta
categoria</p></li>
</ul></li>
<li><p><code>geom():</code> <code>geom_dotplot()</code></p>
<ul>
<li><p>Transparência dos pontos (<code>alpha</code>): 0,5 (varia de 0,
trasparência máxima, a 1, sem trasparência)</p></li>
<li><p>Cor da linha do ponto (<code>color</code>): valor padrão (se não for
especificado) é <em>black</em></p></li>
<li><p>Tamanho dos pontos (<code>dotsize</code>): valor padrão (se não for
especificado) é 1</p></li>
<li><p>Posição dos pontos: o argumento <code>position</code> define se as barras
devem ser inseridas de maneira sobreposta
(<code>position = "identity"</code>) ou não (<code>position = "dodge"</code>)</p></li>
</ul></li>
<li><p><code>scale()</code>:</p>
<ul>
<li><p><code>scale_fill_manual()</code> para definir manualmente as cores de
preferência do usuário</p></li>
<li><p><code>scale_x_continuous()</code> e <code>scale_y_continuous()</code> determinam os
limites (valor mínimo e máximo) para os dois eixos e, além
disso, os intervalos entre os valores (<em>breaks</em>)</p></li>
</ul></li>
<li><p><code>theme()</code>: <code>theme_bw()</code>para selecionar o tema com fundo branco e
<code>labs()</code> para personalizar o títulos dos eixos X e Y, e da legenda.</p></li>
</ul>
</div>
</div>
<div id="bars" class="section level3" number="6.5.4">
<h3><span class="header-section-number">6.5.4</span> 4.4. Gráfico de barras (<em>bar plot</em>)</h3>
<p>O <a href="https://pt.wikipedia.org/wiki/Gr%C3%A1fico_de_barras">gráfico de
barras</a> é um dos
mais usados em artigos e livros da ecologia, uma vez que permite
comparar valores absolutos ou médios (combinados com alguma medida de
variação como desvio padrão) de uma variável continua entre diferentes
níveis de uma variável categórica.</p>
<div id="versão-padrão-3" class="section level4" number="6.5.4.1">
<h4><span class="header-section-number">6.5.4.1</span> 4.4.1. Versão padrão</h4>
<p>O gráfico de barras utiliza retângulos para representar uma variável
contínua ou a contagem de uma variável categórica, sendo que o
comprimeno dos retângulos é proporcional ao valor que ele representa.
Por exemplo, é possível comparar qual a quantidade de indivíduos medidos
para cada espécie de pinguim.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="cap6.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Número de indivíduos coletados</span></span>
<span id="cb187-2"><a href="cap6.html#cb187-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-3"><a href="cap6.html#cb187-3" aria-hidden="true" tabindex="-1"></a>penguins_count <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span></span>
<span id="cb187-4"><a href="cap6.html#cb187-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(species)</span>
<span id="cb187-5"><a href="cap6.html#cb187-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-6"><a href="cap6.html#cb187-6" aria-hidden="true" tabindex="-1"></a><span class="co"># grafico de barras</span></span>
<span id="cb187-7"><a href="cap6.html#cb187-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb187-8"><a href="cap6.html#cb187-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n)) <span class="sc">+</span> </span>
<span id="cb187-9"><a href="cap6.html#cb187-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-193-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Além disso, é possível alterar as cores (<code>color</code>) e preenchimento
(<code>fill</code>) das barras, bem como sua transparência (<code>alpha</code>) e largura
(<code>width</code>), como demonstrado nos próximos quatro gráficos.1</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="cap6.html#cb188-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-2"><a href="cap6.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="co"># modificando preenchimento</span></span>
<span id="cb188-3"><a href="cap6.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb188-4"><a href="cap6.html#cb188-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n)) <span class="sc">+</span> </span>
<span id="cb188-5"><a href="cap6.html#cb188-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, </span>
<span id="cb188-6"><a href="cap6.html#cb188-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>)</span>
<span id="cb188-7"><a href="cap6.html#cb188-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-8"><a href="cap6.html#cb188-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Modificando cor e preenchimento</span></span>
<span id="cb188-9"><a href="cap6.html#cb188-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb188-10"><a href="cap6.html#cb188-10" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n)) <span class="sc">+</span> </span>
<span id="cb188-11"><a href="cap6.html#cb188-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, </span>
<span id="cb188-12"><a href="cap6.html#cb188-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">&quot;steelblue&quot;</span>, </span>
<span id="cb188-13"><a href="cap6.html#cb188-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-194-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-194-2.png" width="50%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="cap6.html#cb189-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-2"><a href="cap6.html#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Modificando a largura da barra = 0.75</span></span>
<span id="cb189-3"><a href="cap6.html#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb189-4"><a href="cap6.html#cb189-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb189-5"><a href="cap6.html#cb189-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, </span>
<span id="cb189-6"><a href="cap6.html#cb189-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">width =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb189-7"><a href="cap6.html#cb189-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;largura = 0.75&quot;</span>)</span>
<span id="cb189-8"><a href="cap6.html#cb189-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-9"><a href="cap6.html#cb189-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Modificando a largura da barra = 0.25</span></span>
<span id="cb189-10"><a href="cap6.html#cb189-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb189-11"><a href="cap6.html#cb189-11" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb189-12"><a href="cap6.html#cb189-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, </span>
<span id="cb189-13"><a href="cap6.html#cb189-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">width =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb189-14"><a href="cap6.html#cb189-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;largura = 0.25&quot;</span>) </span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-195-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-195-2.png" width="50%" style="display: block; margin: auto;" /></p>
<p>Outra possibilidade para representação do gráfico de barras é inverter a
direção das barras com a função <code>coord_flip()</code>.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="cap6.html#cb190-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-2"><a href="cap6.html#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Barras vertical</span></span>
<span id="cb190-3"><a href="cap6.html#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb190-4"><a href="cap6.html#cb190-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb190-5"><a href="cap6.html#cb190-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb190-6"><a href="cap6.html#cb190-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">width =</span> <span class="fl">0.6</span>)</span>
<span id="cb190-7"><a href="cap6.html#cb190-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-8"><a href="cap6.html#cb190-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Barras horizontal</span></span>
<span id="cb190-9"><a href="cap6.html#cb190-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb190-10"><a href="cap6.html#cb190-10" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb190-11"><a href="cap6.html#cb190-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb190-12"><a href="cap6.html#cb190-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">width =</span> <span class="fl">0.6</span>) <span class="sc">+</span> </span>
<span id="cb190-13"><a href="cap6.html#cb190-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-196-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-196-2.png" width="50%" style="display: block; margin: auto;" /></p>
<p>É possível utilizar variáveis categóricas para definir cores e
preenchimento e ilustrar, por exemplo, tratamentos ou espécies
diferentes com os argumentos <code>fill</code> e <code>color</code>.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="cap6.html#cb191-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-2"><a href="cap6.html#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="co"># grafico de barras com preenchimento colorido</span></span>
<span id="cb191-3"><a href="cap6.html#cb191-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb191-4"><a href="cap6.html#cb191-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb191-5"><a href="cap6.html#cb191-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-197-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="adicionando-medidas-de-variação" class="section level4" number="6.5.4.2">
<h4><span class="header-section-number">6.5.4.2</span> 4.4.2. Adicionando medidas de variação</h4>
<p>Em algumas comparações, utilizar somente os valores absolutos pode não
ser a visualização mais apropriadas como, por exemplo, em desenho de
ANOVA (<strong>Capítulo 7</strong>). Desse modo, ao invés do valor máximo da barra
representar o valor absoluto (e.g., número de indivíduos de uma
espécies), ele vai representar o valor médio. Além disso, linhas
adicionais (chamadas barras de erro) vão representar alguma medida de
variação como desvio padrão, erro padrão, intervalo de confiança, entre
outros. A função <code>Rmisc::summarySE()</code> permite realizar esses cálculos de
maneira simples, como demonstrado no exemplo abaixo.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="cap6.html#cb192-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-2"><a href="cap6.html#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculando média e desvio padrão por grupo</span></span>
<span id="cb192-3"><a href="cap6.html#cb192-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-4"><a href="cap6.html#cb192-4" aria-hidden="true" tabindex="-1"></a>penguins2 <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb192-5"><a href="cap6.html#cb192-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(flipper_length_mm) <span class="co"># remover valores ausentes na variável (NAs)</span></span>
<span id="cb192-6"><a href="cap6.html#cb192-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-7"><a href="cap6.html#cb192-7" aria-hidden="true" tabindex="-1"></a>penguins_mean <span class="ot">&lt;-</span> <span class="fu">summarySE</span>(penguins2, </span>
<span id="cb192-8"><a href="cap6.html#cb192-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">measurevar =</span> <span class="st">&quot;flipper_length_mm&quot;</span>,</span>
<span id="cb192-9"><a href="cap6.html#cb192-9" aria-hidden="true" tabindex="-1"></a>                           <span class="at">groupvars =</span> <span class="st">&quot;species&quot;</span>)</span>
<span id="cb192-10"><a href="cap6.html#cb192-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_mean)</span>
<span id="cb192-11"><a href="cap6.html#cb192-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     species   N flipper_length_mm       sd        se       ci</span></span>
<span id="cb192-12"><a href="cap6.html#cb192-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1    Adelie 151          189.9536 6.539457 0.5321735 1.051524</span></span>
<span id="cb192-13"><a href="cap6.html#cb192-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Chinstrap  68          195.8235 7.131894 0.8648692 1.726286</span></span>
<span id="cb192-14"><a href="cap6.html#cb192-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    Gentoo 123          217.1870 6.484976 0.5847306 1.157533</span></span>
<span id="cb192-15"><a href="cap6.html#cb192-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-16"><a href="cap6.html#cb192-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras com desvio padrão</span></span>
<span id="cb192-17"><a href="cap6.html#cb192-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_mean, </span>
<span id="cb192-18"><a href="cap6.html#cb192-18" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, </span>
<span id="cb192-19"><a href="cap6.html#cb192-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> flipper_length_mm, </span>
<span id="cb192-20"><a href="cap6.html#cb192-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb192-21"><a href="cap6.html#cb192-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb192-22"><a href="cap6.html#cb192-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> flipper_length_mm <span class="sc">-</span> sd,</span>
<span id="cb192-23"><a href="cap6.html#cb192-23" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ymax =</span> flipper_length_mm <span class="sc">+</span> sd),</span>
<span id="cb192-24"><a href="cap6.html#cb192-24" aria-hidden="true" tabindex="-1"></a>                <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb192-25"><a href="cap6.html#cb192-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb192-26"><a href="cap6.html#cb192-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Barra de erro com desvio padrão&quot;</span>)</span>
<span id="cb192-27"><a href="cap6.html#cb192-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-28"><a href="cap6.html#cb192-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras com intervalo de confiânça</span></span>
<span id="cb192-29"><a href="cap6.html#cb192-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_mean, </span>
<span id="cb192-30"><a href="cap6.html#cb192-30" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, </span>
<span id="cb192-31"><a href="cap6.html#cb192-31" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> flipper_length_mm, </span>
<span id="cb192-32"><a href="cap6.html#cb192-32" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb192-33"><a href="cap6.html#cb192-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb192-34"><a href="cap6.html#cb192-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> flipper_length_mm <span class="sc">-</span> se,</span>
<span id="cb192-35"><a href="cap6.html#cb192-35" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ymax =</span> flipper_length_mm <span class="sc">+</span> se),</span>
<span id="cb192-36"><a href="cap6.html#cb192-36" aria-hidden="true" tabindex="-1"></a>                <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb192-37"><a href="cap6.html#cb192-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb192-38"><a href="cap6.html#cb192-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Barra de erro com erro padrão&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-198-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-198-2.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="ajustes-finos-versão-personalizada-3" class="section level4" number="6.5.4.3">
<h4><span class="header-section-number">6.5.4.3</span> 4.4.3. Ajustes finos (versão personalizada)</h4>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="cap6.html#cb193-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-2"><a href="cap6.html#cb193-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_count, </span>
<span id="cb193-3"><a href="cap6.html#cb193-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> n, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb193-4"><a href="cap6.html#cb193-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb193-5"><a href="cap6.html#cb193-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), </span>
<span id="cb193-6"><a href="cap6.html#cb193-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb193-7"><a href="cap6.html#cb193-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb193-8"><a href="cap6.html#cb193-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb193-9"><a href="cap6.html#cb193-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Espécie&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Número de indivíduos&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;Espécie&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-199-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="gráfico-de-setores-pie-chart-e-donut-chart" class="section level3" number="6.5.5">
<h3><span class="header-section-number">6.5.5</span> 4.5. Gráfico de setores (<em>pie chart</em> e <em>donut chart</em>)</h3>
<p>Além do gráfico de barras, o <a href="https://pt.wikipedia.org/wiki/Gr%C3%A1fico_de_setores">gráfico de
setores</a>
representa uma alternativa para comparar a proporção entre categorias.
Tais gráficos podem ser representados como <em>pie charts</em> ou <em>donut
charts</em>, como demonstrado abaixo. No exemplo abaixo, utilizamos a mesma
comparação realizada no item 4.3.3 acima. Porém, os valores de contagem
(número de indivíduos por espécie) devem ser transformados previamente
em proporção.</p>
<div id="gráfico-de-setores-pie-chart" class="section level4" number="6.5.5.1">
<h4><span class="header-section-number">6.5.5.1</span> 4.5.1. Gráfico de setores (<em>pie chart</em>)</h4>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="cap6.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cálculo da proporção</span></span>
<span id="cb194-2"><a href="cap6.html#cb194-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-3"><a href="cap6.html#cb194-3" aria-hidden="true" tabindex="-1"></a>penguins_prop <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span></span>
<span id="cb194-4"><a href="cap6.html#cb194-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb194-5"><a href="cap6.html#cb194-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n), <span class="dv">4</span>)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb194-6"><a href="cap6.html#cb194-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-7"><a href="cap6.html#cb194-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Pie chart</span></span>
<span id="cb194-8"><a href="cap6.html#cb194-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_prop, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> prop, <span class="at">fill =</span> species)) <span class="sc">+</span> </span>
<span id="cb194-9"><a href="cap6.html#cb194-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb194-10"><a href="cap6.html#cb194-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb194-11"><a href="cap6.html#cb194-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(prop, <span class="st">&quot;%&quot;</span>)), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, </span>
<span id="cb194-12"><a href="cap6.html#cb194-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb194-13"><a href="cap6.html#cb194-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb194-14"><a href="cap6.html#cb194-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb194-15"><a href="cap6.html#cb194-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">&quot;Espécie&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-200-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="gráfico-de-setores-donut-chart" class="section level4" number="6.5.5.2">
<h4><span class="header-section-number">6.5.5.2</span> 4.5.2. Gráfico de setores (<em>donut chart</em>)</h4>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="cap6.html#cb195-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-2"><a href="cap6.html#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_prop, <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> prop, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb195-3"><a href="cap6.html#cb195-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb195-4"><a href="cap6.html#cb195-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">&quot;y&quot;</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb195-5"><a href="cap6.html#cb195-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(prop, <span class="st">&quot;%&quot;</span>)), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb195-6"><a href="cap6.html#cb195-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> .<span class="dv">5</span>), <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb195-7"><a href="cap6.html#cb195-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb195-8"><a href="cap6.html#cb195-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb195-9"><a href="cap6.html#cb195-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb195-10"><a href="cap6.html#cb195-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(.<span class="dv">5</span>, .<span class="dv">5</span>),</span>
<span id="cb195-11"><a href="cap6.html#cb195-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb195-12"><a href="cap6.html#cb195-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb195-13"><a href="cap6.html#cb195-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">&quot;Espécie&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-201-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="comparando-gráficos-de-setores-com-gráfico-de-barras" class="section level4" number="6.5.5.3">
<h4><span class="header-section-number">6.5.5.3</span> 4.5.3. Comparando gráficos de setores com gráfico de barras</h4>
<p>O mesmo conjunto de dados pode ser visualizado de diferentes formas. Não
diferente, a comparação da proporção de ocorrências de diferentes
categorias pode ser feita de várias maneiras. Abaixo, fizemos a
comparação da proporção de indivíduos por cada uma das três espécies dos
dados <code>penguins</code>.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="cap6.html#cb196-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-2"><a href="cap6.html#cb196-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-3"><a href="cap6.html#cb196-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_prop, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> prop, <span class="at">fill =</span> species)) <span class="sc">+</span> </span>
<span id="cb196-4"><a href="cap6.html#cb196-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-5"><a href="cap6.html#cb196-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb196-6"><a href="cap6.html#cb196-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(prop, <span class="st">&quot;%&quot;</span>)), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, </span>
<span id="cb196-7"><a href="cap6.html#cb196-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb196-8"><a href="cap6.html#cb196-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb196-9"><a href="cap6.html#cb196-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb196-10"><a href="cap6.html#cb196-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Pie chart&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;Espécies&quot;</span>) <span class="ot">-&gt;</span> g_pie</span>
<span id="cb196-11"><a href="cap6.html#cb196-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-12"><a href="cap6.html#cb196-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_prop, <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> prop, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb196-13"><a href="cap6.html#cb196-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-14"><a href="cap6.html#cb196-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">&quot;y&quot;</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb196-15"><a href="cap6.html#cb196-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(prop, <span class="st">&quot;%&quot;</span>)), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb196-16"><a href="cap6.html#cb196-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> .<span class="dv">5</span>), <span class="at">size =</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb196-17"><a href="cap6.html#cb196-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb196-18"><a href="cap6.html#cb196-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb196-19"><a href="cap6.html#cb196-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb196-20"><a href="cap6.html#cb196-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-21"><a href="cap6.html#cb196-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Donut chart&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;Espécies&quot;</span>) <span class="ot">-&gt;</span> g_donut</span>
<span id="cb196-22"><a href="cap6.html#cb196-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-23"><a href="cap6.html#cb196-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-24"><a href="cap6.html#cb196-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_prop, </span>
<span id="cb196-25"><a href="cap6.html#cb196-25" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> prop, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb196-26"><a href="cap6.html#cb196-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-27"><a href="cap6.html#cb196-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> prop), </span>
<span id="cb196-28"><a href="cap6.html#cb196-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-29"><a href="cap6.html#cb196-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb196-30"><a href="cap6.html#cb196-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb196-31"><a href="cap6.html#cb196-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Gráfico de Barras (Horizonal)&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Número de indivíduos&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;Espécies&quot;</span>)<span class="sc">+</span></span>
<span id="cb196-32"><a href="cap6.html#cb196-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="ot">-&gt;</span> g_bar_h</span>
<span id="cb196-33"><a href="cap6.html#cb196-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-34"><a href="cap6.html#cb196-34" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins_prop, </span>
<span id="cb196-35"><a href="cap6.html#cb196-35" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> prop, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb196-36"><a href="cap6.html#cb196-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-37"><a href="cap6.html#cb196-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> prop), </span>
<span id="cb196-38"><a href="cap6.html#cb196-38" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-39"><a href="cap6.html#cb196-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb196-40"><a href="cap6.html#cb196-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb196-41"><a href="cap6.html#cb196-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb196-42"><a href="cap6.html#cb196-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Gráfico de Barras (Vertical)&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Número de indivíduos&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;Espécies&quot;</span>) <span class="sc">+</span></span>
<span id="cb196-43"><a href="cap6.html#cb196-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="ot">-&gt;</span> g_bar_v</span>
<span id="cb196-44"><a href="cap6.html#cb196-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-45"><a href="cap6.html#cb196-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-46"><a href="cap6.html#cb196-46" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(g_pie, g_donut, g_bar_h, g_bar_v, <span class="at">nrow=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-202-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="principais-camadas-utilizadas-no-gráfico-de-barras-e-de-setores-geom_bar" class="section level4" number="6.5.5.4">
<h4><span class="header-section-number">6.5.5.4</span> 4.5.4. Principais camadas utilizadas no gráfico de barras e de setores: <code>geom_bar()</code></h4>
<ul>
<li><p><code>aes()</code>:</p>
<ul>
<li><p>Eixo X: variável categórica (<em>species</em>)</p></li>
<li><p>Eixo Y: variável contínua (<em>flipper_length_mm</em>)</p></li>
<li><p>Preenchimento (<em>fill</em>): a variável categórica (<em>species</em>) define
a cor do preenchimento e os níveis dentro desta categoria
determinam o número de cores que devem ser indicadas no
<code>scale_fill_manual()</code>.</p></li>
</ul></li>
<li><p><code>geom():</code></p>
<ul>
<li><p><code>geom_bar()</code></p>
<ul>
<li><p>Transparência das barras (<code>alpha</code>): 0,4 (varia de 0,
trasparência máxima, a 1, sem trasparência)</p></li>
<li><p><code>stat</code>: é necessário usar o argumento “identity” quando os
valores do eixo Y são adicionados pelo usuário</p></li>
</ul></li>
<li><p><code>geom_label()</code></p>
<ul>
<li>forma geométrica que adiciona rótulo dos valores absolutos
das barras por categoria (<em>species</em>)</li>
</ul></li>
<li><p><code>geom_errorbar()</code></p>
<ul>
<li><code>ymin</code>e <code>ymax</code>delimitam os valores mínimos e máximos,
respectivamente, das barras de erro. Tais valores são
representados pelo valor da média menos (no caso do ymin) ou
mais (no caso do ymax) o valor do intervalo de confiança,
desvio ou erro padrão.</li>
</ul></li>
</ul></li>
<li><p><code>coord_polar()</code>: sistema de coordenadas para gerar barras circulares
sobrepostas (<em>stacked</em>) que são usadas nos gráficos de setores (<em>pie
chart</em> e <em>donut chart</em>)</p>
<ul>
<li>o argumento <code>start = 0</code> indica o local de início do gráfico que,
neste caso, começa na “hora” 0 em um “relógio” de 12 horas.</li>
</ul></li>
<li><p><code>scale()</code>:</p>
<ul>
<li><code>scale_fill_manual()</code> para definir manualmente as cores de
preferência do usuário</li>
</ul></li>
<li><p><code>theme()</code>: <code>theme_bw()</code>para selecionar o tema com fundo branco e
<code>labs()</code> para personalizar o títulos dos eixos X e Y, e da legenda.</p></li>
</ul>
</div>
</div>
<div id="gráfico-de-caixa-boxplot" class="section level3" number="6.5.6">
<h3><span class="header-section-number">6.5.6</span> 4.6. Gráfico de caixa (<em>boxplot</em>)</h3>
<p>O <a href="https://pt.wikipedia.org/wiki/Diagrama_de_caixa">boxplot</a>, conhecido
amplamente nos artigos e livros de ecologia, é uma visualização gráfica
que sintetiza informações importantes de dados contínuos como mediana e
variação (quartil 1-3, ver Figura 2).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-boxplot"></span>
<img src="img/fig_boxplot.png" alt="Estrutura e elementos do boxplot" width="70%" />
<p class="caption">
Figura 6.2: Estrutura e elementos do boxplot
</p>
</div>
<div id="versão-padrão-4" class="section level4" number="6.5.6.1">
<h4><span class="header-section-number">6.5.6.1</span> 4.6.1. Versão padrão</h4>
<p>Vamos plotar uma variável contínua (flipper_length_mm) no eixo y em
função de uma variável categórica no eixo x (species). A definição de
qual coluna do banco de dados é a x e qual é a y é feita dentro do
comendo <code>aes()</code>.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="cap6.html#cb197-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb197-2"><a href="cap6.html#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">y =</span> flipper_length_mm, <span class="at">x =</span> species)) <span class="sc">+</span></span>
<span id="cb197-3"><a href="cap6.html#cb197-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-203-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>É possível destacar os pontos referentes aos outliers (se houver) com o
argumento <strong>outlier.color</strong>. Caso tenha interesse, é possível também
remover os outliers do gráfico.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="cap6.html#cb198-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-2"><a href="cap6.html#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">y =</span> flipper_length_mm, <span class="at">x =</span> species)) <span class="sc">+</span></span>
<span id="cb198-3"><a href="cap6.html#cb198-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.color =</span> <span class="st">&quot;red&quot;</span>)<span class="sc">+</span></span>
<span id="cb198-4"><a href="cap6.html#cb198-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;outliers vermelhos&quot;</span>)</span>
<span id="cb198-5"><a href="cap6.html#cb198-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-6"><a href="cap6.html#cb198-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">y =</span> flipper_length_mm, <span class="at">x =</span> species)) <span class="sc">+</span></span>
<span id="cb198-7"><a href="cap6.html#cb198-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>)<span class="sc">+</span></span>
<span id="cb198-8"><a href="cap6.html#cb198-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;outliers removidos&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-204-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-204-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Outra alternativa para os gráficos do tipo boxplot é utilizar o
argumento <strong>notch = TRUE</strong> para produzir diagramas de caixa entalhados
(notched). Estes diagramas são úteis para inferir de forma aproximada se
exite diferença significativa entre as medias dos grupos.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="cap6.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">y =</span> flipper_length_mm, <span class="at">x =</span> species)) <span class="sc">+</span></span>
<span id="cb199-2"><a href="cap6.html#cb199-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">notch =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-205-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="comparando-múltiplas-categorias-3" class="section level4" number="6.5.6.2">
<h4><span class="header-section-number">6.5.6.2</span> 4.6.2. Comparando múltiplas categorias</h4>
<p>No exemplo abaixo, utilizamos cores diferentes para ilustrar espécies
diferentes através do argumento <strong>fill = species</strong>.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="cap6.html#cb200-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-2"><a href="cap6.html#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, </span>
<span id="cb200-3"><a href="cap6.html#cb200-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> flipper_length_mm, <span class="at">x =</span> species, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb200-4"><a href="cap6.html#cb200-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-206-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="combinando-boxplot-com-pontos-jitter" class="section level4" number="6.5.6.3">
<h4><span class="header-section-number">6.5.6.3</span> 4.6.3. Combinando boxplot com pontos (<em>jitter</em>)</h4>
<p>Podemos ainda acrescentar pontos para mostrar a distribuição dos dados.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="cap6.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># boxplot com jitters</span></span>
<span id="cb201-2"><a href="cap6.html#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, </span>
<span id="cb201-3"><a href="cap6.html#cb201-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> flipper_length_mm, <span class="at">x =</span> species, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb201-4"><a href="cap6.html#cb201-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb201-5"><a href="cap6.html#cb201-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size =</span> .<span class="dv">6</span>, <span class="at">width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-207-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="gráfico-de-violino-violin-plot-como-alternativa-ao-boxplot" class="section level4" number="6.5.6.4">
<h4><span class="header-section-number">6.5.6.4</span> 4.6.4. Gráfico de violino (<em>violin plot</em>) como alternativa ao boxplot</h4>
<p>Além das caixas, podemos utilizar o formato de “violino” para
representar a variação de dados contínuos entre categorias. A informação
adicional ao boxplot que o gráfico de violino permite visualizar é a
densidade dos pontos, assim como apresentamos acima no gráfico de
densidades <code>geom_density()</code>. A diferença é que a densidade é espelhada
e, desse modo, podemos visualizar os intervalores dos dados com maior ou
menor concentração de valores.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="cap6.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="co"># violino com jitters</span></span>
<span id="cb202-2"><a href="cap6.html#cb202-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">y =</span> flipper_length_mm, <span class="at">x =</span> species, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb202-3"><a href="cap6.html#cb202-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb202-4"><a href="cap6.html#cb202-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size =</span> .<span class="dv">6</span>, <span class="at">width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-208-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>É possível também combinar boxplot e gráfico de violino em um único
gráfico.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="cap6.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># violino com boxplot</span></span>
<span id="cb203-2"><a href="cap6.html#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">y =</span> flipper_length_mm, <span class="at">x =</span> species, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb203-3"><a href="cap6.html#cb203-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb203-4"><a href="cap6.html#cb203-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">fill =</span> <span class="st">&quot;grey&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-209-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="ajustes-finos-versão-personalizada-4" class="section level4" number="6.5.6.5">
<h4><span class="header-section-number">6.5.6.5</span> 4.6.5. Ajustes finos (versão personalizada)</h4>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="cap6.html#cb204-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-2"><a href="cap6.html#cb204-2" aria-hidden="true" tabindex="-1"></a><span class="do">### geom_boxplot()</span></span>
<span id="cb204-3"><a href="cap6.html#cb204-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-4"><a href="cap6.html#cb204-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb204-5"><a href="cap6.html#cb204-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb204-6"><a href="cap6.html#cb204-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">3</span>, </span>
<span id="cb204-7"><a href="cap6.html#cb204-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb204-8"><a href="cap6.html#cb204-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> .<span class="dv">5</span>, </span>
<span id="cb204-9"><a href="cap6.html#cb204-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>, </span>
<span id="cb204-10"><a href="cap6.html#cb204-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> .<span class="dv">1</span>, <span class="at">seed =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb204-11"><a href="cap6.html#cb204-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb204-12"><a href="cap6.html#cb204-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb204-13"><a href="cap6.html#cb204-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Species&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Flipper length (mm)&quot;</span>)</span>
<span id="cb204-14"><a href="cap6.html#cb204-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-15"><a href="cap6.html#cb204-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-16"><a href="cap6.html#cb204-16" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_violin()</span></span>
<span id="cb204-17"><a href="cap6.html#cb204-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb204-18"><a href="cap6.html#cb204-18" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb204-19"><a href="cap6.html#cb204-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">width =</span> .<span class="dv">3</span>, </span>
<span id="cb204-20"><a href="cap6.html#cb204-20" aria-hidden="true" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb204-21"><a href="cap6.html#cb204-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>, </span>
<span id="cb204-22"><a href="cap6.html#cb204-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb204-23"><a href="cap6.html#cb204-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb204-24"><a href="cap6.html#cb204-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb204-25"><a href="cap6.html#cb204-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Pontos sem jitter&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Species&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Flipper length (mm)&quot;</span>)</span>
<span id="cb204-26"><a href="cap6.html#cb204-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-27"><a href="cap6.html#cb204-27" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_violin()</span></span>
<span id="cb204-28"><a href="cap6.html#cb204-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb204-29"><a href="cap6.html#cb204-29" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb204-30"><a href="cap6.html#cb204-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">width =</span> .<span class="dv">3</span>, </span>
<span id="cb204-31"><a href="cap6.html#cb204-31" aria-hidden="true" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb204-32"><a href="cap6.html#cb204-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> .<span class="dv">5</span>, </span>
<span id="cb204-33"><a href="cap6.html#cb204-33" aria-hidden="true" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>, </span>
<span id="cb204-34"><a href="cap6.html#cb204-34" aria-hidden="true" tabindex="-1"></a>              <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> .<span class="dv">1</span>, <span class="at">seed =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb204-35"><a href="cap6.html#cb204-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb204-36"><a href="cap6.html#cb204-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb204-37"><a href="cap6.html#cb204-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Pontos com jitter&quot;</span>,, <span class="at">x =</span> <span class="st">&quot;Species&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Flipper length (mm)&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-210-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-210-2.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-210-3.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="principais-camadas-utilizadas-no-geom_boxplote-geom_violin" class="section level4" number="6.5.6.6">
<h4><span class="header-section-number">6.5.6.6</span> 4.6.6. Principais camadas utilizadas no <code>geom_boxplot()</code>e <code>geom_violin()</code></h4>
<ul>
<li><p><code>aes()</code>:</p>
<ul>
<li><p>Eixo X: variável categórica (<em>species</em>)</p></li>
<li><p>Eixo Y: variável contínua (<em>flipper_length_mm</em>)</p></li>
<li><p>Preenchimento (<em>fill</em>): a variável categórica (<em>species</em>) define
a cor do preenchimento e os níveis dentro desta categoria
determinam o número de cores que devem ser indicadas no
<code>scale_fill_manual()</code>.</p></li>
</ul></li>
<li><p><code>geom():</code></p>
<ul>
<li><p><code>geom_boxplot()</code></p>
<ul>
<li><p><code>width</code>: largura das barras (valor padrão: width = 1)</p></li>
<li><p><code>fill</code>: pode definir uma cor padrão (caso não tenha
utilizado o fill dentro do argumento <code>aes()</code>) como
<code>fill = "grey"</code></p></li>
<li><p><code>notch</code>: a escolha padrão da função <code>geom_boxplot()</code> é
<code>notch = FALSE</code>; para utilizar a caixa entalhada o argumento
deve ser <code>notch = TRUE</code></p></li>
</ul></li>
<li><p><code>geom_violin()</code></p>
<ul>
<li>assim como nas outras formas geométricas, é possível
controlar largura, cor, preenchimento e transparências dos
violinos</li>
</ul></li>
<li><p><code>geom_jitter()</code></p>
<ul>
<li>esta função basicamente “agita” aleatóriamente os pontos
para evitar a sobreposição de valores idênticos. Esta função
produz a mesma representação se usar a função
<code>geom_point(position = "jitter")</code></li>
</ul></li>
</ul></li>
<li><p><code>scale()</code>:</p>
<ul>
<li><code>scale_fill_manual()</code> para definir manualmente as cores de
preferência do usuário</li>
</ul></li>
<li><p><code>theme()</code>: <code>theme_bw()</code>para selecionar o tema com fundo branco e
<code>labs()</code> para personalizar o títulos dos eixos X e Y, e da legenda.</p></li>
</ul>
</div>
</div>
</div>
<div id="gráfico-de-dispersão-scatter-plot" class="section level2" number="6.6">
<h2><span class="header-section-number">6.6</span> 4.7. Gráfico de dispersão (<em>scatter plot</em>)</h2>
<p>O <a href="https://pt.wikipedia.org/wiki/Gr%C3%A1fico_de_barras">gráfico de
dispersão</a> (em
ingl~es, <em>scatterplot</em>) é famoso na ecologia por ser a visualização
preferida para prepresentar a relação entre área e riqueza de espécies.
Neste gráfico, os eixos X e Y são representados por variáveis contínuas.
Em especial, os gráficos de dispersão são usados para representar os
resultados testados por análises estatísticas como regressão linear,
ancova, mantel, PCA, PCoA, entre outros (<strong>Capítulos 7-14,</strong> ).</p>
<div id="versão-padrão-5" class="section level3" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> 4.7.1. Versão padrão</h3>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="cap6.html#cb205-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-2"><a href="cap6.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, </span>
<span id="cb205-3"><a href="cap6.html#cb205-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm)) <span class="sc">+</span></span>
<span id="cb205-4"><a href="cap6.html#cb205-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-211-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="definindo-a-cor-tamanho-forma-e-preenchimento-dos-pontos" class="section level3" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> 4.7.2. Definindo a cor, tamanho, forma e preenchimento dos pontos</h3>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="cap6.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cor e tamanho dos pontos </span></span>
<span id="cb206-2"><a href="cap6.html#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, </span>
<span id="cb206-3"><a href="cap6.html#cb206-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm)) <span class="sc">+</span></span>
<span id="cb206-4"><a href="cap6.html#cb206-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;royalblue&quot;</span>,</span>
<span id="cb206-5"><a href="cap6.html#cb206-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb206-6"><a href="cap6.html#cb206-6" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Sem transparência&quot;</span>)</span>
<span id="cb206-7"><a href="cap6.html#cb206-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-8"><a href="cap6.html#cb206-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Cor e tamanho dos pontos </span></span>
<span id="cb206-9"><a href="cap6.html#cb206-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, </span>
<span id="cb206-10"><a href="cap6.html#cb206-10" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm)) <span class="sc">+</span></span>
<span id="cb206-11"><a href="cap6.html#cb206-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb206-12"><a href="cap6.html#cb206-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">4</span>,</span>
<span id="cb206-13"><a href="cap6.html#cb206-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb206-14"><a href="cap6.html#cb206-14" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Com transparência&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-212-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-212-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A forma dos pontos permite dois controles importantes: a forma em si
(símbolos como círculo, quadrado, etc.) e a possibilidade de
preenchimento da forma. A figura a seguir discrimina esses símbolos e o
valor que deve ser utilizado para desenhar a forma preferida. É
importante notar que os símbolos 21 a 25 possuem dois argumentos: (i)
cor (que, na verdade, é a cor da linha do símbolo) e (ii) fill (cor que
define o preenchimento do símbolo). O tipo de símbolo é definido pelo
argumento <strong><code>shape</code></strong>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-point-shape"></span>
<img src="img/cap06_fig02.png" alt="Figura 3. Tipos de símbolos disponíveis." width="50%" />
<p class="caption">
Figura 6.3: Figura 3. Tipos de símbolos disponíveis.
</p>
</div>
<p>Assim, é possível controlar cores, formas e preenchimento combinado os
argumentos <code>shape</code>, <code>fill</code>e <code>color</code>com a função <code>scale_manual()</code>. É
importante notar que para os símbolos entre 15 e 20 só podemos controlar
o argumento cor, enquanto os símbolos entre 21 e 25 podemos controlar a
cor e o preenchimento.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="cap6.html#cb207-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-2"><a href="cap6.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="co"># shape = 1 e size = 2</span></span>
<span id="cb207-3"><a href="cap6.html#cb207-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm)) <span class="sc">+</span></span>
<span id="cb207-4"><a href="cap6.html#cb207-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">2</span>)</span>
<span id="cb207-5"><a href="cap6.html#cb207-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-6"><a href="cap6.html#cb207-6" aria-hidden="true" tabindex="-1"></a><span class="co"># shape = 19 (símbolo padrão da função) e size = 3</span></span>
<span id="cb207-7"><a href="cap6.html#cb207-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, </span>
<span id="cb207-8"><a href="cap6.html#cb207-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb207-9"><a href="cap6.html#cb207-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">19</span>, <span class="at">size =</span> <span class="dv">3</span>)</span>
<span id="cb207-10"><a href="cap6.html#cb207-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-11"><a href="cap6.html#cb207-11" aria-hidden="true" tabindex="-1"></a><span class="co"># shape = 21 e size = 4</span></span>
<span id="cb207-12"><a href="cap6.html#cb207-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, </span>
<span id="cb207-13"><a href="cap6.html#cb207-13" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb207-14"><a href="cap6.html#cb207-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-213-1.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-213-2.png" width="50%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-213-3.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="definindo-linhas-de-ajuste" class="section level3" number="6.6.3">
<h3><span class="header-section-number">6.6.3</span> 4.7.3. Definindo linhas de ajuste</h3>
<p>Quando usamos modelos estatísticos como, por exemplo, lm(), glm(),
gam(), entre outros, podemos utilizar os valores preditos para
demonstrar a relação entre as variáveis X e Y. No ggplot2 a função
<code>geom_smooth()</code> faz esse ajuste com certa simplicidade. Além disso,
incluir a cor da espécie dentro do <code>aes()</code> essa informação é herdada
para as próximas camadas. Neste caso, uma regressão linear é plotada
para o subconjunto de dados que representa cada espécie.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="cap6.html#cb208-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-2"><a href="cap6.html#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="co"># shape = 21 e size = 4</span></span>
<span id="cb208-3"><a href="cap6.html#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, </span>
<span id="cb208-4"><a href="cap6.html#cb208-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb208-5"><a href="cap6.html#cb208-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> .<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb208-6"><a href="cap6.html#cb208-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span> lm)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-214-1.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="ajustes-finos-versão-personalizada-5" class="section level3" number="6.6.4">
<h3><span class="header-section-number">6.6.4</span> 4.7.4. Ajustes finos (versão personalizada)</h3>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="cap6.html#cb209-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-2"><a href="cap6.html#cb209-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb209-3"><a href="cap6.html#cb209-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb209-4"><a href="cap6.html#cb209-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb209-5"><a href="cap6.html#cb209-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb209-6"><a href="cap6.html#cb209-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb209-7"><a href="cap6.html#cb209-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb209-8"><a href="cap6.html#cb209-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb209-9"><a href="cap6.html#cb209-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb209-10"><a href="cap6.html#cb209-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb209-11"><a href="cap6.html#cb209-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb209-12"><a href="cap6.html#cb209-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb209-13"><a href="cap6.html#cb209-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb209-14"><a href="cap6.html#cb209-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-215-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Além disso, podemos relacionar dados não tão usuais. Recomendamos a
leitura do artigo de Matejka &amp; Fitzmaurice (2017) que apresenta as
armadilhas típicas que dados podem gerar quando evitamos de
visualizá-los previmamente.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="cap6.html#cb210-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-2"><a href="cap6.html#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="co"># data + plot</span></span>
<span id="cb210-3"><a href="cap6.html#cb210-3" aria-hidden="true" tabindex="-1"></a>datasaurus_dozen <span class="sc">%&gt;%</span> </span>
<span id="cb210-4"><a href="cap6.html#cb210-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(dataset <span class="sc">==</span> <span class="st">&quot;dino&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb210-5"><a href="cap6.html#cb210-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb210-6"><a href="cap6.html#cb210-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y) <span class="sc">+</span></span>
<span id="cb210-7"><a href="cap6.html#cb210-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb210-8"><a href="cap6.html#cb210-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">size =</span> <span class="dv">5</span>, <span class="at">alpha =</span> .<span class="dv">75</span>, <span class="at">pch =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb210-9"><a href="cap6.html#cb210-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb210-10"><a href="cap6.html#cb210-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">24</span>),</span>
<span id="cb210-11"><a href="cap6.html#cb210-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb210-12"><a href="cap6.html#cb210-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>))</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-216-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="visualização-de-múltiplos-gráficos-pareados" class="section level2" number="6.7">
<h2><span class="header-section-number">6.7</span> 4.8. Visualização de múltiplos gráficos pareados</h2>
<p>Muitas vezes precisamos compreender a correlação entre múltiplas
variáveis, sendo comuum que essas variáveis sejam de mais de um tipo
(contínua, categórica, etc). A solução mais indicada para termos uma
visão geral do conjunto de dados e de suas interrelações é o gráfico
generalizado pareado (<a href="https://www.tandfonline.com/doi/full/10.1080/10618600.2012.694762">Emerson et al.
2013</a>).</p>
<div id="gráfico-pareado-com-variáveis-contínuas" class="section level3" number="6.7.1">
<h3><span class="header-section-number">6.7.1</span> 4.8.1. Gráfico pareado com variáveis contínuas</h3>
<p>A função <code>ggpairs()</code>do pacote GGally permite criar múltiplos gráficos
pareados comparando as variáveis contínuas no seu conjunto de dados.
Além de plotar gráficos de dispersão de cada par de variáveis, ela
apresenta gráficos de densidade de cada variável individualmente e, além
disso, os valores de correlação entre os pares analisados com ou sem uma
potencial variável categórica (neste caso, <em>species</em>)</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="cap6.html#cb211-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-2"><a href="cap6.html#cb211-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb211-3"><a href="cap6.html#cb211-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(body_mass_g, <span class="fu">ends_with</span>(<span class="st">&quot;_mm&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb211-4"><a href="cap6.html#cb211-4" aria-hidden="true" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>(<span class="fu">aes</span>(<span class="at">color =</span> penguins<span class="sc">$</span>species)) <span class="sc">+</span></span>
<span id="cb211-5"><a href="cap6.html#cb211-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb211-6"><a href="cap6.html#cb211-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb211-7"><a href="cap6.html#cb211-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-217-1.png" width="100%" height="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="gráfico-pareado-com-vários-tipos-de-variáveis" class="section level3" number="6.7.2">
<h3><span class="header-section-number">6.7.2</span> 4.8.2. Gráfico pareado com vários tipos de variáveis</h3>
<p>Como alternativa, a função <strong><code>ggpairs()</code></strong> permite também incluir
variáveis categóricas nas comparações. Neste caso, ela reconhece o tipo
de gráfico (boxplot, dispersão, etc…) a partir da classe das
variáveis.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="cap6.html#cb212-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb212-2"><a href="cap6.html#cb212-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(species, sex, body_mass_g, <span class="fu">ends_with</span>(<span class="st">&quot;_mm&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb212-3"><a href="cap6.html#cb212-3" aria-hidden="true" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>(<span class="fu">aes</span>(<span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb212-4"><a href="cap6.html#cb212-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb212-5"><a href="cap6.html#cb212-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb212-6"><a href="cap6.html#cb212-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-218-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="erros-comuns-dos-usuários-do-ggplot2-e-como-evitá-los" class="section level2" number="6.8">
<h2><span class="header-section-number">6.8</span> 5. Erros comuns dos usuários do <code>ggplot2</code> e como evitá-los</h2>
<p>Abaixo, apresentamos uma lista não exaustiva dos erros mais comuns que
cometemos (e vimos muitos usuários cometerem) ao fazer gráficos no
ggplot2:</p>
<ul>
<li><p>Utilizar ajuste manual nas funções <code>scale_shape_manual()</code>,
<code>scale_color_manual()</code> ou <code>scale_fill_manual()</code> sem indicar no
argumento <code>aes()</code> as variáveis que devem definir cada um desses
elementos gráficos.</p></li>
<li><p>Definir a cor ou preenchimento de um geom dentro do <code>aes()</code> global
(<code>ggplot(aes(color = "black¨</code>)) quando no fundo essa definição
deveria ser dento do geom (<code>geom_point(color = "black")</code>.</p></li>
<li><p>Utilizar ajuste manual na função <code>scale_size_manual()</code> indicando uma
variável categórica ao invés de numérica.</p></li>
<li><p>Número de cores indicadas como valores no <strong><code>scale_fill_manual()</code></strong>
ou <strong><code>scale_color_manual()</code></strong>: ao definir as cores de maneira
personalizada (ou seja, não usando o padrão da função) é muito comum
utilizarmos o número de cores usados por algum tutorial ou livro.
Com frequência, o exemplo seguido e seus dados não possuem o mesmo
número de cores. Deste modo, você pode usar comando no R para ajudar
a quantificar o número de cores necessárias. Por exemplo, para os
dados penguins, o comando a seguir indica o número de cores
necessárias: <code>length(levels(penguins$species))</code>. Assim, será
necessário indicar três cores diferentes dentro da função
<code>scale_()</code>.</p></li>
<li><p>Função <code>geom_smooth()</code>: como falado acima, a função <code>geom_smooth()</code>
é muito útil (e simples) para gerar as linhas de ajuste (best fit)
típicas de modelos lineares e não lineares. Porém, fique alerta que
ao usar, por exemplo, <code>geom_smooth(method = lm)</code>, o modelo linear
utilizado para testar sua predição foi o <code>lm()</code>. Se tiver utilizado
<code>glm()</code>ou <code>gam()</code> o ajuste deve ser produzido a partir desses
modelos.</p></li>
<li><p>Uso incorreto da classe das variáveis: neste caso, o usuário
utilizar uma variável numérica (por exemplo, 1, 2 e 3) como variável
categórica. Neste caso, é preciso transformar a variável numérica em
variável categóricas (antes de fazer o ggplot2 ou dentro do
<code>aes()</code>). Veja exemplos abaixo:</p></li>
</ul>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="cap6.html#cb213-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb213-2"><a href="cap6.html#cb213-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> bill_length_mm))<span class="sc">+</span></span>
<span id="cb213-3"><a href="cap6.html#cb213-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb213-4"><a href="cap6.html#cb213-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb213-5"><a href="cap6.html#cb213-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Figura incorreta&quot;</span>)</span>
<span id="cb213-6"><a href="cap6.html#cb213-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-7"><a href="cap6.html#cb213-7" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb213-8"><a href="cap6.html#cb213-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(year), <span class="at">y =</span> bill_length_mm))<span class="sc">+</span></span>
<span id="cb213-9"><a href="cap6.html#cb213-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb213-10"><a href="cap6.html#cb213-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb213-11"><a href="cap6.html#cb213-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Figura correta com transformação interna&quot;</span>)</span>
<span id="cb213-12"><a href="cap6.html#cb213-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-13"><a href="cap6.html#cb213-13" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb213-14"><a href="cap6.html#cb213-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_f =</span> <span class="fu">as.factor</span>(year)) <span class="sc">%&gt;%</span> </span>
<span id="cb213-15"><a href="cap6.html#cb213-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_f, <span class="at">y =</span> bill_length_mm))<span class="sc">+</span></span>
<span id="cb213-16"><a href="cap6.html#cb213-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb213-17"><a href="cap6.html#cb213-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb213-18"><a href="cap6.html#cb213-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Figura correta com transformação prévia&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-219-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-219-2.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-219-3.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="finalização-de-gráficos-para-publicação" class="section level2" number="6.9">
<h2><span class="header-section-number">6.9</span> 6. Finalização de gráficos para publicação</h2>
<div id="posição-cores-e-fonte-da-legenda" class="section level3" number="6.9.1">
<h3><span class="header-section-number">6.9.1</span> 6.1. Posição, cores e fonte da legenda</h3>
<p>É possível controlar a posição, cores e fonte da legenda em diversos
locais com alguns argumentos dentro da função <code>theme()</code>:</p>
<ul>
<li><p><code>legend.position</code>controla a posição na área do gráfico: <code>top</code>,
<code>right</code>, <code>bottom</code>, <code>left</code> ou <code>none</code>. Além disso, é possível inserir
a legenda internamente no gráfico indicando as posições nos eixos X
e Y</p></li>
<li><p><code>legend.box</code>determina as caracteríscas do retângulo onde a legenda é
inserida: <code>legend.box.background</code> (combinado com <code>element_rect()</code>) e
<code>legend.box.margin</code> (combinado com <code>margin()</code>)</p></li>
<li><p><code>legend.text</code> controla a cor e tamanho da legenda (as duas
informações devem ser inseridas dentro da função <code>element_text()</code>)</p></li>
<li><p><code>legend.title</code> personaliza a cor e tamanho da legenda também dentro
da função <code>element_text()</code></p></li>
</ul>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="cap6.html#cb214-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-2"><a href="cap6.html#cb214-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb214-3"><a href="cap6.html#cb214-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb214-4"><a href="cap6.html#cb214-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb214-5"><a href="cap6.html#cb214-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb214-6"><a href="cap6.html#cb214-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb214-7"><a href="cap6.html#cb214-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb214-8"><a href="cap6.html#cb214-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb214-9"><a href="cap6.html#cb214-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb214-10"><a href="cap6.html#cb214-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb214-11"><a href="cap6.html#cb214-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb214-12"><a href="cap6.html#cb214-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb214-13"><a href="cap6.html#cb214-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Legenda acima do gráfico&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb214-14"><a href="cap6.html#cb214-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>) <span class="sc">+</span></span>
<span id="cb214-15"><a href="cap6.html#cb214-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>)</span>
<span id="cb214-16"><a href="cap6.html#cb214-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-17"><a href="cap6.html#cb214-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb214-18"><a href="cap6.html#cb214-18" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb214-19"><a href="cap6.html#cb214-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb214-20"><a href="cap6.html#cb214-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb214-21"><a href="cap6.html#cb214-21" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb214-22"><a href="cap6.html#cb214-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb214-23"><a href="cap6.html#cb214-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb214-24"><a href="cap6.html#cb214-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb214-25"><a href="cap6.html#cb214-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb214-26"><a href="cap6.html#cb214-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb214-27"><a href="cap6.html#cb214-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb214-28"><a href="cap6.html#cb214-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Legenda abaixo do gráfico&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb214-29"><a href="cap6.html#cb214-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>)<span class="sc">+</span></span>
<span id="cb214-30"><a href="cap6.html#cb214-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span>
<span id="cb214-31"><a href="cap6.html#cb214-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-32"><a href="cap6.html#cb214-32" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb214-33"><a href="cap6.html#cb214-33" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb214-34"><a href="cap6.html#cb214-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb214-35"><a href="cap6.html#cb214-35" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb214-36"><a href="cap6.html#cb214-36" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb214-37"><a href="cap6.html#cb214-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb214-38"><a href="cap6.html#cb214-38" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb214-39"><a href="cap6.html#cb214-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb214-40"><a href="cap6.html#cb214-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb214-41"><a href="cap6.html#cb214-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb214-42"><a href="cap6.html#cb214-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb214-43"><a href="cap6.html#cb214-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Sem legenda&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb214-44"><a href="cap6.html#cb214-44" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>)<span class="sc">+</span></span>
<span id="cb214-45"><a href="cap6.html#cb214-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb214-46"><a href="cap6.html#cb214-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-47"><a href="cap6.html#cb214-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-48"><a href="cap6.html#cb214-48" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb214-49"><a href="cap6.html#cb214-49" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb214-50"><a href="cap6.html#cb214-50" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb214-51"><a href="cap6.html#cb214-51" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb214-52"><a href="cap6.html#cb214-52" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb214-53"><a href="cap6.html#cb214-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb214-54"><a href="cap6.html#cb214-54" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb214-55"><a href="cap6.html#cb214-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb214-56"><a href="cap6.html#cb214-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb214-57"><a href="cap6.html#cb214-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb214-58"><a href="cap6.html#cb214-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb214-59"><a href="cap6.html#cb214-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Legenda personalizada&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb214-60"><a href="cap6.html#cb214-60" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>)<span class="sc">+</span></span>
<span id="cb214-61"><a href="cap6.html#cb214-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;right&quot;</span>,</span>
<span id="cb214-62"><a href="cap6.html#cb214-62" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>),</span>
<span id="cb214-63"><a href="cap6.html#cb214-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb214-64"><a href="cap6.html#cb214-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.box.background =</span> <span class="fu">element_rect</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">2</span>),</span>
<span id="cb214-65"><a href="cap6.html#cb214-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">6</span>))</span>
<span id="cb214-66"><a href="cap6.html#cb214-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-67"><a href="cap6.html#cb214-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-68"><a href="cap6.html#cb214-68" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb214-69"><a href="cap6.html#cb214-69" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb214-70"><a href="cap6.html#cb214-70" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb214-71"><a href="cap6.html#cb214-71" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb214-72"><a href="cap6.html#cb214-72" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb214-73"><a href="cap6.html#cb214-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb214-74"><a href="cap6.html#cb214-74" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb214-75"><a href="cap6.html#cb214-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb214-76"><a href="cap6.html#cb214-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb214-77"><a href="cap6.html#cb214-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb214-78"><a href="cap6.html#cb214-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb214-79"><a href="cap6.html#cb214-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Legenda interna&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb214-80"><a href="cap6.html#cb214-80" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>)<span class="sc">+</span></span>
<span id="cb214-81"><a href="cap6.html#cb214-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>),</span>
<span id="cb214-82"><a href="cap6.html#cb214-82" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb214-83"><a href="cap6.html#cb214-83" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key =</span>  <span class="fu">element_blank</span>(),</span>
<span id="cb214-84"><a href="cap6.html#cb214-84" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb214-85"><a href="cap6.html#cb214-85" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-220-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-220-2.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-220-3.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-220-4.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-220-5.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="elementos-gráficos-eixo-fonte-grid" class="section level3" number="6.9.2">
<h3><span class="header-section-number">6.9.2</span> 6.2. Elementos gráficos: eixo, fonte, grid</h3>
<p>O gráfico padronizado (sem edição extra) geralmente não traz elementos
mínimos para publicação em revistas, livros e periódicos. Além do
controle da posição, cor e tamanho da legenda, é fundamental
personalizar os seguintes elementos: eixo, fonte e grid.</p>
<ul>
<li><p>Eixos</p>
<ul>
<li><p>Variação: define limites mínimos e máximos para os eixos X
(<code>xlim()</code>) e Y (<code>ylim()</code>)</p></li>
<li><p>Intervalo: define o valor intervalo entre os números dos eixos X
e Y</p></li>
<li><p>Escala</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="cap6.html#cb215-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-2"><a href="cap6.html#cb215-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb215-3"><a href="cap6.html#cb215-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb215-4"><a href="cap6.html#cb215-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb215-5"><a href="cap6.html#cb215-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb215-6"><a href="cap6.html#cb215-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb215-7"><a href="cap6.html#cb215-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb215-8"><a href="cap6.html#cb215-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">22</span>) <span class="sc">+</span></span>
<span id="cb215-9"><a href="cap6.html#cb215-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">60</span>) <span class="sc">+</span></span>
<span id="cb215-10"><a href="cap6.html#cb215-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span>
<span id="cb215-11"><a href="cap6.html#cb215-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-12"><a href="cap6.html#cb215-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb215-13"><a href="cap6.html#cb215-13" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb215-14"><a href="cap6.html#cb215-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb215-15"><a href="cap6.html#cb215-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb215-16"><a href="cap6.html#cb215-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb215-17"><a href="cap6.html#cb215-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb215-18"><a href="cap6.html#cb215-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">60</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">20</span>, <span class="dv">60</span>, <span class="dv">2</span>))<span class="sc">+</span></span>
<span id="cb215-19"><a href="cap6.html#cb215-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span>
<span id="cb215-20"><a href="cap6.html#cb215-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-21"><a href="cap6.html#cb215-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb215-22"><a href="cap6.html#cb215-22" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb215-23"><a href="cap6.html#cb215-23" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb215-24"><a href="cap6.html#cb215-24" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb215-25"><a href="cap6.html#cb215-25" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb215-26"><a href="cap6.html#cb215-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb215-27"><a href="cap6.html#cb215-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">60</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">20</span>, <span class="dv">60</span>, <span class="dv">10</span>))<span class="sc">+</span></span>
<span id="cb215-28"><a href="cap6.html#cb215-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-221-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-221-2.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-221-3.png" width="70%" style="display: block; margin: auto;" /></p>
<ul>
<li><p>Fonte dos eixos X e Y</p>
<ul>
<li><p>Tipo</p></li>
<li><p>Tamanho</p></li>
<li><p>Cor</p></li>
<li><p>Face (itálico, negrito, etc.)</p></li>
<li><p>Ângulo</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="cap6.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb216-2"><a href="cap6.html#cb216-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb216-3"><a href="cap6.html#cb216-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb216-4"><a href="cap6.html#cb216-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb216-5"><a href="cap6.html#cb216-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb216-6"><a href="cap6.html#cb216-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb216-7"><a href="cap6.html#cb216-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">colour =</span> <span class="st">&quot;royalblue&quot;</span>),</span>
<span id="cb216-8"><a href="cap6.html#cb216-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb216-9"><a href="cap6.html#cb216-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">colour =</span> <span class="st">&quot;royalblue&quot;</span>),</span>
<span id="cb216-10"><a href="cap6.html#cb216-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))<span class="sc">+</span></span>
<span id="cb216-11"><a href="cap6.html#cb216-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span>
<span id="cb216-12"><a href="cap6.html#cb216-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-13"><a href="cap6.html#cb216-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-14"><a href="cap6.html#cb216-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-15"><a href="cap6.html#cb216-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb216-16"><a href="cap6.html#cb216-16" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb216-17"><a href="cap6.html#cb216-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb216-18"><a href="cap6.html#cb216-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb216-19"><a href="cap6.html#cb216-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb216-20"><a href="cap6.html#cb216-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb216-21"><a href="cap6.html#cb216-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">60</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">20</span>, <span class="dv">60</span>, <span class="dv">2</span>))<span class="sc">+</span></span>
<span id="cb216-22"><a href="cap6.html#cb216-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">colour =</span> <span class="st">&quot;royalblue&quot;</span>),</span>
<span id="cb216-23"><a href="cap6.html#cb216-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">angle =</span> <span class="dv">45</span>),</span>
<span id="cb216-24"><a href="cap6.html#cb216-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">colour =</span> <span class="st">&quot;royalblue&quot;</span>),</span>
<span id="cb216-25"><a href="cap6.html#cb216-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))<span class="sc">+</span></span>
<span id="cb216-26"><a href="cap6.html#cb216-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-222-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-222-2.png" width="70%" style="display: block; margin: auto;" /></p>
<ul>
<li><p>Grid</p>
<ul>
<li><p>Linhas de grade principais (<code>panel.grid.major</code>)</p></li>
<li><p>Linhas de grade secundárias (<code>panel.grid.minor</code>)</p></li>
<li><p>Borda do gráfico (<code>panel.border</code>)</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="cap6.html#cb217-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-2"><a href="cap6.html#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb217-3"><a href="cap6.html#cb217-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb217-4"><a href="cap6.html#cb217-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb217-5"><a href="cap6.html#cb217-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb217-6"><a href="cap6.html#cb217-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb217-7"><a href="cap6.html#cb217-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb217-8"><a href="cap6.html#cb217-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">60</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb217-9"><a href="cap6.html#cb217-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb217-10"><a href="cap6.html#cb217-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb217-11"><a href="cap6.html#cb217-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb217-12"><a href="cap6.html#cb217-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb217-13"><a href="cap6.html#cb217-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb217-14"><a href="cap6.html#cb217-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Linhas de grade principais&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span>
<span id="cb217-15"><a href="cap6.html#cb217-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-16"><a href="cap6.html#cb217-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb217-17"><a href="cap6.html#cb217-17" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb217-18"><a href="cap6.html#cb217-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb217-19"><a href="cap6.html#cb217-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb217-20"><a href="cap6.html#cb217-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb217-21"><a href="cap6.html#cb217-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb217-22"><a href="cap6.html#cb217-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">60</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb217-23"><a href="cap6.html#cb217-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb217-24"><a href="cap6.html#cb217-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb217-25"><a href="cap6.html#cb217-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb217-26"><a href="cap6.html#cb217-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb217-27"><a href="cap6.html#cb217-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb217-28"><a href="cap6.html#cb217-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb217-29"><a href="cap6.html#cb217-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span>
<span id="cb217-30"><a href="cap6.html#cb217-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-31"><a href="cap6.html#cb217-31" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb217-32"><a href="cap6.html#cb217-32" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb217-33"><a href="cap6.html#cb217-33" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb217-34"><a href="cap6.html#cb217-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb217-35"><a href="cap6.html#cb217-35" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb217-36"><a href="cap6.html#cb217-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb217-37"><a href="cap6.html#cb217-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">60</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb217-38"><a href="cap6.html#cb217-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb217-39"><a href="cap6.html#cb217-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb217-40"><a href="cap6.html#cb217-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb217-41"><a href="cap6.html#cb217-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb217-42"><a href="cap6.html#cb217-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb217-43"><a href="cap6.html#cb217-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb217-44"><a href="cap6.html#cb217-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="cn">NA</span>))<span class="sc">+</span></span>
<span id="cb217-45"><a href="cap6.html#cb217-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span>
<span id="cb217-46"><a href="cap6.html#cb217-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-47"><a href="cap6.html#cb217-47" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb217-48"><a href="cap6.html#cb217-48" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb217-49"><a href="cap6.html#cb217-49" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb217-50"><a href="cap6.html#cb217-50" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb217-51"><a href="cap6.html#cb217-51" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb217-52"><a href="cap6.html#cb217-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb217-53"><a href="cap6.html#cb217-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">60</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb217-54"><a href="cap6.html#cb217-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb217-55"><a href="cap6.html#cb217-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb217-56"><a href="cap6.html#cb217-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb217-57"><a href="cap6.html#cb217-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb217-58"><a href="cap6.html#cb217-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb217-59"><a href="cap6.html#cb217-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb217-60"><a href="cap6.html#cb217-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">size =</span> <span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb217-61"><a href="cap6.html#cb217-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Eixo X&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Eixo Y&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-223-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-223-2.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-223-3.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-223-4.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="temas-personalizados-ggtheme-existem-vários-temas-criados-dentro-do-universo-ggtheme-que-podem-facilitar" class="section level3" number="6.9.3">
<h3><span class="header-section-number">6.9.3</span> 6.3. Temas personalizados <code>ggtheme()</code> Existem vários temas criados dentro do universo ggtheme() que podem facilitar</h3>
<p>Existem vários temas criados dentro do universo
<a href="https://ggplot2.tidyverse.org/reference/ggtheme.html"><code>ggtheme()</code></a> que
podem facilitar a escolha de um modelo com ótima qualidade para
publicação. Abaixo, demonstramos os modelos mais utilizados.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="cap6.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb218-2"><a href="cap6.html#cb218-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb218-3"><a href="cap6.html#cb218-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb218-4"><a href="cap6.html#cb218-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb218-5"><a href="cap6.html#cb218-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb218-6"><a href="cap6.html#cb218-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb218-7"><a href="cap6.html#cb218-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb218-8"><a href="cap6.html#cb218-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb218-9"><a href="cap6.html#cb218-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb218-10"><a href="cap6.html#cb218-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb218-11"><a href="cap6.html#cb218-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb218-12"><a href="cap6.html#cb218-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;theme_gray()&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb218-13"><a href="cap6.html#cb218-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>) </span>
<span id="cb218-14"><a href="cap6.html#cb218-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb218-15"><a href="cap6.html#cb218-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb218-16"><a href="cap6.html#cb218-16" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb218-17"><a href="cap6.html#cb218-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb218-18"><a href="cap6.html#cb218-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb218-19"><a href="cap6.html#cb218-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb218-20"><a href="cap6.html#cb218-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb218-21"><a href="cap6.html#cb218-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb218-22"><a href="cap6.html#cb218-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb218-23"><a href="cap6.html#cb218-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb218-24"><a href="cap6.html#cb218-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb218-25"><a href="cap6.html#cb218-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb218-26"><a href="cap6.html#cb218-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;theme_bw()&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb218-27"><a href="cap6.html#cb218-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>) </span>
<span id="cb218-28"><a href="cap6.html#cb218-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb218-29"><a href="cap6.html#cb218-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb218-30"><a href="cap6.html#cb218-30" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb218-31"><a href="cap6.html#cb218-31" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb218-32"><a href="cap6.html#cb218-32" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb218-33"><a href="cap6.html#cb218-33" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb218-34"><a href="cap6.html#cb218-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb218-35"><a href="cap6.html#cb218-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb218-36"><a href="cap6.html#cb218-36" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb218-37"><a href="cap6.html#cb218-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb218-38"><a href="cap6.html#cb218-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb218-39"><a href="cap6.html#cb218-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb218-40"><a href="cap6.html#cb218-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb218-41"><a href="cap6.html#cb218-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;theme_classic()&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb218-42"><a href="cap6.html#cb218-42" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>) </span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-224-1.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-224-2.png" width="70%" style="display: block; margin: auto;" /><img src="livro_files/figure-html/unnamed-chunk-224-3.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="criando-seu-próprio-theme_custom" class="section level3" number="6.9.4">
<h3><span class="header-section-number">6.9.4</span> 6.4. Criando seu próprio <code>theme_custom()</code></h3>
<p>Por fim, é possível criar um tema personalizado como uma função dentro
do R. Assim, o usuário pode controlar todos os elementos gráficos em um
único comando. O maior benefício de personalizar uma função é que não
será necessários fazer os ajustes finos em todos os gráficos que tiver
construindo, o que pode representar grande economia de tempo. Esse tipo
de padronização é fundamental para que todos os gráficos de um artigo
tenham consitência e harmonia estética.</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="cap6.html#cb219-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-2"><a href="cap6.html#cb219-2" aria-hidden="true" tabindex="-1"></a>theme_book <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb219-3"><a href="cap6.html#cb219-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-4"><a href="cap6.html#cb219-4" aria-hidden="true" tabindex="-1"></a><span class="co"># escolha uma fonte</span></span>
<span id="cb219-5"><a href="cap6.html#cb219-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-6"><a href="cap6.html#cb219-6" aria-hidden="true" tabindex="-1"></a>font <span class="ot">&lt;-</span> <span class="st">&quot;Times&quot;</span> <span class="co"># digite names(pdfFonts()) no console do R para ver a lista</span></span>
<span id="cb219-7"><a href="cap6.html#cb219-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-8"><a href="cap6.html#cb219-8" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(</span>
<span id="cb219-9"><a href="cap6.html#cb219-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-10"><a href="cap6.html#cb219-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Defina elementos do grid</span></span>
<span id="cb219-11"><a href="cap6.html#cb219-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">&quot;#d3d3d3&quot;</span>),  </span>
<span id="cb219-12"><a href="cap6.html#cb219-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb219-13"><a href="cap6.html#cb219-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb219-14"><a href="cap6.html#cb219-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb219-15"><a href="cap6.html#cb219-15" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> <span class="cn">NA</span>, </span>
<span id="cb219-16"><a href="cap6.html#cb219-16" aria-hidden="true" tabindex="-1"></a>                              <span class="at">size =</span> .<span class="dv">5</span>),</span>
<span id="cb219-17"><a href="cap6.html#cb219-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-18"><a href="cap6.html#cb219-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Defina elementos textuais</span></span>
<span id="cb219-19"><a href="cap6.html#cb219-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.title =</span> <span class="fu">element_text</span>(             <span class="co"># título</span></span>
<span id="cb219-20"><a href="cap6.html#cb219-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> font,            <span class="co">#set font family</span></span>
<span id="cb219-21"><a href="cap6.html#cb219-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">20</span>,                <span class="co">#set font size</span></span>
<span id="cb219-22"><a href="cap6.html#cb219-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">face =</span> <span class="st">&#39;bold&#39;</span>,            <span class="co">#bold typeface</span></span>
<span id="cb219-23"><a href="cap6.html#cb219-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>,                <span class="co">#left align</span></span>
<span id="cb219-24"><a href="cap6.html#cb219-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="dv">2</span>),               <span class="co">#raise slightly</span></span>
<span id="cb219-25"><a href="cap6.html#cb219-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-26"><a href="cap6.html#cb219-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(          <span class="co">#subtitle</span></span>
<span id="cb219-27"><a href="cap6.html#cb219-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> font,            <span class="co">#font family</span></span>
<span id="cb219-28"><a href="cap6.html#cb219-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">14</span>),               <span class="co">#font size</span></span>
<span id="cb219-29"><a href="cap6.html#cb219-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-30"><a href="cap6.html#cb219-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.caption =</span> <span class="fu">element_text</span>(           <span class="co">#caption</span></span>
<span id="cb219-31"><a href="cap6.html#cb219-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> font,            <span class="co">#font family</span></span>
<span id="cb219-32"><a href="cap6.html#cb219-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">14</span>,                <span class="co">#font size</span></span>
<span id="cb219-33"><a href="cap6.html#cb219-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">1</span>),               <span class="co">#right align</span></span>
<span id="cb219-34"><a href="cap6.html#cb219-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-35"><a href="cap6.html#cb219-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.title =</span> <span class="fu">element_text</span>(             <span class="co">#axis titles</span></span>
<span id="cb219-36"><a href="cap6.html#cb219-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> font,            <span class="co">#font family</span></span>
<span id="cb219-37"><a href="cap6.html#cb219-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">14</span>),               <span class="co">#font size</span></span>
<span id="cb219-38"><a href="cap6.html#cb219-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-39"><a href="cap6.html#cb219-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text =</span> <span class="fu">element_text</span>(              <span class="co">#axis text</span></span>
<span id="cb219-40"><a href="cap6.html#cb219-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> font,            <span class="co">#axis famuly</span></span>
<span id="cb219-41"><a href="cap6.html#cb219-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">14</span>),                <span class="co">#font size</span></span>
<span id="cb219-42"><a href="cap6.html#cb219-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-43"><a href="cap6.html#cb219-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(            <span class="co">#margin for axis text</span></span>
<span id="cb219-44"><a href="cap6.html#cb219-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin=</span><span class="fu">margin</span>(<span class="dv">5</span>, <span class="at">b =</span> <span class="dv">10</span>))</span>
<span id="cb219-45"><a href="cap6.html#cb219-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb219-46"><a href="cap6.html#cb219-46" aria-hidden="true" tabindex="-1"></a>  <span class="co">#since the legend often requires manual tweaking </span></span>
<span id="cb219-47"><a href="cap6.html#cb219-47" aria-hidden="true" tabindex="-1"></a>  <span class="co">#based on plot content, don&#39;t define it here</span></span>
<span id="cb219-48"><a href="cap6.html#cb219-48" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb219-49"><a href="cap6.html#cb219-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-50"><a href="cap6.html#cb219-50" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb219-51"><a href="cap6.html#cb219-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-52"><a href="cap6.html#cb219-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-53"><a href="cap6.html#cb219-53" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb219-54"><a href="cap6.html#cb219-54" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb219-55"><a href="cap6.html#cb219-55" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb219-56"><a href="cap6.html#cb219-56" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb219-57"><a href="cap6.html#cb219-57" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb219-58"><a href="cap6.html#cb219-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb219-59"><a href="cap6.html#cb219-59" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb219-60"><a href="cap6.html#cb219-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb219-61"><a href="cap6.html#cb219-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb219-62"><a href="cap6.html#cb219-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb219-63"><a href="cap6.html#cb219-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Tema personalizado&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb219-64"><a href="cap6.html#cb219-64" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>) <span class="sc">+</span></span>
<span id="cb219-65"><a href="cap6.html#cb219-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_book</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-225-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="exportando-dados-com-alta-qualidade-com-a-função-ggsave" class="section level3" number="6.9.5">
<h3><span class="header-section-number">6.9.5</span> 6.5. Exportando dados com alta qualidade com a função <code>ggsave()</code></h3>
<p>O último passo para construir gráficos com qualidade de publicação é
exportar em um formato específico, como png, pdf ou svg (entre outros).
A função ggsave() não só permite que você tenha o controle sobre o
formato, mas também sobre a qualidade e tamanho desejados com os
seguintes argumentos:</p>
<ul>
<li><p>width = largura do gráfico</p></li>
<li><p>height = altura do gráfico</p></li>
<li><p>units = a unidade (cm, mm) que do gráfico para definir largura e
tamanho</p></li>
<li><p>dpi = qualidade da imagem (padrão = 300)</p></li>
</ul>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="cap6.html#cb220-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-2"><a href="cap6.html#cb220-2" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> penguins, </span>
<span id="cb220-3"><a href="cap6.html#cb220-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb220-4"><a href="cap6.html#cb220-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb220-5"><a href="cap6.html#cb220-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> species,</span>
<span id="cb220-6"><a href="cap6.html#cb220-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb220-7"><a href="cap6.html#cb220-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb220-8"><a href="cap6.html#cb220-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb220-9"><a href="cap6.html#cb220-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb220-10"><a href="cap6.html#cb220-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">15</span>, <span class="dv">17</span>))<span class="sc">+</span></span>
<span id="cb220-11"><a href="cap6.html#cb220-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb220-12"><a href="cap6.html#cb220-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Comprimento do bico (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Profundidade do bico (mm)&quot;</span>, </span>
<span id="cb220-13"><a href="cap6.html#cb220-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Espécies&quot;</span>, <span class="at">shape =</span> <span class="st">&quot;Espécies&quot;</span>) <span class="sc">+</span></span>
<span id="cb220-14"><a href="cap6.html#cb220-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>),</span>
<span id="cb220-15"><a href="cap6.html#cb220-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb220-16"><a href="cap6.html#cb220-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key =</span>  <span class="fu">element_blank</span>(),</span>
<span id="cb220-17"><a href="cap6.html#cb220-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb220-18"><a href="cap6.html#cb220-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_book</span>()</span>
<span id="cb220-19"><a href="cap6.html#cb220-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-20"><a href="cap6.html#cb220-20" aria-hidden="true" tabindex="-1"></a>g1</span>
<span id="cb220-21"><a href="cap6.html#cb220-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-22"><a href="cap6.html#cb220-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;g1.pdf&quot;</span>, g1, </span>
<span id="cb220-23"><a href="cap6.html#cb220-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">15</span>, </span>
<span id="cb220-24"><a href="cap6.html#cb220-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">15</span>, </span>
<span id="cb220-25"><a href="cap6.html#cb220-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span><span class="dv">300</span>,</span>
<span id="cb220-26"><a href="cap6.html#cb220-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb220-27"><a href="cap6.html#cb220-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-28"><a href="cap6.html#cb220-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;g1.png&quot;</span>, g1, </span>
<span id="cb220-29"><a href="cap6.html#cb220-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">15</span>, </span>
<span id="cb220-30"><a href="cap6.html#cb220-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">15</span>, </span>
<span id="cb220-31"><a href="cap6.html#cb220-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span><span class="dv">300</span>,</span>
<span id="cb220-32"><a href="cap6.html#cb220-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb220-33"><a href="cap6.html#cb220-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-34"><a href="cap6.html#cb220-34" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;g1.svg&quot;</span>, g1, </span>
<span id="cb220-35"><a href="cap6.html#cb220-35" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">15</span>, </span>
<span id="cb220-36"><a href="cap6.html#cb220-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">15</span>, </span>
<span id="cb220-37"><a href="cap6.html#cb220-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span><span class="dv">300</span>,</span>
<span id="cb220-38"><a href="cap6.html#cb220-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/unnamed-chunk-226-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="check-list-para-garantir-bons-gráficos" class="section level2" number="6.10">
<h2><span class="header-section-number">6.10</span> Check-list para garantir bons gráficos</h2>
<ol style="list-style-type: decimal">
<li><p>Os eixos (Y e X) estão nomeados correatmente?</p></li>
<li><p>As unidades de ambos os eixos (Y e X) estão indicadas corretamente?</p></li>
<li><p>O tamanho da fonte dos eixos está adequado?</p></li>
<li><p>A escala e os intervalos dos eixos estão corretos?</p></li>
<li><p>O gráfico está proporcional (sem distorções: achatado em algum dos
eixo)?</p></li>
<li><p>As cores utilizadas possuem uma lógica clara e agregam valor na
compreensão e interpretação do gráfico?</p></li>
<li><p>Pare por um minuto e avalie se a mensagem principal do gráfico está
clara.</p></li>
</ol>
</div>
<div id="para-se-aprofundar-2" class="section level2" number="6.11">
<h2><span class="header-section-number">6.11</span> Para se aprofundar</h2>
<div id="livros-1" class="section level3" number="6.11.1">
<h3><span class="header-section-number">6.11.1</span> Livros</h3>
<p>Chang W. 2018. R Graphics Cookbook.
[<a href="http://www.cookbook-r.com/Graphs/" class="uri">http://www.cookbook-r.com/Graphs/</a>]</p>
<p>Healy K. 2019. Data Visualization: a practical introduction. Princeton
University Press. [<a href="https://socviz.co/" class="uri">https://socviz.co/</a>´]</p>
<p>Kabacoff R. 2020. Data Visualization with R.
[<a href="https://rkabacoff.github.io/datavis/" class="uri">https://rkabacoff.github.io/datavis/</a>]</p>
<p>Rahlf T. 2019. Data Visualisation with R: 111 Examples. 2ed. Springer.
[<a href="http://www.datavisualisation-r.com/" class="uri">http://www.datavisualisation-r.com/</a>]</p>
<p>Sievert C. 2019. Interactive web-based data visualization with R,
plotly, and shiny. Chapman &amp; Hall/CRC. [<a href="https://plotly-r.com/" class="uri">https://plotly-r.com/</a>]</p>
<p>Wickham H. 2016. ggplot2: elegant graphics for data analysis. Springer.
[<a href="https://ggplot2-book.org/" class="uri">https://ggplot2-book.org/</a>]</p>
<p>Wilke C O. 2019. Fundamentals of Data Visualization. O’Reilly Media.
[<a href="https://clauswilke.com/dataviz/" class="uri">https://clauswilke.com/dataviz/</a>]</p>
<p>Wilkinson L, Wills D, Rope D, Norton A, Dubbs R. 2005. The Grammar of
Graphics. Springer.</p>
</div>
<div id="links-1" class="section level3" number="6.11.2">
<h3><span class="header-section-number">6.11.2</span> Links</h3>
<p><a href="https://www.r-graph-gallery.com/index.html">The R Graph Gallery</a></p>
<p><a href="https://www.data-to-viz.com/">From Data to Viz</a></p>
<p><a href="https://datavizproject.com/">Data Viz Project</a></p>
<p><a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">Color
Brewer2</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cap5.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="referências-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/paternogbc/livro_aer/edit/master/06_graficos.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/paternogbc/livro_aer/blob/master/06_graficos.Rmd",
"text": null
},
"download": ["livro.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
