<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.8 dplyr | Análises Ecológicas no R</title>
  <meta name="description" content="5.8 dplyr | Análises Ecológicas no R" />
  <meta name="generator" content="bookdown 0.22.17 and GitBook 2.6.7" />

  <meta property="og:title" content="5.8 dplyr | Análises Ecológicas no R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.8 dplyr | Análises Ecológicas no R" />
  
  
  



<meta name="date" content="2021-08-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tidyr.html"/>
<link rel="next" href="stringr.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Análises Ecológicas no R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Capa</a></li>
<li class="chapter" data-level="" data-path="prefácio.html"><a href="prefácio.html"><i class="fa fa-check"></i>Prefácio</a></li>
<li class="chapter" data-level="1" data-path="base-r.html"><a href="base-r.html"><i class="fa fa-check"></i><b>1</b> Pré-requisitos</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introdução.html"><a href="introdução.html"><i class="fa fa-check"></i><b>1.1</b> Introdução</a></li>
<li class="chapter" data-level="1.2" data-path="pacotes.html"><a href="pacotes.html"><i class="fa fa-check"></i><b>1.2</b> Pacotes</a></li>
<li class="chapter" data-level="1.3" data-path="versão-do-r.html"><a href="versão-do-r.html"><i class="fa fa-check"></i><b>1.3</b> Versão do R</a></li>
<li class="chapter" data-level="1.4" data-path="dados.html"><a href="dados.html"><i class="fa fa-check"></i><b>1.4</b> Dados</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cap2.html"><a href="cap2.html"><i class="fa fa-check"></i><b>2</b> Introdução</a>
<ul>
<li class="chapter" data-level="2.1" data-path="histórico-deste-livro.html"><a href="histórico-deste-livro.html"><i class="fa fa-check"></i><b>2.1</b> Histórico deste livro</a></li>
<li class="chapter" data-level="2.2" data-path="objetivo-deste-livro.html"><a href="objetivo-deste-livro.html"><i class="fa fa-check"></i><b>2.2</b> Objetivo deste livro</a></li>
<li class="chapter" data-level="2.3" data-path="o-que-você-não-encontrará-neste-livro.html"><a href="o-que-você-não-encontrará-neste-livro.html"><i class="fa fa-check"></i><b>2.3</b> O que você não encontrará neste livro</a></li>
<li class="chapter" data-level="2.4" data-path="por-que-usar-o-r.html"><a href="por-que-usar-o-r.html"><i class="fa fa-check"></i><b>2.4</b> Por que usar o R?</a></li>
<li class="chapter" data-level="2.5" data-path="indo-além-da-linguagem-de-progração-para-a-ecologia.html"><a href="indo-além-da-linguagem-de-progração-para-a-ecologia.html"><i class="fa fa-check"></i><b>2.5</b> Indo além da linguagem de progração para a Ecologia</a></li>
<li class="chapter" data-level="2.6" data-path="como-usar-este-livro.html"><a href="como-usar-este-livro.html"><i class="fa fa-check"></i><b>2.6</b> Como usar este livro</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cap3.html"><a href="cap3.html"><i class="fa fa-check"></i><b>3</b> Voltando ao básico: como dominar a arte de fazer perguntas cientificamente relevantes</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introdução-1.html"><a href="introdução-1.html"><i class="fa fa-check"></i><b>3.1</b> Introdução</a></li>
<li class="chapter" data-level="3.2" data-path="perguntas-devem-preceder-as-análises-estatísticas.html"><a href="perguntas-devem-preceder-as-análises-estatísticas.html"><i class="fa fa-check"></i><b>3.2</b> Perguntas devem preceder as análises estatísticas</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="perguntas-devem-preceder-as-análises-estatísticas.html"><a href="perguntas-devem-preceder-as-análises-estatísticas.html#um-bestiário1-para-o-teste-de-hipóteses-você-está-fazendo-a-pergunta-certa"><i class="fa fa-check"></i><b>3.2.1</b> Um bestiário para o teste de hipóteses (Você está fazendo a pergunta certa?)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="fluxograma-conectando-variáveis-para-melhorar-o-desenho-experimental-e-as-análises-estatísticas.html"><a href="fluxograma-conectando-variáveis-para-melhorar-o-desenho-experimental-e-as-análises-estatísticas.html"><i class="fa fa-check"></i><b>3.3</b> Fluxograma: Conectando Variáveis para Melhorar o desenho experimental e as análises estatísticas</a></li>
<li class="chapter" data-level="3.4" data-path="questões-fundamentais-em-etnobiologia-ecologia-e-conservação.html"><a href="questões-fundamentais-em-etnobiologia-ecologia-e-conservação.html"><i class="fa fa-check"></i><b>3.4</b> Questões fundamentais em etnobiologia, ecologia e conservação</a></li>
<li class="chapter" data-level="3.5" data-path="considerações-finais.html"><a href="considerações-finais.html"><i class="fa fa-check"></i><b>3.5</b> Considerações Finais</a></li>
<li class="chapter" data-level="3.6" data-path="referências.html"><a href="referências.html"><i class="fa fa-check"></i><b>3.6</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="cap4.html"><a href="cap4.html"><i class="fa fa-check"></i><b>4</b> Introdução ao R</a>
<ul>
<li class="chapter" data-level="" data-path="pré-requisitos-do-capítulo.html"><a href="pré-requisitos-do-capítulo.html"><i class="fa fa-check"></i>Pré-requisitos do capítulo</a></li>
<li class="chapter" data-level="4.1" data-path="contextualização.html"><a href="contextualização.html"><i class="fa fa-check"></i><b>4.1</b> Contextualização</a></li>
<li class="chapter" data-level="4.2" data-path="r-e-rstudio.html"><a href="r-e-rstudio.html"><i class="fa fa-check"></i><b>4.2</b> R e RStudio</a></li>
<li class="chapter" data-level="4.3" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html"><i class="fa fa-check"></i><b>4.3</b> Funcionamento da linguagem R</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#console"><i class="fa fa-check"></i><b>4.3.1</b> Console</a></li>
<li class="chapter" data-level="4.3.2" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#scripts"><i class="fa fa-check"></i><b>4.3.2</b> Scripts</a></li>
<li class="chapter" data-level="4.3.3" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#operadores"><i class="fa fa-check"></i><b>4.3.3</b> Operadores</a></li>
<li class="chapter" data-level="4.3.4" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#objetos"><i class="fa fa-check"></i><b>4.3.4</b> Objetos</a></li>
<li class="chapter" data-level="4.3.5" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#funções"><i class="fa fa-check"></i><b>4.3.5</b> Funções</a></li>
<li class="chapter" data-level="4.3.6" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#pacotes-1"><i class="fa fa-check"></i><b>4.3.6</b> Pacotes</a></li>
<li class="chapter" data-level="4.3.7" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#ajuda-help"><i class="fa fa-check"></i><b>4.3.7</b> Ajuda (<em>Help</em>)</a></li>
<li class="chapter" data-level="4.3.8" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#ambiente-environment"><i class="fa fa-check"></i><b>4.3.8</b> Ambiente (<em>Environment</em>)</a></li>
<li class="chapter" data-level="4.3.9" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#citações"><i class="fa fa-check"></i><b>4.3.9</b> Citações</a></li>
<li class="chapter" data-level="4.3.10" data-path="funcionamento-da-linguagem-r.html"><a href="funcionamento-da-linguagem-r.html#principais-erros-de-iniciantes"><i class="fa fa-check"></i><b>4.3.10</b> Principais erros de iniciantes</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html"><i class="fa fa-check"></i><b>4.4</b> Estrutura e manipulação de objetos</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html#atributo-dos-objetos"><i class="fa fa-check"></i><b>4.4.1</b> Atributo dos objetos</a></li>
<li class="chapter" data-level="4.4.2" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html#manipulação-de-objetos-unidimensionais"><i class="fa fa-check"></i><b>4.4.2</b> Manipulação de objetos unidimensionais</a></li>
<li class="chapter" data-level="4.4.3" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html#manipulação-de-objetos-multidimensionais"><i class="fa fa-check"></i><b>4.4.3</b> Manipulação de objetos multidimensionais</a></li>
<li class="chapter" data-level="4.4.4" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html#valores-faltantes-e-especiais"><i class="fa fa-check"></i><b>4.4.4</b> Valores faltantes e especiais</a></li>
<li class="chapter" data-level="4.4.5" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html#diretório-de-trabalho"><i class="fa fa-check"></i><b>4.4.5</b> Diretório de trabalho</a></li>
<li class="chapter" data-level="4.4.6" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html#importar-dados"><i class="fa fa-check"></i><b>4.4.6</b> Importar dados</a></li>
<li class="chapter" data-level="4.4.7" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html#conferência-dos-dados-importados"><i class="fa fa-check"></i><b>4.4.7</b> Conferência dos dados importados</a></li>
<li class="chapter" data-level="4.4.8" data-path="estrutura-e-manipulação-de-objetos.html"><a href="estrutura-e-manipulação-de-objetos.html#exportar-dados"><i class="fa fa-check"></i><b>4.4.8</b> Exportar dados</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="exercícios.html"><a href="exercícios.html"><i class="fa fa-check"></i><b>4.5</b> Exercícios</a></li>
<li class="chapter" data-level="4.6" data-path="para-se-aprofundar.html"><a href="para-se-aprofundar.html"><i class="fa fa-check"></i><b>4.6</b> Para se aprofundar</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="para-se-aprofundar.html"><a href="para-se-aprofundar.html#livros"><i class="fa fa-check"></i><b>4.6.1</b> Livros</a></li>
<li class="chapter" data-level="4.6.2" data-path="para-se-aprofundar.html"><a href="para-se-aprofundar.html#links"><i class="fa fa-check"></i><b>4.6.2</b> Links</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cap5.html"><a href="cap5.html"><i class="fa fa-check"></i><b>5</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="pré-requisitos-do-capítulo-1.html"><a href="pré-requisitos-do-capítulo-1.html"><i class="fa fa-check"></i>Pré-requisitos do capítulo</a></li>
<li class="chapter" data-level="5.1" data-path="contextualização-1.html"><a href="contextualização-1.html"><i class="fa fa-check"></i><b>5.1</b> Contextualização</a></li>
<li class="chapter" data-level="5.2" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>5.2</b> <em>tidyverse</em></a></li>
<li class="chapter" data-level="5.3" data-path="here.html"><a href="here.html"><i class="fa fa-check"></i><b>5.3</b> here</a></li>
<li class="chapter" data-level="5.4" data-path="readr-readxl-e-writexl.html"><a href="readr-readxl-e-writexl.html"><i class="fa fa-check"></i><b>5.4</b> readr, readxl e writexl</a></li>
<li class="chapter" data-level="5.5" data-path="tibble.html"><a href="tibble.html"><i class="fa fa-check"></i><b>5.5</b> tibble</a></li>
<li class="chapter" data-level="5.6" data-path="magrittr-pipe-.html"><a href="magrittr-pipe-.html"><i class="fa fa-check"></i><b>5.6</b> magrittr (pipe - %&gt;%)</a></li>
<li class="chapter" data-level="5.7" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>5.7</b> tidyr</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="tidyr.html"><a href="tidyr.html#palmerpenguins"><i class="fa fa-check"></i><b>5.7.1</b> palmerpenguins</a></li>
<li class="chapter" data-level="5.7.2" data-path="tidyr.html"><a href="tidyr.html#glimpse"><i class="fa fa-check"></i><b>5.7.2</b> glimpse()</a></li>
<li class="chapter" data-level="5.7.3" data-path="tidyr.html"><a href="tidyr.html#unite"><i class="fa fa-check"></i><b>5.7.3</b> unite()</a></li>
<li class="chapter" data-level="5.7.4" data-path="tidyr.html"><a href="tidyr.html#separate"><i class="fa fa-check"></i><b>5.7.4</b> separate()</a></li>
<li class="chapter" data-level="5.7.5" data-path="tidyr.html"><a href="tidyr.html#drop_na-e-replace_na"><i class="fa fa-check"></i><b>5.7.5</b> drop_na() e replace_na()</a></li>
<li class="chapter" data-level="5.7.6" data-path="tidyr.html"><a href="tidyr.html#pivot_longer-e-pivot_wider"><i class="fa fa-check"></i><b>5.7.6</b> pivot_longer() e pivot_wider()</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>5.8</b> dplyr</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="dplyr.html"><a href="dplyr.html#gramática"><i class="fa fa-check"></i><b>5.8.1</b> Gramática</a></li>
<li class="chapter" data-level="5.8.2" data-path="dplyr.html"><a href="dplyr.html#sintaxe"><i class="fa fa-check"></i><b>5.8.2</b> Sintaxe</a></li>
<li class="chapter" data-level="5.8.3" data-path="dplyr.html"><a href="dplyr.html#palmerpenguins-1"><i class="fa fa-check"></i><b>5.8.3</b> palmerpenguins</a></li>
<li class="chapter" data-level="5.8.4" data-path="dplyr.html"><a href="dplyr.html#relocate"><i class="fa fa-check"></i><b>5.8.4</b> relocate()</a></li>
<li class="chapter" data-level="5.8.5" data-path="dplyr.html"><a href="dplyr.html#rename"><i class="fa fa-check"></i><b>5.8.5</b> rename()</a></li>
<li class="chapter" data-level="5.8.6" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>5.8.6</b> select()</a></li>
<li class="chapter" data-level="5.8.7" data-path="dplyr.html"><a href="dplyr.html#pull"><i class="fa fa-check"></i><b>5.8.7</b> pull()</a></li>
<li class="chapter" data-level="5.8.8" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>5.8.8</b> mutate()</a></li>
<li class="chapter" data-level="5.8.9" data-path="dplyr.html"><a href="dplyr.html#arrange"><i class="fa fa-check"></i><b>5.8.9</b> arrange()</a></li>
<li class="chapter" data-level="5.8.10" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>5.8.10</b> filter()</a></li>
<li class="chapter" data-level="5.8.11" data-path="dplyr.html"><a href="dplyr.html#slice"><i class="fa fa-check"></i><b>5.8.11</b> slice()</a></li>
<li class="chapter" data-level="5.8.12" data-path="dplyr.html"><a href="dplyr.html#distinct"><i class="fa fa-check"></i><b>5.8.12</b> distinct()</a></li>
<li class="chapter" data-level="5.8.13" data-path="dplyr.html"><a href="dplyr.html#count"><i class="fa fa-check"></i><b>5.8.13</b> count()</a></li>
<li class="chapter" data-level="5.8.14" data-path="dplyr.html"><a href="dplyr.html#group_by"><i class="fa fa-check"></i><b>5.8.14</b> group_by()</a></li>
<li class="chapter" data-level="5.8.15" data-path="dplyr.html"><a href="dplyr.html#summarise"><i class="fa fa-check"></i><b>5.8.15</b> summarise()</a></li>
<li class="chapter" data-level="5.8.16" data-path="dplyr.html"><a href="dplyr.html#bind_rows-e-bind_cols"><i class="fa fa-check"></i><b>5.8.16</b> bind_rows() e bind_cols()</a></li>
<li class="chapter" data-level="5.8.17" data-path="dplyr.html"><a href="dplyr.html#join"><i class="fa fa-check"></i><b>5.8.17</b> *_join()</a></li>
<li class="chapter" data-level="5.8.18" data-path="dplyr.html"><a href="dplyr.html#operações-de-conjuntos-e-comparação-de-dados"><i class="fa fa-check"></i><b>5.8.18</b> Operações de conjuntos e comparação de dados</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="stringr.html"><a href="stringr.html"><i class="fa fa-check"></i><b>5.9</b> stringr</a></li>
<li class="chapter" data-level="5.10" data-path="forcats.html"><a href="forcats.html"><i class="fa fa-check"></i><b>5.10</b> forcats</a></li>
<li class="chapter" data-level="5.11" data-path="lubridate.html"><a href="lubridate.html"><i class="fa fa-check"></i><b>5.11</b> lubridate</a></li>
<li class="chapter" data-level="5.12" data-path="purrr.html"><a href="purrr.html"><i class="fa fa-check"></i><b>5.12</b> purrr</a></li>
<li class="chapter" data-level="5.13" data-path="exercícios-1.html"><a href="exercícios-1.html"><i class="fa fa-check"></i><b>5.13</b> Exercícios</a></li>
<li class="chapter" data-level="5.14" data-path="para-se-aprofundar-1.html"><a href="para-se-aprofundar-1.html"><i class="fa fa-check"></i><b>5.14</b> Para se aprofundar</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="cap6.html"><a href="cap6.html"><i class="fa fa-check"></i><b>6</b> Guia de bolso de gráficos no R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introdução-2.html"><a href="introdução-2.html"><i class="fa fa-check"></i><b>6.1</b> 1. Introdução</a></li>
<li class="chapter" data-level="6.2" data-path="pacotes-necessários.html"><a href="pacotes-necessários.html"><i class="fa fa-check"></i><b>6.2</b> 2. Pacotes necessários</a></li>
<li class="chapter" data-level="6.3" data-path="principais-pacotes.html"><a href="principais-pacotes.html"><i class="fa fa-check"></i><b>6.3</b> Principais pacotes</a></li>
<li class="chapter" data-level="6.4" data-path="grámatica-dos-gráficos.html"><a href="grámatica-dos-gráficos.html"><i class="fa fa-check"></i><b>6.4</b> 3. Grámatica dos gráficos</a></li>
<li class="chapter" data-level="6.5" data-path="tipos-de-gráficos.html"><a href="tipos-de-gráficos.html"><i class="fa fa-check"></i><b>6.5</b> 4. Tipos de gráficos</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="tipos-de-gráficos.html"><a href="tipos-de-gráficos.html#histograma-histogram"><i class="fa fa-check"></i><b>6.5.1</b> 4.1. Histograma (<em>histogram</em>)</a></li>
<li class="chapter" data-level="6.5.2" data-path="tipos-de-gráficos.html"><a href="tipos-de-gráficos.html#gráfico-de-densidade-density-plot"><i class="fa fa-check"></i><b>6.5.2</b> 4.2 Gráfico de densidade (<em>density plot</em>)</a></li>
<li class="chapter" data-level="6.5.3" data-path="tipos-de-gráficos.html"><a href="tipos-de-gráficos.html#dot"><i class="fa fa-check"></i><b>6.5.3</b> 4.3. Diagrama de pontos (<em>dot plot</em>)</a></li>
<li class="chapter" data-level="6.5.4" data-path="tipos-de-gráficos.html"><a href="tipos-de-gráficos.html#bars"><i class="fa fa-check"></i><b>6.5.4</b> 4.4. Gráfico de barras (<em>bar plot</em>)</a></li>
<li class="chapter" data-level="6.5.5" data-path="tipos-de-gráficos.html"><a href="tipos-de-gráficos.html#gráfico-de-setores-pie-chart-e-donut-chart"><i class="fa fa-check"></i><b>6.5.5</b> 4.5. Gráfico de setores (<em>pie chart</em> e <em>donut chart</em>)</a></li>
<li class="chapter" data-level="6.5.6" data-path="tipos-de-gráficos.html"><a href="tipos-de-gráficos.html#gráfico-de-caixa-boxplot"><i class="fa fa-check"></i><b>6.5.6</b> 4.6. Gráfico de caixa (<em>boxplot</em>)</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="gráfico-de-dispersão-scatter-plot.html"><a href="gráfico-de-dispersão-scatter-plot.html"><i class="fa fa-check"></i><b>6.6</b> 4.7. Gráfico de dispersão (<em>scatter plot</em>)</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="gráfico-de-dispersão-scatter-plot.html"><a href="gráfico-de-dispersão-scatter-plot.html#versão-padrão-5"><i class="fa fa-check"></i><b>6.6.1</b> 4.7.1. Versão padrão</a></li>
<li class="chapter" data-level="6.6.2" data-path="gráfico-de-dispersão-scatter-plot.html"><a href="gráfico-de-dispersão-scatter-plot.html#definindo-a-cor-tamanho-forma-e-preenchimento-dos-pontos"><i class="fa fa-check"></i><b>6.6.2</b> 4.7.2. Definindo a cor, tamanho, forma e preenchimento dos pontos</a></li>
<li class="chapter" data-level="6.6.3" data-path="gráfico-de-dispersão-scatter-plot.html"><a href="gráfico-de-dispersão-scatter-plot.html#definindo-linhas-de-ajuste"><i class="fa fa-check"></i><b>6.6.3</b> 4.7.3. Definindo linhas de ajuste</a></li>
<li class="chapter" data-level="6.6.4" data-path="gráfico-de-dispersão-scatter-plot.html"><a href="gráfico-de-dispersão-scatter-plot.html#ajustes-finos-versão-personalizada-5"><i class="fa fa-check"></i><b>6.6.4</b> 4.7.4. Ajustes finos (versão personalizada)</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="visualização-de-múltiplos-gráficos-pareados.html"><a href="visualização-de-múltiplos-gráficos-pareados.html"><i class="fa fa-check"></i><b>6.7</b> 4.8. Visualização de múltiplos gráficos pareados</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="visualização-de-múltiplos-gráficos-pareados.html"><a href="visualização-de-múltiplos-gráficos-pareados.html#gráfico-pareado-com-variáveis-contínuas"><i class="fa fa-check"></i><b>6.7.1</b> 4.8.1. Gráfico pareado com variáveis contínuas</a></li>
<li class="chapter" data-level="6.7.2" data-path="visualização-de-múltiplos-gráficos-pareados.html"><a href="visualização-de-múltiplos-gráficos-pareados.html#gráfico-pareado-com-vários-tipos-de-variáveis"><i class="fa fa-check"></i><b>6.7.2</b> 4.8.2. Gráfico pareado com vários tipos de variáveis</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="erros-comuns-dos-usuários-do-ggplot2-e-como-evitá-los.html"><a href="erros-comuns-dos-usuários-do-ggplot2-e-como-evitá-los.html"><i class="fa fa-check"></i><b>6.8</b> 5. Erros comuns dos usuários do <code>ggplot2</code> e como evitá-los</a></li>
<li class="chapter" data-level="6.9" data-path="finalização-de-gráficos-para-publicação.html"><a href="finalização-de-gráficos-para-publicação.html"><i class="fa fa-check"></i><b>6.9</b> 6. Finalização de gráficos para publicação</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="finalização-de-gráficos-para-publicação.html"><a href="finalização-de-gráficos-para-publicação.html#posição-cores-e-fonte-da-legenda"><i class="fa fa-check"></i><b>6.9.1</b> 6.1. Posição, cores e fonte da legenda</a></li>
<li class="chapter" data-level="6.9.2" data-path="finalização-de-gráficos-para-publicação.html"><a href="finalização-de-gráficos-para-publicação.html#elementos-gráficos-eixo-fonte-grid"><i class="fa fa-check"></i><b>6.9.2</b> 6.2. Elementos gráficos: eixo, fonte, grid</a></li>
<li class="chapter" data-level="6.9.3" data-path="finalização-de-gráficos-para-publicação.html"><a href="finalização-de-gráficos-para-publicação.html#temas-personalizados-ggtheme-existem-vários-temas-criados-dentro-do-universo-ggtheme-que-podem-facilitar"><i class="fa fa-check"></i><b>6.9.3</b> 6.3. Temas personalizados <code>ggtheme()</code> Existem vários temas criados dentro do universo ggtheme() que podem facilitar</a></li>
<li class="chapter" data-level="6.9.4" data-path="finalização-de-gráficos-para-publicação.html"><a href="finalização-de-gráficos-para-publicação.html#criando-seu-próprio-theme_custom"><i class="fa fa-check"></i><b>6.9.4</b> 6.4. Criando seu próprio <code>theme_custom()</code></a></li>
<li class="chapter" data-level="6.9.5" data-path="finalização-de-gráficos-para-publicação.html"><a href="finalização-de-gráficos-para-publicação.html#exportando-dados-com-alta-qualidade-com-a-função-ggsave"><i class="fa fa-check"></i><b>6.9.5</b> 6.5. Exportando dados com alta qualidade com a função <code>ggsave()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="check-list-para-garantir-bons-gráficos.html"><a href="check-list-para-garantir-bons-gráficos.html"><i class="fa fa-check"></i><b>6.10</b> Check-list para garantir bons gráficos</a></li>
<li class="chapter" data-level="6.11" data-path="para-se-aprofundar-2.html"><a href="para-se-aprofundar-2.html"><i class="fa fa-check"></i><b>6.11</b> Para se aprofundar</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="para-se-aprofundar-2.html"><a href="para-se-aprofundar-2.html#livros-1"><i class="fa fa-check"></i><b>6.11.1</b> Livros</a></li>
<li class="chapter" data-level="6.11.2" data-path="para-se-aprofundar-2.html"><a href="para-se-aprofundar-2.html#links-1"><i class="fa fa-check"></i><b>6.11.2</b> Links</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="cap7.html"><a href="cap7.html"><i class="fa fa-check"></i><b>7</b> Cap. 7 - Modelos lineares</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="cap7.html"><a href="cap7.html#pré-requisitos-do-capítulo-2"><i class="fa fa-check"></i><b>7.0.1</b> Pré-requisitos do capítulo</a></li>
<li class="chapter" data-level="7.1" data-path="teste-t-de-student-para-duas-amostras-independentes.html"><a href="teste-t-de-student-para-duas-amostras-independentes.html"><i class="fa fa-check"></i><b>7.1</b> Teste T (de Student) para duas amostras independentes</a></li>
<li class="chapter" data-level="7.2" data-path="teste-t-para-amostras-pareadas.html"><a href="teste-t-para-amostras-pareadas.html"><i class="fa fa-check"></i><b>7.2</b> Teste T para amostras pareadas</a></li>
<li class="chapter" data-level="7.3" data-path="correlação-de-pearson.html"><a href="correlação-de-pearson.html"><i class="fa fa-check"></i><b>7.3</b> Correlação de Pearson</a></li>
<li class="chapter" data-level="7.4" data-path="regressão-linear-simples.html"><a href="regressão-linear-simples.html"><i class="fa fa-check"></i><b>7.4</b> Regressão Linear Simples</a></li>
<li class="chapter" data-level="7.5" data-path="regressão-linear-múltipla.html"><a href="regressão-linear-múltipla.html"><i class="fa fa-check"></i><b>7.5</b> Regressão Linear Múltipla</a></li>
<li class="chapter" data-level="7.6" data-path="análises-de-variância-anova.html"><a href="análises-de-variância-anova.html"><i class="fa fa-check"></i><b>7.6</b> Análises de Variância (ANOVA)</a></li>
<li class="chapter" data-level="7.7" data-path="anova-de-um-fator.html"><a href="anova-de-um-fator.html"><i class="fa fa-check"></i><b>7.7</b> ANOVA de um fator</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="anova-de-um-fator.html"><a href="anova-de-um-fator.html#análise"><i class="fa fa-check"></i><b>7.7.1</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="anova-com-dois-fatores-ou-anova-fatorial.html"><a href="anova-com-dois-fatores-ou-anova-fatorial.html"><i class="fa fa-check"></i><b>7.8</b> ANOVA com dois fatores ou ANOVA fatorial</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="anova-com-dois-fatores-ou-anova-fatorial.html"><a href="anova-com-dois-fatores-ou-anova-fatorial.html#análise-1"><i class="fa fa-check"></i><b>7.8.1</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="anova-em-blocos-aleatorizados.html"><a href="anova-em-blocos-aleatorizados.html"><i class="fa fa-check"></i><b>7.9</b> ANOVA em blocos aleatorizados</a></li>
<li class="chapter" data-level="7.10" data-path="análise-de-covariância-ancova.html"><a href="análise-de-covariância-ancova.html"><i class="fa fa-check"></i><b>7.10</b> Análise de covariância (ANCOVA)</a>
<ul>
<li class="chapter" data-level="7.10.1" data-path="análise-de-covariância-ancova.html"><a href="análise-de-covariância-ancova.html#análise-2"><i class="fa fa-check"></i><b>7.10.1</b> Análise</a></li>
<li class="chapter" data-level="7.10.2" data-path="análise-de-covariância-ancova.html"><a href="análise-de-covariância-ancova.html#para-se-aprofundar-3"><i class="fa fa-check"></i><b>7.10.2</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="referências-1.html"><a href="referências-1.html"><i class="fa fa-check"></i>Referências</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Análises Ecológicas no R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyr" class="section level2" number="5.8">
<h2><span class="header-section-number">5.8</span> dplyr</h2>
<p>O <code>dplyr</code> é um pacote que facilita a manipulação de dados, com uma gramática simples e flexível (por exemplo, como filtragem, reordenamento, seleção, entre outras). Ele foi construído com o intuito de obter uma forma mais rápida e expressiva de manipular dados tabulares. O <code>tibble</code> é a versão de data frame mais conveniente para se usar com pacote <code>dplyr</code>.</p>
<p>Todas as funções deste pacote são listadas na <a href="https://dplyr.tidyverse.org/reference/index.html">página de referência</a> do pacote.</p>
<div id="gramática" class="section level3" number="5.8.1">
<h3><span class="header-section-number">5.8.1</span> Gramática</h3>
<p>Sua gramática simples contém funções verbais para manipulação de dados, baseada em:</p>
<ul>
<li>Verbos: <code>mutate()</code>, <code>select()</code>, <code>filter()</code>, <code>arrange()</code>, <code>summarise()</code>, <code>slice()</code>, <code>rename()</code>, etc.</li>
<li>Replicação: <code>across()</code>, <code>if_any()</code>, <code>if_all()</code>, <code>where()</code>, <code>starts_with()</code>, <code>ends_with()</code>, <code>contains()</code>, etc.</li>
<li>Agrupamento: <code>group_by()</code> e <code>ungroup()</code></li>
<li>Junções: <code>inner_join()</code>, <code>full_join()</code>, <code>left_join()</code>, <code>right_join()</code>, etc.</li>
<li>Combinações: <code>bind_rows()</code> e <code>bind_cols()</code></li>
<li>Resumos, contagem e seleção: <code>n()</code>, <code>n_distinct()</code>, <code>first()</code>, <code>last()</code>, <code>nth()</code>, etc.</li>
</ul>
<p>Existe uma série de funções para realizar a manipulação dos dados, com diversas finalidades: manipulação de uma tabela, manipulação de duas tabelas, replicação, agrupamento, funções de vetores, além de muitas outras <a href="https://dplyr.tidyverse.org/reference/index.html">funções específicas</a>.</p>
<ul>
<li><code>relocate()</code>: muda a ordem das colunas</li>
<li><code>rename()</code>: muda o nome das colunas</li>
<li><code>select()</code>: seleciona colunas pelo nome ou posição</li>
<li><code>pull()</code>: seleciona uma coluna como vetor</li>
<li><code>mutate()</code>: adiciona novas colunas ou resultados em colunas existentes</li>
<li><code>arrange()</code>: reordena as linhas com base nos valores de colunas</li>
<li><code>filter()</code>: seleciona linhas com base em valores de colunas</li>
<li><code>slice()</code>: seleciona linhas de diferente formas</li>
<li><code>distinct()</code>: remove linhas com valores repetidos com base nos valores de colunas</li>
<li><code>count()</code>: conta observações para um grupo</li>
<li><code>group_by()</code>: agrupa linhas pelos valores das colunas</li>
<li><code>summarise()</code>: resume os dados através de funções considerando valores das colunas</li>
<li><code>*_join()</code>: funções que juntam dados de duas tabelas através de uma coluna chave</li>
</ul>
</div>
<div id="sintaxe" class="section level3" number="5.8.2">
<h3><span class="header-section-number">5.8.2</span> Sintaxe</h3>
<p>As funções do <code>dplyr</code> podem seguir uma mesma sintaxe: o <code>tibble</code> será sempre o primeiro argumento dessas funções, seguido de um pipe e pelo nome da função que irá fazer a manipulação nesses dados. Isso permite o encadeamento de várias operações consecutivas mantendo a estrutura do dado original e acrescentando mudanças num encadeamento lógico.</p>
<p>Sendo assim, as funções verbais não precisam modificar necessariamente o tibble original, sendo que as operações de manipulações podem e devem ser atribuídas a um novo objeto.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="dplyr.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Sintaxe</span></span>
<span id="cb112-2"><a href="dplyr.html#cb112-2" aria-hidden="true" tabindex="-1"></a>tb_dplyr <span class="ot">&lt;-</span> tb <span class="sc">%&gt;%</span> </span>
<span id="cb112-3"><a href="dplyr.html#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">funcao_verbal1</span>(argumento1, argumento2, ...) <span class="sc">%&gt;%</span> </span>
<span id="cb112-4"><a href="dplyr.html#cb112-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">funcao_verbal2</span>(argumento1, argumento2, ...) <span class="sc">%&gt;%</span> </span>
<span id="cb112-5"><a href="dplyr.html#cb112-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">funcao_verbal3</span>(argumento1, argumento2, ...)</span></code></pre></div>
<p>Além de <code>data.frames</code> e <code>tibbles</code>, a manipulação pelo formato <code>dplyr</code> torna o trabalho com outros formatos de classes e dados acessíveis e eficientes como <code>data.table</code>, SQL e Apache Spark, para os quais existem pacotes específicos.</p>
<ul>
<li><a href="https://dtplyr.tidyverse.org/"><em>dtplyr</em></a>: manipular conjuntos de dados <code>data.table</code></li>
<li><a href="https://dbplyr.tidyverse.org/"><em>dbplyr</em></a>: manipular conjuntos de dados SQL</li>
<li><a href="https://spark.rstudio.com/"><em>sparklyr</em></a>: manipular conjuntos de dados no Apache Spark</li>
</ul>
</div>
<div id="palmerpenguins-1" class="section level3" number="5.8.3">
<h3><span class="header-section-number">5.8.3</span> palmerpenguins</h3>
<p>Para nossos exemplos, vamos utilizar novamente os dados de pinguins <a href="https://allisonhorst.github.io/palmerpenguins"><em>palmerpenguins</em></a>. Esses dados estão disponíveis no pacote <code>palmerpenguins</code>. Vamos utilizar principalmente o conjunto de dados <code>penguins</code>, que é a versão simplificada dos dados brutos <code>penguins_raw</code>.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="dplyr.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Carrega o pacote palmerpenguins</span></span>
<span id="cb113-2"><a href="dplyr.html#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span></code></pre></div>
</div>
<div id="relocate" class="section level3" number="5.8.4">
<h3><span class="header-section-number">5.8.4</span> relocate()</h3>
<p>Primeiramente, vamos reordenar as colunas com a função <code>dplyr::relocate()</code>, onde simplesmente listamos as colunas que queremos mudar de posição e para onde elas devem ir. Para esse último passo há dois argumentos: <code>.before</code> que indica qual a coluna que as colunas realocadas devem se mover antes, e o argumento <code>.after</code> indicando onde devem se mover depois. Ambos podem ser informados com os nomes ou posições dessas colunas com números.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="dplyr.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Reordenar colunas - nome</span></span>
<span id="cb114-2"><a href="dplyr.html#cb114-2" aria-hidden="true" tabindex="-1"></a>penguins_relocate_col <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb114-3"><a href="dplyr.html#cb114-3" aria-hidden="true" tabindex="-1"></a> dplyr<span class="sc">::</span><span class="fu">relocate</span>(sex, year, <span class="at">.after =</span> island)</span>
<span id="cb114-4"><a href="dplyr.html#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_relocate_col)</span>
<span id="cb114-5"><a href="dplyr.html#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb114-6"><a href="dplyr.html#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m    [1msex[22m     [1myear[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_mm[22m</span></span>
<span id="cb114-7"><a href="dplyr.html#cb114-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m     [3m[90m&lt;fct&gt;[39m[23m  [3m[90m&lt;int&gt;[39m[23m          [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m             [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb114-8"><a href="dplyr.html#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torgersen male    [4m2[24m007           39.1          18.7               181</span></span>
<span id="cb114-9"><a href="dplyr.html#cb114-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torgersen female  [4m2[24m007           39.5          17.4               186</span></span>
<span id="cb114-10"><a href="dplyr.html#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torgersen female  [4m2[24m007           40.3          18                 195</span></span>
<span id="cb114-11"><a href="dplyr.html#cb114-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torgersen [31mNA[39m      [4m2[24m007           [31mNA[39m            [31mNA[39m                  [31mNA[39m</span></span>
<span id="cb114-12"><a href="dplyr.html#cb114-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torgersen female  [4m2[24m007           36.7          19.3               193</span></span>
<span id="cb114-13"><a href="dplyr.html#cb114-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torgersen male    [4m2[24m007           39.3          20.6               190</span></span>
<span id="cb114-14"><a href="dplyr.html#cb114-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1mbody_mass_g[22m &lt;int&gt;[39m</span></span>
<span id="cb114-15"><a href="dplyr.html#cb114-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-16"><a href="dplyr.html#cb114-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Reordenar colunas - posição</span></span>
<span id="cb114-17"><a href="dplyr.html#cb114-17" aria-hidden="true" tabindex="-1"></a>penguins_relocate_ncol <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb114-18"><a href="dplyr.html#cb114-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(sex, year, <span class="at">.after =</span> <span class="dv">2</span>)</span>
<span id="cb114-19"><a href="dplyr.html#cb114-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_relocate_ncol)</span>
<span id="cb114-20"><a href="dplyr.html#cb114-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb114-21"><a href="dplyr.html#cb114-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m    [1msex[22m     [1myear[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_mm[22m</span></span>
<span id="cb114-22"><a href="dplyr.html#cb114-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m     [3m[90m&lt;fct&gt;[39m[23m  [3m[90m&lt;int&gt;[39m[23m          [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m             [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb114-23"><a href="dplyr.html#cb114-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torgersen male    [4m2[24m007           39.1          18.7               181</span></span>
<span id="cb114-24"><a href="dplyr.html#cb114-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torgersen female  [4m2[24m007           39.5          17.4               186</span></span>
<span id="cb114-25"><a href="dplyr.html#cb114-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torgersen female  [4m2[24m007           40.3          18                 195</span></span>
<span id="cb114-26"><a href="dplyr.html#cb114-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torgersen [31mNA[39m      [4m2[24m007           [31mNA[39m            [31mNA[39m                  [31mNA[39m</span></span>
<span id="cb114-27"><a href="dplyr.html#cb114-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torgersen female  [4m2[24m007           36.7          19.3               193</span></span>
<span id="cb114-28"><a href="dplyr.html#cb114-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torgersen male    [4m2[24m007           39.3          20.6               190</span></span>
<span id="cb114-29"><a href="dplyr.html#cb114-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1mbody_mass_g[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="rename" class="section level3" number="5.8.5">
<h3><span class="header-section-number">5.8.5</span> rename()</h3>
<p>Podemos ainda renomear colunas facilmente com a função <code>dplyr::rename()</code>, onde primeiramente informamos o nome que queremos que a coluna tenha, seguido do operador <code>=</code> e a coluna do nosso dado (“nova_coluna = antiga_coluna”). Também podemos utilizar a função <code>dplyr::rename_with()</code>, que faz a mudança do nome em múltiplas colunas, que pode depender ou não de resultados booleanos.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="dplyr.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Renomear as colunas</span></span>
<span id="cb115-2"><a href="dplyr.html#cb115-2" aria-hidden="true" tabindex="-1"></a>penguins_rename <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb115-3"><a href="dplyr.html#cb115-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">bill_length =</span> bill_length_mm,</span>
<span id="cb115-4"><a href="dplyr.html#cb115-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">bill_depth =</span> bill_depth_mm,</span>
<span id="cb115-5"><a href="dplyr.html#cb115-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">flipper_length =</span> flipper_length_mm,</span>
<span id="cb115-6"><a href="dplyr.html#cb115-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">body_mass =</span> body_mass_g)</span>
<span id="cb115-7"><a href="dplyr.html#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_rename)</span>
<span id="cb115-8"><a href="dplyr.html#cb115-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb115-9"><a href="dplyr.html#cb115-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m    [1mbill_length[22m [1mbill_depth[22m [1mflipper_length[22m [1mbody_mass[22m [1msex[22m     [1myear[22m</span></span>
<span id="cb115-10"><a href="dplyr.html#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m      [3m[90m&lt;dbl&gt;[39m[23m          [3m[90m&lt;int&gt;[39m[23m     [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m  [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb115-11"><a href="dplyr.html#cb115-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torgersen        39.1       18.7            181      [4m3[24m750 male    [4m2[24m007</span></span>
<span id="cb115-12"><a href="dplyr.html#cb115-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torgersen        39.5       17.4            186      [4m3[24m800 female  [4m2[24m007</span></span>
<span id="cb115-13"><a href="dplyr.html#cb115-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torgersen        40.3       18              195      [4m3[24m250 female  [4m2[24m007</span></span>
<span id="cb115-14"><a href="dplyr.html#cb115-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torgersen        [31mNA[39m         [31mNA[39m               [31mNA[39m        [31mNA[39m [31mNA[39m      [4m2[24m007</span></span>
<span id="cb115-15"><a href="dplyr.html#cb115-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torgersen        36.7       19.3            193      [4m3[24m450 female  [4m2[24m007</span></span>
<span id="cb115-16"><a href="dplyr.html#cb115-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torgersen        39.3       20.6            190      [4m3[24m650 male    [4m2[24m007</span></span>
<span id="cb115-17"><a href="dplyr.html#cb115-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-18"><a href="dplyr.html#cb115-18" aria-hidden="true" tabindex="-1"></a><span class="do">## mudar o nome de todas as colunas</span></span>
<span id="cb115-19"><a href="dplyr.html#cb115-19" aria-hidden="true" tabindex="-1"></a>penguins_rename_with <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb115-20"><a href="dplyr.html#cb115-20" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename_with</span>(toupper)</span>
<span id="cb115-21"><a href="dplyr.html#cb115-21" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_rename_with)</span>
<span id="cb115-22"><a href="dplyr.html#cb115-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb115-23"><a href="dplyr.html#cb115-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mSPECIES[22m [1mISLAND[22m [1mBILL_LENGTH_MM[22m [1mBILL_DEPTH_MM[22m [1mFLIPPER_LENGTH_~[22m [1mBODY_MASS_G[22m [1mSEX[22m  </span></span>
<span id="cb115-24"><a href="dplyr.html#cb115-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb115-25"><a href="dplyr.html#cb115-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb115-26"><a href="dplyr.html#cb115-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb115-27"><a href="dplyr.html#cb115-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb115-28"><a href="dplyr.html#cb115-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb115-29"><a href="dplyr.html#cb115-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb115-30"><a href="dplyr.html#cb115-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb115-31"><a href="dplyr.html#cb115-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1mYEAR[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="select" class="section level3" number="5.8.6">
<h3><span class="header-section-number">5.8.6</span> select()</h3>
<p>Outra operação bastante usual dentro da manipulação de dados tabulares é a seleção de colunas. Podemos fazer essa operação com a função <code>dplyr::select()</code>, que seleciona colunas pelo nome ou pela sua posição. Aqui há uma série de possibilidades de seleção de colunas, desde utilizar operadores como <code>:</code> para selecionar intervalos de colunas, <code>!</code> para tomar o complemento (todas menos as listadas), além de funções como <code>dplyr::starts_with()</code>, <code>dplyr::ends_with()</code>, <code>dplyr::contains()</code> para procurar colunas com um padrão de texto.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="dplyr.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Selecionar colunas por posição</span></span>
<span id="cb116-2"><a href="dplyr.html#cb116-2" aria-hidden="true" tabindex="-1"></a>penguins_select_position <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb116-3"><a href="dplyr.html#cb116-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb116-4"><a href="dplyr.html#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_select_position)</span>
<span id="cb116-5"><a href="dplyr.html#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 4[39m</span></span>
<span id="cb116-6"><a href="dplyr.html#cb116-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_mm[22m [1mbody_mass_g[22m</span></span>
<span id="cb116-7"><a href="dplyr.html#cb116-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m             [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb116-8"><a href="dplyr.html#cb116-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m           39.1          18.7               181        [4m3[24m750</span></span>
<span id="cb116-9"><a href="dplyr.html#cb116-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m           39.5          17.4               186        [4m3[24m800</span></span>
<span id="cb116-10"><a href="dplyr.html#cb116-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m           40.3          18                 195        [4m3[24m250</span></span>
<span id="cb116-11"><a href="dplyr.html#cb116-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m           [31mNA[39m            [31mNA[39m                  [31mNA[39m          [31mNA[39m</span></span>
<span id="cb116-12"><a href="dplyr.html#cb116-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m           36.7          19.3               193        [4m3[24m450</span></span>
<span id="cb116-13"><a href="dplyr.html#cb116-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m           39.3          20.6               190        [4m3[24m650</span></span>
<span id="cb116-14"><a href="dplyr.html#cb116-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-15"><a href="dplyr.html#cb116-15" aria-hidden="true" tabindex="-1"></a><span class="do">## Selecionar colunas por nomes</span></span>
<span id="cb116-16"><a href="dplyr.html#cb116-16" aria-hidden="true" tabindex="-1"></a>penguins_select_names <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb116-17"><a href="dplyr.html#cb116-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(bill_length_mm<span class="sc">:</span>body_mass_g)</span>
<span id="cb116-18"><a href="dplyr.html#cb116-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_select_names)</span>
<span id="cb116-19"><a href="dplyr.html#cb116-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 4[39m</span></span>
<span id="cb116-20"><a href="dplyr.html#cb116-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_mm[22m [1mbody_mass_g[22m</span></span>
<span id="cb116-21"><a href="dplyr.html#cb116-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m             [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb116-22"><a href="dplyr.html#cb116-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m           39.1          18.7               181        [4m3[24m750</span></span>
<span id="cb116-23"><a href="dplyr.html#cb116-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m           39.5          17.4               186        [4m3[24m800</span></span>
<span id="cb116-24"><a href="dplyr.html#cb116-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m           40.3          18                 195        [4m3[24m250</span></span>
<span id="cb116-25"><a href="dplyr.html#cb116-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m           [31mNA[39m            [31mNA[39m                  [31mNA[39m          [31mNA[39m</span></span>
<span id="cb116-26"><a href="dplyr.html#cb116-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m           36.7          19.3               193        [4m3[24m450</span></span>
<span id="cb116-27"><a href="dplyr.html#cb116-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m           39.3          20.6               190        [4m3[24m650</span></span>
<span id="cb116-28"><a href="dplyr.html#cb116-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-29"><a href="dplyr.html#cb116-29" aria-hidden="true" tabindex="-1"></a><span class="do">## Selecionar colunas por padrão</span></span>
<span id="cb116-30"><a href="dplyr.html#cb116-30" aria-hidden="true" tabindex="-1"></a>penguins_select_contains <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb116-31"><a href="dplyr.html#cb116-31" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;_mm&quot;</span>))</span>
<span id="cb116-32"><a href="dplyr.html#cb116-32" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_select_contains)</span>
<span id="cb116-33"><a href="dplyr.html#cb116-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 3[39m</span></span>
<span id="cb116-34"><a href="dplyr.html#cb116-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_mm[22m</span></span>
<span id="cb116-35"><a href="dplyr.html#cb116-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m             [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb116-36"><a href="dplyr.html#cb116-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m           39.1          18.7               181</span></span>
<span id="cb116-37"><a href="dplyr.html#cb116-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m           39.5          17.4               186</span></span>
<span id="cb116-38"><a href="dplyr.html#cb116-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m           40.3          18                 195</span></span>
<span id="cb116-39"><a href="dplyr.html#cb116-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m           [31mNA[39m            [31mNA[39m                  [31mNA[39m</span></span>
<span id="cb116-40"><a href="dplyr.html#cb116-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m           36.7          19.3               193</span></span>
<span id="cb116-41"><a href="dplyr.html#cb116-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m           39.3          20.6               190</span></span></code></pre></div>
</div>
<div id="pull" class="section level3" number="5.8.7">
<h3><span class="header-section-number">5.8.7</span> pull()</h3>
<p>Quando usamos a função <code>dplyr::select()</code>, mesmo que para uma coluna, o retorno é sempre um <code>tibble</code>. Caso precisemos que essa coluna se torne um vetor dentro do encadeamento dos <code>pipes</code>, usamos a função <code>dplyr::pull()</code> que extrai uma única coluna como vetor.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="dplyr.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Coluna como vetor</span></span>
<span id="cb117-2"><a href="dplyr.html#cb117-2" aria-hidden="true" tabindex="-1"></a>penguins_select_pull <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb117-3"><a href="dplyr.html#cb117-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">pull</span>(bill_length_mm)</span>
<span id="cb117-4"><a href="dplyr.html#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_select_pull, <span class="dv">15</span>)</span>
<span id="cb117-5"><a href="dplyr.html#cb117-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 39.1 39.5 40.3   NA 36.7 39.3 38.9 39.2 34.1 42.0 37.8 37.8 41.1 38.6 34.6</span></span></code></pre></div>
</div>
<div id="mutate" class="section level3" number="5.8.8">
<h3><span class="header-section-number">5.8.8</span> mutate()</h3>
<p>Uma das operações mais úteis dentre as operações para colunas é adicionar ou atualizar os valores de colunas. Para essa operação, usaremos a função <code>dplyr::mutate()</code>. Podemos ainda usar os argumentos <code>.before</code> e <code>.after</code> para indicar onde a nova coluna deve ficar, além do parâmetro <code>.keep</code> com diversas possibilidades de manter colunas depois de usar a função <code>dplyr::mutate()</code>. Por fim, é fundamental destacar o uso das funções de replicação: <code>dplyr::across()</code>, <code>dplyr::if_any()</code> e <code>dplyr::if_all()</code>, para os quais a função fará alterações em múltiplas colunas de uma vez, dependendo de resultados booleanos.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="dplyr.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Adicionar colunas</span></span>
<span id="cb118-2"><a href="dplyr.html#cb118-2" aria-hidden="true" tabindex="-1"></a>penguins_mutate <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb118-3"><a href="dplyr.html#cb118-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">body_mass_kg =</span> body_mass_g<span class="sc">/</span><span class="fl">1e3</span>, <span class="at">.before =</span> sex)</span>
<span id="cb118-4"><a href="dplyr.html#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_mutate)</span>
<span id="cb118-5"><a href="dplyr.html#cb118-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 9[39m</span></span>
<span id="cb118-6"><a href="dplyr.html#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m    [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_mm[22m [1mbody_mass_g[22m</span></span>
<span id="cb118-7"><a href="dplyr.html#cb118-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m              [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m             [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb118-8"><a href="dplyr.html#cb118-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torgersen           39.1          18.7               181        [4m3[24m750</span></span>
<span id="cb118-9"><a href="dplyr.html#cb118-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torgersen           39.5          17.4               186        [4m3[24m800</span></span>
<span id="cb118-10"><a href="dplyr.html#cb118-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torgersen           40.3          18                 195        [4m3[24m250</span></span>
<span id="cb118-11"><a href="dplyr.html#cb118-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torgersen           [31mNA[39m            [31mNA[39m                  [31mNA[39m          [31mNA[39m</span></span>
<span id="cb118-12"><a href="dplyr.html#cb118-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torgersen           36.7          19.3               193        [4m3[24m450</span></span>
<span id="cb118-13"><a href="dplyr.html#cb118-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torgersen           39.3          20.6               190        [4m3[24m650</span></span>
<span id="cb118-14"><a href="dplyr.html#cb118-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 3 more variables: [1mbody_mass_kg[22m &lt;dbl&gt;, [1msex[22m &lt;fct&gt;, [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb118-15"><a href="dplyr.html#cb118-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-16"><a href="dplyr.html#cb118-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Modificar várias colunas</span></span>
<span id="cb118-17"><a href="dplyr.html#cb118-17" aria-hidden="true" tabindex="-1"></a>penguins_mutate_across <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb118-18"><a href="dplyr.html#cb118-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.factor), as.character))</span>
<span id="cb118-19"><a href="dplyr.html#cb118-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_mutate_across)</span>
<span id="cb118-20"><a href="dplyr.html#cb118-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb118-21"><a href="dplyr.html#cb118-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb118-22"><a href="dplyr.html#cb118-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;chr&gt;[39m[23m   [3m[90m&lt;chr&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m</span></span>
<span id="cb118-23"><a href="dplyr.html#cb118-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb118-24"><a href="dplyr.html#cb118-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb118-25"><a href="dplyr.html#cb118-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb118-26"><a href="dplyr.html#cb118-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb118-27"><a href="dplyr.html#cb118-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb118-28"><a href="dplyr.html#cb118-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb118-29"><a href="dplyr.html#cb118-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="arrange" class="section level3" number="5.8.9">
<h3><span class="header-section-number">5.8.9</span> arrange()</h3>
<p>Além de operações em colunas, podemos fazer operações em linhas. Vamos começar com a reordenação das linhas com base nos valores das colunas. Para essa operação, usamos a função <code>dplyr::arrange()</code>. Podemos reordenar por uma ou mais colunas de forma crescente ou de forma decrescente usando a função <code>desc()</code> ou o operador <code>-</code>. Da mesma forma que na função <code>dplyr::mutate()</code>, podemos usar as funções de replicação para ordenar as linhas para várias colunas de uma vez, dependendo de resultados booleanos.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="dplyr.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Reordenar linhas - crescente</span></span>
<span id="cb119-2"><a href="dplyr.html#cb119-2" aria-hidden="true" tabindex="-1"></a>penguins_arrange <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb119-3"><a href="dplyr.html#cb119-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(body_mass_g)</span>
<span id="cb119-4"><a href="dplyr.html#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_arrange)</span>
<span id="cb119-5"><a href="dplyr.html#cb119-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb119-6"><a href="dplyr.html#cb119-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb119-7"><a href="dplyr.html#cb119-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb119-8"><a href="dplyr.html#cb119-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Chinst~ Dream            46.9          16.6              192        [4m2[24m700 fema~</span></span>
<span id="cb119-9"><a href="dplyr.html#cb119-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Biscoe           36.5          16.6              181        [4m2[24m850 fema~</span></span>
<span id="cb119-10"><a href="dplyr.html#cb119-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Biscoe           36.4          17.1              184        [4m2[24m850 fema~</span></span>
<span id="cb119-11"><a href="dplyr.html#cb119-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Biscoe           34.5          18.1              187        [4m2[24m900 fema~</span></span>
<span id="cb119-12"><a href="dplyr.html#cb119-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Dream            33.1          16.1              178        [4m2[24m900 fema~</span></span>
<span id="cb119-13"><a href="dplyr.html#cb119-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           38.6          17                188        [4m2[24m900 fema~</span></span>
<span id="cb119-14"><a href="dplyr.html#cb119-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb119-15"><a href="dplyr.html#cb119-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-16"><a href="dplyr.html#cb119-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Reordenar linhas - decrescente</span></span>
<span id="cb119-17"><a href="dplyr.html#cb119-17" aria-hidden="true" tabindex="-1"></a>penguins_arrange_desc <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb119-18"><a href="dplyr.html#cb119-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(body_mass_g))</span>
<span id="cb119-19"><a href="dplyr.html#cb119-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_arrange_desc)</span>
<span id="cb119-20"><a href="dplyr.html#cb119-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb119-21"><a href="dplyr.html#cb119-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb119-22"><a href="dplyr.html#cb119-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb119-23"><a href="dplyr.html#cb119-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Gentoo  Biscoe           49.2          15.2              221        [4m6[24m300 male </span></span>
<span id="cb119-24"><a href="dplyr.html#cb119-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Gentoo  Biscoe           59.6          17                230        [4m6[24m050 male </span></span>
<span id="cb119-25"><a href="dplyr.html#cb119-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Gentoo  Biscoe           51.1          16.3              220        [4m6[24m000 male </span></span>
<span id="cb119-26"><a href="dplyr.html#cb119-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Gentoo  Biscoe           48.8          16.2              222        [4m6[24m000 male </span></span>
<span id="cb119-27"><a href="dplyr.html#cb119-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Gentoo  Biscoe           45.2          16.4              223        [4m5[24m950 male </span></span>
<span id="cb119-28"><a href="dplyr.html#cb119-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Gentoo  Biscoe           49.8          15.9              229        [4m5[24m950 male </span></span>
<span id="cb119-29"><a href="dplyr.html#cb119-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb119-30"><a href="dplyr.html#cb119-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-31"><a href="dplyr.html#cb119-31" aria-hidden="true" tabindex="-1"></a><span class="do">## Reordenar linhas - decrescente</span></span>
<span id="cb119-32"><a href="dplyr.html#cb119-32" aria-hidden="true" tabindex="-1"></a>penguins_arrange_desc_m <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb119-33"><a href="dplyr.html#cb119-33" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>body_mass_g)</span>
<span id="cb119-34"><a href="dplyr.html#cb119-34" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_arrange_desc_m)</span>
<span id="cb119-35"><a href="dplyr.html#cb119-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb119-36"><a href="dplyr.html#cb119-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb119-37"><a href="dplyr.html#cb119-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb119-38"><a href="dplyr.html#cb119-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Gentoo  Biscoe           49.2          15.2              221        [4m6[24m300 male </span></span>
<span id="cb119-39"><a href="dplyr.html#cb119-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Gentoo  Biscoe           59.6          17                230        [4m6[24m050 male </span></span>
<span id="cb119-40"><a href="dplyr.html#cb119-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Gentoo  Biscoe           51.1          16.3              220        [4m6[24m000 male </span></span>
<span id="cb119-41"><a href="dplyr.html#cb119-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Gentoo  Biscoe           48.8          16.2              222        [4m6[24m000 male </span></span>
<span id="cb119-42"><a href="dplyr.html#cb119-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Gentoo  Biscoe           45.2          16.4              223        [4m5[24m950 male </span></span>
<span id="cb119-43"><a href="dplyr.html#cb119-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Gentoo  Biscoe           49.8          15.9              229        [4m5[24m950 male </span></span>
<span id="cb119-44"><a href="dplyr.html#cb119-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb119-45"><a href="dplyr.html#cb119-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-46"><a href="dplyr.html#cb119-46" aria-hidden="true" tabindex="-1"></a><span class="do">## Reordenar linhas - multiplas colunas</span></span>
<span id="cb119-47"><a href="dplyr.html#cb119-47" aria-hidden="true" tabindex="-1"></a>penguins_arrange_across <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb119-48"><a href="dplyr.html#cb119-48" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric)))</span>
<span id="cb119-49"><a href="dplyr.html#cb119-49" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_arrange_across)</span>
<span id="cb119-50"><a href="dplyr.html#cb119-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb119-51"><a href="dplyr.html#cb119-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb119-52"><a href="dplyr.html#cb119-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb119-53"><a href="dplyr.html#cb119-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Dream            32.1          15.5              188        [4m3[24m050 fema~</span></span>
<span id="cb119-54"><a href="dplyr.html#cb119-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Dream            33.1          16.1              178        [4m2[24m900 fema~</span></span>
<span id="cb119-55"><a href="dplyr.html#cb119-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           33.5          19                190        [4m3[24m600 fema~</span></span>
<span id="cb119-56"><a href="dplyr.html#cb119-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Dream            34            17.1              185        [4m3[24m400 fema~</span></span>
<span id="cb119-57"><a href="dplyr.html#cb119-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           34.1          18.1              193        [4m3[24m475 [31mNA[39m   </span></span>
<span id="cb119-58"><a href="dplyr.html#cb119-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           34.4          18.4              184        [4m3[24m325 fema~</span></span>
<span id="cb119-59"><a href="dplyr.html#cb119-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="filter" class="section level3" number="5.8.10">
<h3><span class="header-section-number">5.8.10</span> filter()</h3>
<p>Uma das principais e mais usuais operações que podemos realizar em linhas é a seleção de linhas através do filtro por valores de uma ou mais colunas, utilizando a função <code>dplyr::filter()</code>. Para realizar os filtros utilizaremos grande parte dos operadores relacionais e lógicos que listamos na Tabela <a href="funcionamento-da-linguagem-r.html#tab:tab-operadores">4.1</a>, especialmente os lógicos para combinações de filtros em mais de uma coluna. Além desses operadores, podemos utilizar a função <code>is.na()</code> para filtros em elementos faltantes, e as funções <code>dplyr::between()</code> e <code>dplyr::near()</code> para filtros entre valores, e para valores próximos com certa tolerância, respectivamente. Por fim, podemos usar as funções de replicação para filtro das linhas para mais de uma coluna, dependendo de resultados booleanos.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="dplyr.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Filtrar linhas</span></span>
<span id="cb120-2"><a href="dplyr.html#cb120-2" aria-hidden="true" tabindex="-1"></a>penguins_filter <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb120-3"><a href="dplyr.html#cb120-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Adelie&quot;</span>)</span>
<span id="cb120-4"><a href="dplyr.html#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_filter)</span>
<span id="cb120-5"><a href="dplyr.html#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb120-6"><a href="dplyr.html#cb120-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb120-7"><a href="dplyr.html#cb120-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb120-8"><a href="dplyr.html#cb120-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb120-9"><a href="dplyr.html#cb120-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb120-10"><a href="dplyr.html#cb120-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb120-11"><a href="dplyr.html#cb120-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb120-12"><a href="dplyr.html#cb120-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb120-13"><a href="dplyr.html#cb120-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb120-14"><a href="dplyr.html#cb120-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb120-15"><a href="dplyr.html#cb120-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-16"><a href="dplyr.html#cb120-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Filtrar linhas</span></span>
<span id="cb120-17"><a href="dplyr.html#cb120-17" aria-hidden="true" tabindex="-1"></a>penguins_filter_two <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb120-18"><a href="dplyr.html#cb120-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Adelie&quot;</span> <span class="sc">&amp;</span> sex <span class="sc">==</span> <span class="st">&quot;female&quot;</span>)</span>
<span id="cb120-19"><a href="dplyr.html#cb120-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_filter_two)</span>
<span id="cb120-20"><a href="dplyr.html#cb120-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb120-21"><a href="dplyr.html#cb120-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb120-22"><a href="dplyr.html#cb120-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb120-23"><a href="dplyr.html#cb120-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb120-24"><a href="dplyr.html#cb120-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb120-25"><a href="dplyr.html#cb120-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb120-26"><a href="dplyr.html#cb120-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           38.9          17.8              181        [4m3[24m625 fema~</span></span>
<span id="cb120-27"><a href="dplyr.html#cb120-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           41.1          17.6              182        [4m3[24m200 fema~</span></span>
<span id="cb120-28"><a href="dplyr.html#cb120-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           36.6          17.8              185        [4m3[24m700 fema~</span></span>
<span id="cb120-29"><a href="dplyr.html#cb120-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb120-30"><a href="dplyr.html#cb120-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-31"><a href="dplyr.html#cb120-31" aria-hidden="true" tabindex="-1"></a><span class="do">## Filtrar linhas</span></span>
<span id="cb120-32"><a href="dplyr.html#cb120-32" aria-hidden="true" tabindex="-1"></a>penguins_filter_in <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb120-33"><a href="dplyr.html#cb120-33" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Adelie&quot;</span>, <span class="st">&quot;Gentoo&quot;</span>),</span>
<span id="cb120-34"><a href="dplyr.html#cb120-34" aria-hidden="true" tabindex="-1"></a>                sex <span class="sc">==</span> <span class="st">&quot;female&quot;</span>)</span>
<span id="cb120-35"><a href="dplyr.html#cb120-35" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_filter_in)</span>
<span id="cb120-36"><a href="dplyr.html#cb120-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb120-37"><a href="dplyr.html#cb120-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb120-38"><a href="dplyr.html#cb120-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb120-39"><a href="dplyr.html#cb120-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb120-40"><a href="dplyr.html#cb120-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb120-41"><a href="dplyr.html#cb120-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb120-42"><a href="dplyr.html#cb120-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           38.9          17.8              181        [4m3[24m625 fema~</span></span>
<span id="cb120-43"><a href="dplyr.html#cb120-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           41.1          17.6              182        [4m3[24m200 fema~</span></span>
<span id="cb120-44"><a href="dplyr.html#cb120-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           36.6          17.8              185        [4m3[24m700 fema~</span></span>
<span id="cb120-45"><a href="dplyr.html#cb120-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb120-46"><a href="dplyr.html#cb120-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-47"><a href="dplyr.html#cb120-47" aria-hidden="true" tabindex="-1"></a><span class="do">## Filtrar linhas - NA</span></span>
<span id="cb120-48"><a href="dplyr.html#cb120-48" aria-hidden="true" tabindex="-1"></a>penguins_filter_na <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb120-49"><a href="dplyr.html#cb120-49" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sex) <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb120-50"><a href="dplyr.html#cb120-50" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_filter_na)</span>
<span id="cb120-51"><a href="dplyr.html#cb120-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb120-52"><a href="dplyr.html#cb120-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb120-53"><a href="dplyr.html#cb120-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb120-54"><a href="dplyr.html#cb120-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb120-55"><a href="dplyr.html#cb120-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb120-56"><a href="dplyr.html#cb120-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb120-57"><a href="dplyr.html#cb120-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb120-58"><a href="dplyr.html#cb120-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb120-59"><a href="dplyr.html#cb120-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           38.9          17.8              181        [4m3[24m625 fema~</span></span>
<span id="cb120-60"><a href="dplyr.html#cb120-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb120-61"><a href="dplyr.html#cb120-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-62"><a href="dplyr.html#cb120-62" aria-hidden="true" tabindex="-1"></a><span class="do">## Filtrar linhas - intervalos</span></span>
<span id="cb120-63"><a href="dplyr.html#cb120-63" aria-hidden="true" tabindex="-1"></a>penguins_filter_between <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb120-64"><a href="dplyr.html#cb120-64" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">between</span>(body_mass_g, <span class="dv">3000</span>, <span class="dv">4000</span>))</span>
<span id="cb120-65"><a href="dplyr.html#cb120-65" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_filter_between)</span>
<span id="cb120-66"><a href="dplyr.html#cb120-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb120-67"><a href="dplyr.html#cb120-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb120-68"><a href="dplyr.html#cb120-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb120-69"><a href="dplyr.html#cb120-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb120-70"><a href="dplyr.html#cb120-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb120-71"><a href="dplyr.html#cb120-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb120-72"><a href="dplyr.html#cb120-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb120-73"><a href="dplyr.html#cb120-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb120-74"><a href="dplyr.html#cb120-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           38.9          17.8              181        [4m3[24m625 fema~</span></span>
<span id="cb120-75"><a href="dplyr.html#cb120-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb120-76"><a href="dplyr.html#cb120-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-77"><a href="dplyr.html#cb120-77" aria-hidden="true" tabindex="-1"></a><span class="do">## Filtrar linhas por várias colunas</span></span>
<span id="cb120-78"><a href="dplyr.html#cb120-78" aria-hidden="true" tabindex="-1"></a>penguins_filter_if <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb120-79"><a href="dplyr.html#cb120-79" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">if_all</span>(<span class="fu">where</span>(is.integer), <span class="sc">~</span> . <span class="sc">&gt;</span> <span class="dv">200</span>))</span>
<span id="cb120-80"><a href="dplyr.html#cb120-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_filter_if)</span>
<span id="cb120-81"><a href="dplyr.html#cb120-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb120-82"><a href="dplyr.html#cb120-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb120-83"><a href="dplyr.html#cb120-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb120-84"><a href="dplyr.html#cb120-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Dream            35.7          18                202        [4m3[24m550 fema~</span></span>
<span id="cb120-85"><a href="dplyr.html#cb120-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Dream            41.1          18.1              205        [4m4[24m300 male </span></span>
<span id="cb120-86"><a href="dplyr.html#cb120-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Dream            40.8          18.9              208        [4m4[24m300 male </span></span>
<span id="cb120-87"><a href="dplyr.html#cb120-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Biscoe           41            20                203        [4m4[24m725 male </span></span>
<span id="cb120-88"><a href="dplyr.html#cb120-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           41.4          18.5              202        [4m3[24m875 male </span></span>
<span id="cb120-89"><a href="dplyr.html#cb120-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           44.1          18                210        [4m4[24m000 male </span></span>
<span id="cb120-90"><a href="dplyr.html#cb120-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="slice" class="section level3" number="5.8.11">
<h3><span class="header-section-number">5.8.11</span> slice()</h3>
<p>Além da seleção de linhas por filtros, podemos fazer a seleção das linhas por intervalos, indicando quais linhas desejamos, usando a função <code>dplyr::slice()</code>, e informando o argumento <code>n</code> para o número da linha ou intervalo das linhas. Essa função possui variações no sufixo muito interessantes: <code>dplyr::slice_head()</code> e <code>dplyr::slice_tail()</code> seleciona as primeiras e últimas linhas, <code>dplyr::slice_min()</code> e <code>dplyr::slice_max()</code> seleciona linhas com os maiores e menores valores de uma coluna, e <code>dplyr::slice_sample()</code> seleciona linhas aleatoriamente.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="dplyr.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Seleciona linhas</span></span>
<span id="cb121-2"><a href="dplyr.html#cb121-2" aria-hidden="true" tabindex="-1"></a>penguins_slice <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb121-3"><a href="dplyr.html#cb121-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="at">n =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">300</span><span class="sc">:</span><span class="fu">n</span>()))</span>
<span id="cb121-4"><a href="dplyr.html#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_slice)</span>
<span id="cb121-5"><a href="dplyr.html#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb121-6"><a href="dplyr.html#cb121-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb121-7"><a href="dplyr.html#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb121-8"><a href="dplyr.html#cb121-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb121-9"><a href="dplyr.html#cb121-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb121-10"><a href="dplyr.html#cb121-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Chinst~ Dream            50.6          19.4              193        [4m3[24m800 male </span></span>
<span id="cb121-11"><a href="dplyr.html#cb121-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Chinst~ Dream            46.7          17.9              195        [4m3[24m300 fema~</span></span>
<span id="cb121-12"><a href="dplyr.html#cb121-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Chinst~ Dream            52            19                197        [4m4[24m150 male </span></span>
<span id="cb121-13"><a href="dplyr.html#cb121-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Chinst~ Dream            50.5          18.4              200        [4m3[24m400 fema~</span></span>
<span id="cb121-14"><a href="dplyr.html#cb121-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb121-15"><a href="dplyr.html#cb121-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-16"><a href="dplyr.html#cb121-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Seleciona linhas - head</span></span>
<span id="cb121-17"><a href="dplyr.html#cb121-17" aria-hidden="true" tabindex="-1"></a>penguins_slice_head <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb121-18"><a href="dplyr.html#cb121-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb121-19"><a href="dplyr.html#cb121-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_slice_head)</span>
<span id="cb121-20"><a href="dplyr.html#cb121-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 5 x 8[39m</span></span>
<span id="cb121-21"><a href="dplyr.html#cb121-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb121-22"><a href="dplyr.html#cb121-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb121-23"><a href="dplyr.html#cb121-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb121-24"><a href="dplyr.html#cb121-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb121-25"><a href="dplyr.html#cb121-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb121-26"><a href="dplyr.html#cb121-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb121-27"><a href="dplyr.html#cb121-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb121-28"><a href="dplyr.html#cb121-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb121-29"><a href="dplyr.html#cb121-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-30"><a href="dplyr.html#cb121-30" aria-hidden="true" tabindex="-1"></a><span class="do">## Seleciona linhas - max</span></span>
<span id="cb121-31"><a href="dplyr.html#cb121-31" aria-hidden="true" tabindex="-1"></a>penguins_slice_max <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb121-32"><a href="dplyr.html#cb121-32" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_max</span>(body_mass_g, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb121-33"><a href="dplyr.html#cb121-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_slice_max)</span>
<span id="cb121-34"><a href="dplyr.html#cb121-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb121-35"><a href="dplyr.html#cb121-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb121-36"><a href="dplyr.html#cb121-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb121-37"><a href="dplyr.html#cb121-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Gentoo  Biscoe           49.2          15.2              221        [4m6[24m300 male </span></span>
<span id="cb121-38"><a href="dplyr.html#cb121-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Gentoo  Biscoe           59.6          17                230        [4m6[24m050 male </span></span>
<span id="cb121-39"><a href="dplyr.html#cb121-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Gentoo  Biscoe           51.1          16.3              220        [4m6[24m000 male </span></span>
<span id="cb121-40"><a href="dplyr.html#cb121-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Gentoo  Biscoe           48.8          16.2              222        [4m6[24m000 male </span></span>
<span id="cb121-41"><a href="dplyr.html#cb121-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Gentoo  Biscoe           45.2          16.4              223        [4m5[24m950 male </span></span>
<span id="cb121-42"><a href="dplyr.html#cb121-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Gentoo  Biscoe           49.8          15.9              229        [4m5[24m950 male </span></span>
<span id="cb121-43"><a href="dplyr.html#cb121-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb121-44"><a href="dplyr.html#cb121-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-45"><a href="dplyr.html#cb121-45" aria-hidden="true" tabindex="-1"></a><span class="do">## Seleciona linhas - sample</span></span>
<span id="cb121-46"><a href="dplyr.html#cb121-46" aria-hidden="true" tabindex="-1"></a>penguins_slice_sample <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb121-47"><a href="dplyr.html#cb121-47" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">30</span>)</span>
<span id="cb121-48"><a href="dplyr.html#cb121-48" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_slice_sample)</span>
<span id="cb121-49"><a href="dplyr.html#cb121-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb121-50"><a href="dplyr.html#cb121-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb121-51"><a href="dplyr.html#cb121-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb121-52"><a href="dplyr.html#cb121-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Gentoo  Biscoe           47.3          13.8              216        [4m4[24m725 [31mNA[39m   </span></span>
<span id="cb121-53"><a href="dplyr.html#cb121-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Biscoe           40.5          17.9              187        [4m3[24m200 fema~</span></span>
<span id="cb121-54"><a href="dplyr.html#cb121-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb121-55"><a href="dplyr.html#cb121-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Gentoo  Biscoe           45.4          14.6              211        [4m4[24m800 fema~</span></span>
<span id="cb121-56"><a href="dplyr.html#cb121-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Dream            41.1          17.5              190        [4m3[24m900 male </span></span>
<span id="cb121-57"><a href="dplyr.html#cb121-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           38.8          17.6              191        [4m3[24m275 fema~</span></span>
<span id="cb121-58"><a href="dplyr.html#cb121-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="distinct" class="section level3" number="5.8.12">
<h3><span class="header-section-number">5.8.12</span> distinct()</h3>
<p>A última operação que apresentaremos para linhas é a retirada de linhas com valores repetidos com base nos valores de colunas, utilizando a função <code>dplyr::distinct()</code>. Essa função por padrão retorna apenas a coluna utilizada para retirar as linhas com valores repetidos, sendo necessário acrescentar o argumento <code>.keep_all = TRUE</code> para retornar todas as colunas. Por fim, podemos usar as funções de replicação para retirar linhas com valores repetidos para mais de uma coluna, dependendo de resultados booleanos.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="dplyr.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Retirar linhas com valores repetidos</span></span>
<span id="cb122-2"><a href="dplyr.html#cb122-2" aria-hidden="true" tabindex="-1"></a>penguins_distinct <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb122-3"><a href="dplyr.html#cb122-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(body_mass_g)</span>
<span id="cb122-4"><a href="dplyr.html#cb122-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_distinct)</span>
<span id="cb122-5"><a href="dplyr.html#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 1[39m</span></span>
<span id="cb122-6"><a href="dplyr.html#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mbody_mass_g[22m</span></span>
<span id="cb122-7"><a href="dplyr.html#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb122-8"><a href="dplyr.html#cb122-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m        [4m3[24m750</span></span>
<span id="cb122-9"><a href="dplyr.html#cb122-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m        [4m3[24m800</span></span>
<span id="cb122-10"><a href="dplyr.html#cb122-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m        [4m3[24m250</span></span>
<span id="cb122-11"><a href="dplyr.html#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m          [31mNA[39m</span></span>
<span id="cb122-12"><a href="dplyr.html#cb122-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m        [4m3[24m450</span></span>
<span id="cb122-13"><a href="dplyr.html#cb122-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m        [4m3[24m650</span></span>
<span id="cb122-14"><a href="dplyr.html#cb122-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-15"><a href="dplyr.html#cb122-15" aria-hidden="true" tabindex="-1"></a><span class="do">## Retirar linhas com valores repetidos - manter as outras colunas</span></span>
<span id="cb122-16"><a href="dplyr.html#cb122-16" aria-hidden="true" tabindex="-1"></a>penguins_distinct_keep_all <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb122-17"><a href="dplyr.html#cb122-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(body_mass_g, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb122-18"><a href="dplyr.html#cb122-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_distinct_keep_all)</span>
<span id="cb122-19"><a href="dplyr.html#cb122-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb122-20"><a href="dplyr.html#cb122-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb122-21"><a href="dplyr.html#cb122-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb122-22"><a href="dplyr.html#cb122-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb122-23"><a href="dplyr.html#cb122-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb122-24"><a href="dplyr.html#cb122-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb122-25"><a href="dplyr.html#cb122-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb122-26"><a href="dplyr.html#cb122-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb122-27"><a href="dplyr.html#cb122-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb122-28"><a href="dplyr.html#cb122-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb122-29"><a href="dplyr.html#cb122-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-30"><a href="dplyr.html#cb122-30" aria-hidden="true" tabindex="-1"></a><span class="do">## Retirar linhas com valores repetidos para várias colunas</span></span>
<span id="cb122-31"><a href="dplyr.html#cb122-31" aria-hidden="true" tabindex="-1"></a>penguins_distinct_keep_all_across <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb122-32"><a href="dplyr.html#cb122-32" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.integer)), <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb122-33"><a href="dplyr.html#cb122-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_distinct_keep_all_across)</span>
<span id="cb122-34"><a href="dplyr.html#cb122-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb122-35"><a href="dplyr.html#cb122-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb122-36"><a href="dplyr.html#cb122-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb122-37"><a href="dplyr.html#cb122-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb122-38"><a href="dplyr.html#cb122-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb122-39"><a href="dplyr.html#cb122-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb122-40"><a href="dplyr.html#cb122-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb122-41"><a href="dplyr.html#cb122-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb122-42"><a href="dplyr.html#cb122-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb122-43"><a href="dplyr.html#cb122-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="count" class="section level3" number="5.8.13">
<h3><span class="header-section-number">5.8.13</span> count()</h3>
<p>Agora entraremos no assunto de resumo das observações. Podemos fazer contagens resumos dos nossos dados, utilizando para isso a função <code>dplyr::count()</code>. Essa função contará valores de uma ou mais colunas, geralmente para variáveis categóricas, semelhante à função Base R <code>table()</code>, mas num contexto <em>tidyverse</em>.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="dplyr.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Contagens de valores para uma coluna</span></span>
<span id="cb123-2"><a href="dplyr.html#cb123-2" aria-hidden="true" tabindex="-1"></a>penguins_count <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb123-3"><a href="dplyr.html#cb123-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(species)</span>
<span id="cb123-4"><a href="dplyr.html#cb123-4" aria-hidden="true" tabindex="-1"></a>penguins_count</span>
<span id="cb123-5"><a href="dplyr.html#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 3 x 2[39m</span></span>
<span id="cb123-6"><a href="dplyr.html#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m       [1mn[22m</span></span>
<span id="cb123-7"><a href="dplyr.html#cb123-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m     [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb123-8"><a href="dplyr.html#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie      152</span></span>
<span id="cb123-9"><a href="dplyr.html#cb123-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Chinstrap    68</span></span>
<span id="cb123-10"><a href="dplyr.html#cb123-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Gentoo      124</span></span>
<span id="cb123-11"><a href="dplyr.html#cb123-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-12"><a href="dplyr.html#cb123-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Contagens de valores para mais de uma coluna</span></span>
<span id="cb123-13"><a href="dplyr.html#cb123-13" aria-hidden="true" tabindex="-1"></a>penguins_count_two <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb123-14"><a href="dplyr.html#cb123-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(species, island)</span>
<span id="cb123-15"><a href="dplyr.html#cb123-15" aria-hidden="true" tabindex="-1"></a>penguins_count_two</span>
<span id="cb123-16"><a href="dplyr.html#cb123-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 5 x 3[39m</span></span>
<span id="cb123-17"><a href="dplyr.html#cb123-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m   [1misland[22m        [1mn[22m</span></span>
<span id="cb123-18"><a href="dplyr.html#cb123-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m     [3m[90m&lt;fct&gt;[39m[23m     [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb123-19"><a href="dplyr.html#cb123-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie    Biscoe       44</span></span>
<span id="cb123-20"><a href="dplyr.html#cb123-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie    Dream        56</span></span>
<span id="cb123-21"><a href="dplyr.html#cb123-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie    Torgersen    52</span></span>
<span id="cb123-22"><a href="dplyr.html#cb123-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Chinstrap Dream        68</span></span>
<span id="cb123-23"><a href="dplyr.html#cb123-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Gentoo    Biscoe      124</span></span></code></pre></div>
</div>
<div id="group_by" class="section level3" number="5.8.14">
<h3><span class="header-section-number">5.8.14</span> group_by()</h3>
<p>Uma grande parte das operações feitas nos dados são realizadas em grupos definidos por valores de colunas ou variáveis categóricas. A função <code>dplyr::group_by()</code> transforma um <code>tibble</code> em um <code>tibble</code> agrupado, onde as operações são realizadas “por grupo.” Essa função é utilizada geralmente junto com a função <code>dplyr::summarise()</code>, que veremos logo em seguida. O agrupamento não altera a aparência dos dados (além de informar como estão agrupados). A função <code>dplyr::ungroup()</code> remove o agrupamento. Podemos ainda usar funções de replicação para fazer os agrupamentos para mais de uma coluna, dependendo de resultados booleanos.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="dplyr.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Agrupamento</span></span>
<span id="cb124-2"><a href="dplyr.html#cb124-2" aria-hidden="true" tabindex="-1"></a>penguins_group_by <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb124-3"><a href="dplyr.html#cb124-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(species)</span>
<span id="cb124-4"><a href="dplyr.html#cb124-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_group_by)</span>
<span id="cb124-5"><a href="dplyr.html#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb124-6"><a href="dplyr.html#cb124-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# Groups:   species [1][39m</span></span>
<span id="cb124-7"><a href="dplyr.html#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb124-8"><a href="dplyr.html#cb124-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb124-9"><a href="dplyr.html#cb124-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb124-10"><a href="dplyr.html#cb124-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb124-11"><a href="dplyr.html#cb124-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb124-12"><a href="dplyr.html#cb124-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb124-13"><a href="dplyr.html#cb124-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb124-14"><a href="dplyr.html#cb124-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb124-15"><a href="dplyr.html#cb124-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb124-16"><a href="dplyr.html#cb124-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-17"><a href="dplyr.html#cb124-17" aria-hidden="true" tabindex="-1"></a><span class="do">## Agrupamento de várias colunas</span></span>
<span id="cb124-18"><a href="dplyr.html#cb124-18" aria-hidden="true" tabindex="-1"></a>penguins_group_by_across <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb124-19"><a href="dplyr.html#cb124-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.factor)))</span>
<span id="cb124-20"><a href="dplyr.html#cb124-20" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_group_by_across)</span>
<span id="cb124-21"><a href="dplyr.html#cb124-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 8[39m</span></span>
<span id="cb124-22"><a href="dplyr.html#cb124-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# Groups:   species, island, sex [3][39m</span></span>
<span id="cb124-23"><a href="dplyr.html#cb124-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb124-24"><a href="dplyr.html#cb124-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb124-25"><a href="dplyr.html#cb124-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb124-26"><a href="dplyr.html#cb124-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb124-27"><a href="dplyr.html#cb124-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb124-28"><a href="dplyr.html#cb124-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb124-29"><a href="dplyr.html#cb124-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb124-30"><a href="dplyr.html#cb124-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb124-31"><a href="dplyr.html#cb124-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 1 more variable: [1myear[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="summarise" class="section level3" number="5.8.15">
<h3><span class="header-section-number">5.8.15</span> summarise()</h3>
<p>Como dissemos, muitas vezes queremos resumir nossos dados, principalmente para ter uma noção geral das variáveis (colunas) ou mesmo começar a análise exploratória resumindo variáveis contínuas por grupos de variáveis categóricas. Dessa forma, ao utilizar a função <code>dplyr::summarise()</code> teremos um novo <code>tibble</code> com os dados resumidos, que é a agregação ou resumo dos dados através de funções. Da mesma forma que outras funções, podemos usar funções de replicação para resumir valores para mais de uma coluna, dependendo de resultados booleanos.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="dplyr.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Resumo</span></span>
<span id="cb125-2"><a href="dplyr.html#cb125-2" aria-hidden="true" tabindex="-1"></a>penguins_summarise <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb125-3"><a href="dplyr.html#cb125-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb125-4"><a href="dplyr.html#cb125-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">body_mass_g_mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb125-5"><a href="dplyr.html#cb125-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">body_mass_g_sd =</span> <span class="fu">sd</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb125-6"><a href="dplyr.html#cb125-6" aria-hidden="true" tabindex="-1"></a>penguins_summarise</span>
<span id="cb125-7"><a href="dplyr.html#cb125-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 3 x 3[39m</span></span>
<span id="cb125-8"><a href="dplyr.html#cb125-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m   [1mbody_mass_g_mean[22m [1mbody_mass_g_sd[22m</span></span>
<span id="cb125-9"><a href="dplyr.html#cb125-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m                [3m[90m&lt;dbl&gt;[39m[23m          [3m[90m&lt;dbl&gt;[39m[23m</span></span>
<span id="cb125-10"><a href="dplyr.html#cb125-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie               [4m3[24m701.           459.</span></span>
<span id="cb125-11"><a href="dplyr.html#cb125-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Chinstrap            [4m3[24m733.           384.</span></span>
<span id="cb125-12"><a href="dplyr.html#cb125-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Gentoo               [4m5[24m076.           504.</span></span>
<span id="cb125-13"><a href="dplyr.html#cb125-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-14"><a href="dplyr.html#cb125-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Resumo para várias colunas</span></span>
<span id="cb125-15"><a href="dplyr.html#cb125-15" aria-hidden="true" tabindex="-1"></a>penguins_summarise_across <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb125-16"><a href="dplyr.html#cb125-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb125-17"><a href="dplyr.html#cb125-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="sc">~</span> <span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb125-18"><a href="dplyr.html#cb125-18" aria-hidden="true" tabindex="-1"></a>penguins_summarise_across</span>
<span id="cb125-19"><a href="dplyr.html#cb125-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 3 x 6[39m</span></span>
<span id="cb125-20"><a href="dplyr.html#cb125-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m   [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_mm[22m [1mbody_mass_g[22m  [1myear[22m</span></span>
<span id="cb125-21"><a href="dplyr.html#cb125-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m              [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m             [3m[90m&lt;dbl&gt;[39m[23m       [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;dbl&gt;[39m[23m</span></span>
<span id="cb125-22"><a href="dplyr.html#cb125-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie              38.8          18.3              190.       [4m3[24m701. [4m2[24m008.</span></span>
<span id="cb125-23"><a href="dplyr.html#cb125-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Chinstrap           48.8          18.4              196.       [4m3[24m733. [4m2[24m008.</span></span>
<span id="cb125-24"><a href="dplyr.html#cb125-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Gentoo              47.5          15.0              217.       [4m5[24m076. [4m2[24m008.</span></span></code></pre></div>
</div>
<div id="bind_rows-e-bind_cols" class="section level3" number="5.8.16">
<h3><span class="header-section-number">5.8.16</span> bind_rows() e bind_cols()</h3>
<p>Muitas vezes teremos de combinar duas ou mais tabelas de dados. Podemos utilizar as funções Base R <code>rbind()</code> e <code>cbind()</code>, como vimos. Entretanto, pode ser interessante avançar para as funções <code>dplyr::bind_rows()</code> e <code>dplyr::bind_cols()</code> do formato <em>tidyverse</em>. A ideia é muito semelhante: a primeira função combina dados por linhas e a segunda por colunas. Entretanto, há vantagens no uso dessas funções, como a identificação das linhas pelo argumento <code>.id</code> para a primeira função, e a conferência do nome das colunas pelo argumento <code>.name_repair</code> para a segunda função.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="dplyr.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Selecionar as linhas para dois tibbles</span></span>
<span id="cb126-2"><a href="dplyr.html#cb126-2" aria-hidden="true" tabindex="-1"></a>penguins_01 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">slice</span>(penguins, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb126-3"><a href="dplyr.html#cb126-3" aria-hidden="true" tabindex="-1"></a>penguins_02 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">slice</span>(penguins, <span class="dv">51</span><span class="sc">:</span><span class="dv">55</span>)</span>
<span id="cb126-4"><a href="dplyr.html#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="dplyr.html#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Combinar as linhas</span></span>
<span id="cb126-6"><a href="dplyr.html#cb126-6" aria-hidden="true" tabindex="-1"></a>penguins_bind_rows <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(penguins_01, penguins_02, <span class="at">.id =</span> <span class="st">&quot;id&quot;</span>)</span>
<span id="cb126-7"><a href="dplyr.html#cb126-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_bind_rows)</span>
<span id="cb126-8"><a href="dplyr.html#cb126-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 9[39m</span></span>
<span id="cb126-9"><a href="dplyr.html#cb126-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mid[22m    [1mspecies[22m [1misland[22m    [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m</span></span>
<span id="cb126-10"><a href="dplyr.html#cb126-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;chr&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;fct&gt;[39m[23m              [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb126-11"><a href="dplyr.html#cb126-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m 1     Adelie  Torgersen           39.1          18.7              181        [4m3[24m750</span></span>
<span id="cb126-12"><a href="dplyr.html#cb126-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m 1     Adelie  Torgersen           39.5          17.4              186        [4m3[24m800</span></span>
<span id="cb126-13"><a href="dplyr.html#cb126-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m 1     Adelie  Torgersen           40.3          18                195        [4m3[24m250</span></span>
<span id="cb126-14"><a href="dplyr.html#cb126-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m 1     Adelie  Torgersen           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m</span></span>
<span id="cb126-15"><a href="dplyr.html#cb126-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m 1     Adelie  Torgersen           36.7          19.3              193        [4m3[24m450</span></span>
<span id="cb126-16"><a href="dplyr.html#cb126-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m 2     Adelie  Biscoe              39.6          17.7              186        [4m3[24m500</span></span>
<span id="cb126-17"><a href="dplyr.html#cb126-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 2 more variables: [1msex[22m &lt;fct&gt;, [1myear[22m &lt;int&gt;[39m</span></span>
<span id="cb126-18"><a href="dplyr.html#cb126-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-19"><a href="dplyr.html#cb126-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Combinar as colunas</span></span>
<span id="cb126-20"><a href="dplyr.html#cb126-20" aria-hidden="true" tabindex="-1"></a>penguins_bind_cols <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(penguins_01, penguins_02, <span class="at">.name_repair =</span> <span class="st">&quot;unique&quot;</span>)</span>
<span id="cb126-21"><a href="dplyr.html#cb126-21" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_bind_cols)</span>
<span id="cb126-22"><a href="dplyr.html#cb126-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 5 x 16[39m</span></span>
<span id="cb126-23"><a href="dplyr.html#cb126-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies...1[22m [1misland...2[22m [1mbill_length_mm...3[22m [1mbill_depth_mm...4[22m [1mflipper_length_mm~[22m</span></span>
<span id="cb126-24"><a href="dplyr.html#cb126-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m       [3m[90m&lt;fct&gt;[39m[23m                   [3m[90m&lt;dbl&gt;[39m[23m             [3m[90m&lt;dbl&gt;[39m[23m              [3m[90m&lt;int&gt;[39m[23m</span></span>
<span id="cb126-25"><a href="dplyr.html#cb126-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie      Torgersen                39.1              18.7                181</span></span>
<span id="cb126-26"><a href="dplyr.html#cb126-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie      Torgersen                39.5              17.4                186</span></span>
<span id="cb126-27"><a href="dplyr.html#cb126-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie      Torgersen                40.3              18                  195</span></span>
<span id="cb126-28"><a href="dplyr.html#cb126-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie      Torgersen                [31mNA[39m                [31mNA[39m                   [31mNA[39m</span></span>
<span id="cb126-29"><a href="dplyr.html#cb126-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie      Torgersen                36.7              19.3                193</span></span>
<span id="cb126-30"><a href="dplyr.html#cb126-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 11 more variables: [1mbody_mass_g...6[22m &lt;int&gt;, [1msex...7[22m &lt;fct&gt;,[39m</span></span>
<span id="cb126-31"><a href="dplyr.html#cb126-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m#   [1myear...8[22m &lt;int&gt;, [1mspecies...9[22m &lt;fct&gt;, [1misland...10[22m &lt;fct&gt;,[39m</span></span>
<span id="cb126-32"><a href="dplyr.html#cb126-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m#   [1mbill_length_mm...11[22m &lt;dbl&gt;, [1mbill_depth_mm...12[22m &lt;dbl&gt;,[39m</span></span>
<span id="cb126-33"><a href="dplyr.html#cb126-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m#   [1mflipper_length_mm...13[22m &lt;int&gt;, [1mbody_mass_g...14[22m &lt;int&gt;, [1msex...15[22m &lt;fct&gt;,[39m</span></span>
<span id="cb126-34"><a href="dplyr.html#cb126-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m#   [1myear...16[22m &lt;int&gt;[39m</span></span></code></pre></div>
</div>
<div id="join" class="section level3" number="5.8.17">
<h3><span class="header-section-number">5.8.17</span> *_join()</h3>
<p>Finalmente, veremos o último conjunto de funções do pacote <code>dplyr</code>, a junção de tabelas. Nessa operação, fazemos a combinação de pares de conjunto de dados tabulares por uma ou mais colunas chaves. Há dois tipos de junções: junção de mutação e junção de filtragem. A junção de mutação primeiro combina as observações por suas chaves e, em seguida, copia as variáveis (colunas) de uma tabela para a outra. É fundamental destacar a importância da coluna chave, que é indicada pelo argumento <code>by</code>. Essa coluna deve conter elementos que sejam comuns às duas tabelas para que haja a combinação dos elementos.</p>
<p>Existem quatro tipos de junções, que são realizadas pelas funções: <code>dplyr::inner_join()</code>, <code>dplyr::left_join()</code>, <code>dplyr::full_join()</code> e <code>dplyr::right_join()</code>, e que podem ser representadas na Figura <a href="dplyr.html#fig:fig-r-join">5.3</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig-r-join"></span>
<img src="img/cap05_fig03.png" alt="Diferentes tipos de joins, representados com um diagrama de Venn. Adaptado de: @wickham2017." width="70%" />
<p class="caption">
Figura 5.3: Diferentes tipos de joins, representados com um diagrama de Venn. Adaptado de: <span class="citation"><a href="#ref-wickham2017" role="doc-biblioref">Wickham and Grolemund</a> (<a href="#ref-wickham2017" role="doc-biblioref">2017</a>)</span>.
</p>
</div>
<p>Considerando a nomenclatura de duas tabelas de dados por <code>x</code> e <code>y</code>, temos:</p>
<ul>
<li><code>inner_join(x, y)</code>: mantém apenas as observações em <code>x</code> e em <code>y</code></li>
<li><code>left_join(x, y)</code>: mantém todas as observações em <code>x</code></li>
<li><code>right_join(x, y)</code>: mantém todas as observações em <code>y</code></li>
<li><code>full_join(x, y)</code>: mantém todas as observações em <code>x</code> e em <code>y</code></li>
</ul>
<p>Aqui, vamos demostrar apenas a função <code>dplyr::left_join()</code>, combinando um <code>tibble</code> de coordenadas geográficas das ilhas com o conjunto de dados do penguins.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="dplyr.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Adicionar uma coluna chave de ids</span></span>
<span id="cb127-2"><a href="dplyr.html#cb127-2" aria-hidden="true" tabindex="-1"></a>penguin_islands <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb127-3"><a href="dplyr.html#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">island =</span> <span class="fu">c</span>(<span class="st">&quot;Torgersen&quot;</span>, <span class="st">&quot;Biscoe&quot;</span>, <span class="st">&quot;Dream&quot;</span>, <span class="st">&quot;Alpha&quot;</span>),</span>
<span id="cb127-4"><a href="dplyr.html#cb127-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">longitude =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">64.083333</span>, <span class="sc">-</span><span class="fl">63.775636</span>, <span class="sc">-</span><span class="fl">64.233333</span>, <span class="sc">-</span><span class="dv">63</span>),</span>
<span id="cb127-5"><a href="dplyr.html#cb127-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">latitude =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">64.766667</span>, <span class="sc">-</span><span class="fl">64.818569</span>, <span class="sc">-</span><span class="fl">64.733333</span>, <span class="sc">-</span><span class="fl">64.316667</span>))</span>
<span id="cb127-6"><a href="dplyr.html#cb127-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb127-7"><a href="dplyr.html#cb127-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Junção - left</span></span>
<span id="cb127-8"><a href="dplyr.html#cb127-8" aria-hidden="true" tabindex="-1"></a>penguins_left_join <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">left_join</span>(penguins, penguin_islands, <span class="at">by =</span> <span class="st">&quot;island&quot;</span>)</span>
<span id="cb127-9"><a href="dplyr.html#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_left_join)</span>
<span id="cb127-10"><a href="dplyr.html#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# A tibble: 6 x 10[39m</span></span>
<span id="cb127-11"><a href="dplyr.html#cb127-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1mspecies[22m [1misland[22m [1mbill_length_mm[22m [1mbill_depth_mm[22m [1mflipper_length_~[22m [1mbody_mass_g[22m [1msex[22m  </span></span>
<span id="cb127-12"><a href="dplyr.html#cb127-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3m[90m&lt;fct&gt;[39m[23m   [3m[90m&lt;chr&gt;[39m[23m           [3m[90m&lt;dbl&gt;[39m[23m         [3m[90m&lt;dbl&gt;[39m[23m            [3m[90m&lt;int&gt;[39m[23m       [3m[90m&lt;int&gt;[39m[23m [3m[90m&lt;fct&gt;[39m[23m</span></span>
<span id="cb127-13"><a href="dplyr.html#cb127-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m1[39m Adelie  Torge~           39.1          18.7              181        [4m3[24m750 male </span></span>
<span id="cb127-14"><a href="dplyr.html#cb127-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m2[39m Adelie  Torge~           39.5          17.4              186        [4m3[24m800 fema~</span></span>
<span id="cb127-15"><a href="dplyr.html#cb127-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m3[39m Adelie  Torge~           40.3          18                195        [4m3[24m250 fema~</span></span>
<span id="cb127-16"><a href="dplyr.html#cb127-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m4[39m Adelie  Torge~           [31mNA[39m            [31mNA[39m                 [31mNA[39m          [31mNA[39m [31mNA[39m   </span></span>
<span id="cb127-17"><a href="dplyr.html#cb127-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m5[39m Adelie  Torge~           36.7          19.3              193        [4m3[24m450 fema~</span></span>
<span id="cb127-18"><a href="dplyr.html#cb127-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m6[39m Adelie  Torge~           39.3          20.6              190        [4m3[24m650 male </span></span>
<span id="cb127-19"><a href="dplyr.html#cb127-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [90m# ... with 3 more variables: [1myear[22m &lt;int&gt;, [1mlongitude[22m &lt;dbl&gt;, [1mlatitude[22m &lt;dbl&gt;[39m</span></span></code></pre></div>
<p>Já a junção de filtragem combina as observações da mesma maneira que as junções de mutação, mas afetam as observações (linhas), não as variáveis (colunas). Existem dois tipos.</p>
<ul>
<li><code>semi_join(x, y)</code>: mantém todas as observações em <code>x</code> que têm uma correspondência em <code>y</code></li>
<li><code>anti_join(x, y)</code>: elimina todas as observações em <code>x</code> que têm uma correspondência em <code>y</code></li>
</ul>
<p><em>Semi-joins</em> são úteis para corresponder tabelas de resumo filtradas de volta às linhas originais, removendo as linhas que não estavam antes do join. <em>Anti-joins</em> são úteis para diagnosticar incompatibilidades de junção, por exemplo, ao verificar os elementos que não combinam entre duas tabelas de dados.</p>
</div>
<div id="operações-de-conjuntos-e-comparação-de-dados" class="section level3" number="5.8.18">
<h3><span class="header-section-number">5.8.18</span> Operações de conjuntos e comparação de dados</h3>
<p>Temos ainda operações de conjuntos e comparação de dados.</p>
<ul>
<li><code>union(x, y)</code>: retorna todas as linhas que aparecem em <code>x</code>, <code>y</code> ou mais dos conjuntos de dados</li>
<li><code>interesect(x, y)</code>: retorna apenas as linhas que aparecem em <code>x</code> e em <code>y</code></li>
<li><code>setdiff(x, y)</code>: retorna as linhas que aparecem <code>x</code>, mas não em <code>y</code></li>
<li><code>setequal(x, y)</code>: retorna se <code>x</code> e <code>y</code> são iguais e quais suas diferenças</li>
</ul>
<p>Para se aprofundar no tema, recomendamos a leitura do Capítulo <a href="https://r4ds.had.co.nz/relational-data.html">13 Relational data</a> de <span class="citation"><a href="#ref-wickham2017" role="doc-biblioref">Wickham and Grolemund</a> (<a href="#ref-wickham2017" role="doc-biblioref">2017</a>)</span>.</p>
</div>
</div>
<h3>Referências</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-wickham2017" class="csl-entry">
Wickham, Hadley, and Garrett Grolemund. 2017. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. First edition. Sebastopol, CA: O’Reilly.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tidyr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="stringr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/paternogbc/livro_aer/edit/master/05_tidyverse.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/paternogbc/livro_aer/blob/master/05_tidyverse.Rmd",
"text": null
},
"download": ["livro.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
